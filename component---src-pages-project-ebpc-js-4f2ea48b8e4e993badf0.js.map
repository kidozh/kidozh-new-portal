{"version":3,"file":"component---src-pages-project-ebpc-js-4f2ea48b8e4e993badf0.js","mappings":"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","sources":["webpack://gatsby-starter-default/./node_modules/gatsby-plugin-react-i18next/dist/useI18next.js","webpack://gatsby-starter-default/./node_modules/gatsby-plugin-react-i18next/dist/Link.js","webpack://gatsby-starter-default/./src/components/lang-switch.js","webpack://gatsby-starter-default/./src/components/header.js","webpack://gatsby-starter-default/./src/components/footer.js","webpack://gatsby-starter-default/./src/components/layout.js","webpack://gatsby-starter-default/./node_modules/gatsby-plugin-react-i18next/index.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack://gatsby-starter-default/./src/components/ExponentialBackoffDemo.js","webpack://gatsby-starter-default/./src/components/BitDepthDemo.js","webpack://gatsby-starter-default/./src/components/ProducerConsumerDemo.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/math.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/compose.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/rotation.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/noop.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/clip/buffer.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/pointEqual.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/clip/rejoin.js","webpack://gatsby-starter-default/./node_modules/d3-array/src/fsum.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/cartesian.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/polygonContains.js","webpack://gatsby-starter-default/./node_modules/d3-array/src/merge.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/clip/index.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/clip/antimeridian.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/circle.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/clip/rectangle.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/clip/line.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/identity.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/transform.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/stream.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/path/bounds.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/projection/fit.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/projection/resample.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/projection/index.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/clip/circle.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/projection/mercator.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/path/area.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/path/centroid.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/path/context.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/path/measure.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/path/string.js","webpack://gatsby-starter-default/./node_modules/topojson-client/src/identity.js","webpack://gatsby-starter-default/./node_modules/topojson-client/src/feature.js","webpack://gatsby-starter-default/./node_modules/topojson-client/src/transform.js","webpack://gatsby-starter-default/./node_modules/topojson-client/src/reverse.js","webpack://gatsby-starter-default/./src/components/ConnectivityMap.js","webpack://gatsby-starter-default/./node_modules/d3-geo/src/path/index.js","webpack://gatsby-starter-default/./src/pages/project/ebpc.js","webpack://gatsby-starter-default/./src/components/seo.js","webpack://gatsby-starter-default/./src/images/project/china-scholarship-logo.jpg","webpack://gatsby-starter-default/./node_modules/gatsby-plugin-react-i18next/dist/index.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nexports.__esModule = true;\nexports.useI18next = void 0;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _reactI18next = require(\"react-i18next\");\nvar _react = require(\"react\");\nvar _gatsby = require(\"gatsby\");\nvar _i18nextContext = require(\"./i18nextContext\");\nvar _types = require(\"./types\");\nvar useI18next = function useI18next(ns, options) {\n  var _useTranslation = (0, _reactI18next.useTranslation)(ns, options),\n    i18n = _useTranslation.i18n,\n    t = _useTranslation.t,\n    ready = _useTranslation.ready;\n  var context = (0, _react.useContext)(_i18nextContext.I18nextContext);\n  var routed = context.routed,\n    defaultLanguage = context.defaultLanguage,\n    generateDefaultLanguagePage = context.generateDefaultLanguagePage;\n  var getLanguagePath = function getLanguagePath(language) {\n    return generateDefaultLanguagePage || language !== defaultLanguage ? \"/\" + language : '';\n  };\n  var removePrefix = function removePrefix(pathname) {\n    var base = typeof __BASE_PATH__ !== \"undefined\" ? __BASE_PATH__ : __PATH_PREFIX__;\n    if (base && pathname.indexOf(base) === 0) {\n      pathname = pathname.slice(base.length);\n    }\n    return pathname;\n  };\n  var removeLocalePart = function removeLocalePart(pathname) {\n    if (!routed) return pathname;\n    var i = pathname.indexOf(\"/\", 1);\n    return pathname.substring(i);\n  };\n  var navigate = function navigate(to, options) {\n    var languagePath = getLanguagePath(context.language);\n    var link = routed ? \"\" + languagePath + to : \"\" + to;\n    return (0, _gatsby.navigate)(link, options);\n  };\n  var changeLanguage = function changeLanguage(language, to, options) {\n    var languagePath = getLanguagePath(language);\n    var pathname = to || removeLocalePart(removePrefix(window.location.pathname));\n    var link = \"\" + languagePath + pathname + window.location.search;\n    localStorage.setItem(_types.LANGUAGE_KEY, language);\n    return (0, _gatsby.navigate)(link, options);\n  };\n  return (0, _extends2.default)({}, context, {\n    i18n: i18n,\n    t: t,\n    ready: ready,\n    navigate: navigate,\n    changeLanguage: changeLanguage\n  });\n};\nexports.useI18next = useI18next;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\nexports.__esModule = true;\nexports.Link = void 0;\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _i18nextContext = require(\"./i18nextContext\");\nvar _gatsby = require(\"gatsby\");\nvar _types = require(\"./types\");\nvar _excluded = [\"language\", \"to\", \"onClick\"];\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nvar Link = /*#__PURE__*/_react.default.forwardRef(function (_ref, ref) {\n  var language = _ref.language,\n    to = _ref.to,\n    _onClick = _ref.onClick,\n    rest = (0, _objectWithoutPropertiesLoose2.default)(_ref, _excluded);\n  var context = (0, _react.useContext)(_i18nextContext.I18nextContext);\n  var urlLanguage = language || context.language;\n  var getLanguagePath = function getLanguagePath(language) {\n    return context.generateDefaultLanguagePage || language !== context.defaultLanguage ? \"/\" + language : '';\n  };\n  var link = \"\" + getLanguagePath(urlLanguage) + to;\n  return (\n    /*#__PURE__*/\n    // @ts-ignore\n    _react.default.createElement(_gatsby.Link, (0, _extends2.default)({}, rest, {\n      to: link,\n      innerRef: ref,\n      hrefLang: urlLanguage,\n      onClick: function onClick(e) {\n        if (language) {\n          localStorage.setItem(_types.LANGUAGE_KEY, language);\n        }\n        if (_onClick) {\n          _onClick(e);\n        }\n      }\n    }))\n  );\n});\nexports.Link = Link;","import React from 'react'\nimport { useTranslation, useI18next } from 'gatsby-plugin-react-i18next'\n\nconst LangSwitch = () => {\n  const { i18n } = useTranslation()\n  const { languages, originalPath, language: currentLanguage, changeLanguage, navigate } = useI18next()\n  const current = currentLanguage || (i18n && i18n.language) || 'en'\n\n  // Enable inline client-side language switch (no navigation, URL unchanged).\n  // Pros: instant UI update for strings managed by react-i18next.\n  // Cons: page-level GraphQL data that depends on language won't be re-fetched,\n  // and SEO/URL will not reflect language change. Set to false to retain navigation behavior.\n  const INLINE_SWITCH = true\n\n  return (\n    <div className=\"ml-4 inline-flex items-center\">\n      {languages.map((lng) => {\n        const label = lng === 'zh' ? '' : lng.toUpperCase()\n        return (\n        <button\n          key={lng}\n          onClick={async () => {\n            if (INLINE_SWITCH) {\n              // Only change translations in-place; do not navigate. Update URL using history.pushState\n              if (changeLanguage) await changeLanguage(lng)\n              try {\n                if (i18n && i18n.changeLanguage) i18n.changeLanguage(lng)\n              } catch (e) {\n                // ignore\n              }\n\n              // Update the URL to reflect language without triggering navigation\n              if (typeof window !== 'undefined') {\n                try {\n                  const url = new URL(window.location.href)\n                  const p = url.pathname\n                  // remove existing language prefix if present\n                  const parts = p.split('/').filter(Boolean)\n                  if (parts.length > 0 && languages.includes(parts[0])) parts.shift()\n                  // add selected language as prefix unless it's default 'en'\n                  const newParts = (lng === 'en') ? parts : [lng, ...parts]\n                  const newPath = '/' + newParts.join('/') + (url.search || '') + (url.hash || '')\n                  window.history.pushState({}, '', newPath)\n                } catch (e) {\n                  // ignore pushState errors\n                }\n              }\n\n              return\n            }\n\n            // Default: navigation-based change with prefetch\n            try {\n              if (changeLanguage) await changeLanguage(lng)\n\n              if (navigate && originalPath) {\n                let localizedPath = originalPath\n                if (!originalPath.startsWith(`/${lng}`)) {\n                  localizedPath = `/${lng}${originalPath}`\n                }\n\n                try {\n                  if (typeof window !== 'undefined' && window.___loader && window.___loader.enqueue) {\n                    window.___loader.enqueue([localizedPath])\n                  }\n                } catch (e) {\n                  /* ignore prefetch errors */\n                }\n\n                navigate(localizedPath)\n              }\n            } catch (e) {\n              if (changeLanguage) changeLanguage(lng)\n              if (navigate && originalPath) navigate(originalPath, { language: lng })\n            }\n          }}\n          aria-current={lng === current ? 'true' : 'false'}\n          data-lang={lng}\n          className={`px-2 py-1 rounded text-sm focus:outline-none focus:ring-2 focus:ring-offset-2\n            ${lng === current ? 'font-semibold bg-gray-200 text-gray-900 dark:bg-gray-700 dark:text-white' : 'text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800'}\n            transition-colors duration-150 mx-1`}\n          title={label}\n        >\n          {label}\n        </button>\n      )})}\n    </div>\n  )\n}\n\nexport default LangSwitch\n","import * as React from \"react\"\nimport { Link } from \"gatsby\"\nimport { useTranslation, useI18next } from 'gatsby-plugin-react-i18next'\nimport LangSwitch from './lang-switch'\nimport { useLocation } from '@reach/router'\nimport { useEffect, useState } from 'react'\n\nconst Header = ({ siteTitle }) => {\n  const { t } = useTranslation()\n  const { language } = useI18next()\n  const loc = useLocation()\n  const pathname = (typeof window !== 'undefined' && loc && loc.pathname) ? loc.pathname : '/'\n\n  const isActive = (to) => {\n    // Normalize with language prefix (ensure leading slash, no trailing slash)\n    const raw = to.startsWith('/') ? to : `/${to}`\n    const normalized = raw.replace(/\\/+$|\\/$/, '') || '/'\n\n    // Special-case root: don't use startsWith('/') because every path starts with '/'\n    if (normalized === '/') {\n      if (language && language !== 'en') {\n        const prefRoot = `/${language}`\n        return pathname === '/' || pathname === prefRoot || pathname === `${prefRoot}/`\n      }\n      return pathname === '/'\n    }\n\n    // For non-root paths, consider exact match or sub-paths\n    if (language && language !== 'en') {\n      const prefixed = `/${language}${normalized}`\n      if (pathname === prefixed || pathname === `${prefixed}/` || pathname.startsWith(`${prefixed}/`)) return true\n    }\n    if (pathname === normalized || pathname === `${normalized}/` || pathname.startsWith(`${normalized}/`)) return true\n    return false\n  }\n\n  const [theme, setTheme] = useState(() => {\n    if (typeof window === 'undefined') return 'light'\n    try {\n      const stored = localStorage.getItem('color-theme')\n      if (stored) return stored\n      return window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'\n    } catch (e) {\n      return 'light'\n    }\n  })\n\n  useEffect(() => {\n    try {\n      if (theme === 'dark') {\n        document.documentElement.classList.add('dark')\n        localStorage.setItem('color-theme', 'dark')\n      } else {\n        document.documentElement.classList.remove('dark')\n        localStorage.setItem('color-theme', 'light')\n      }\n    } catch (e) {}\n  }, [theme])\n\n  const toggleTheme = () => setTheme(t => (t === 'dark' ? 'light' : 'dark'))\n\n  return (\n  <header>\n\n    <nav className=\"bg-white border-gray-200 dark:bg-gray-900\">\n      <div className=\"max-w-(--breakpoint-xl) flex flex-wrap items-center justify-between mx-auto p-4\">\n        <Link to=\"/\" className=\"flex items-center\">\n          <span className=\"self-center text-2xl font-semibold whitespace-nowrap dark:text-white\">{siteTitle}</span>\n        </Link>\n\n        <div className=\"flex items-center md:order-2\">\n          <button type=\"button\" id=\"theme-toggle\" onClick={toggleTheme}\n          className=\"inline-flex items-center\n           font-medium justify-center px-4 py-2 \n           text-sm text-gray-900 dark:text-white \n           rounded-lg cursor-pointer hover:bg-gray-100\n            dark:hover:bg-gray-700 dark:hover:text-white\" aria-label=\"Toggle theme\">\n            {/* light icon visible in light mode, dark icon in dark mode; controlled by React state for immediate response */}\n            <svg className={`${theme === 'dark' ? 'hidden' : 'inline'} w-5 h-5`} fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z\" fillRule=\"evenodd\" clipRule=\"evenodd\"></path></svg>\n            <svg className={`${theme === 'dark' ? 'inline' : 'hidden'} w-5 h-5`} fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z\"></path></svg>\n          </button>\n          <LangSwitch />\n            <button data-collapse-toggle=\"navbar-default\" type=\"button\"\n           className=\"inline-flex items-center p-2 ml-3 text-sm text-gray-500\n            rounded-lg md:hidden hover:bg-gray-100 focus:outline-hidden focus:ring-2\n             focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700\n              dark:focus:ring-gray-600\" aria-controls=\"navbar-default\" aria-expanded=\"false\">\n            <span className=\"sr-only\">{t('nav.openMenu')}</span>\n            <svg className=\"w-6 h-6\" aria-hidden=\"true\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fillRule=\"evenodd\" d=\"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z\" clipRule=\"evenodd\"></path></svg>\n          </button>\n        </div>\n        <div className=\"items-center justify-between hidden w-full md:flex md:w-auto md:order-1\" id=\"navbar-default\">\n          <ul className=\"flex flex-col font-medium p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:flex-row md:space-x-8 md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700\">\n            <li>\n              {/* <Link href=\"/\" className=\"block py-2 pl-3 pr-4 text-white bg-blue-700 rounded-sm md:bg-transparent md:text-blue-700 md:p-0 dark:text-white md:dark:text-blue-500\" aria-current=\"page\">Home</Link> */}\n              <Link to=\"/\" className={`block py-2 pl-3 pr-4 rounded-sm md:p-0 ${isActive('/') ? 'text-white bg-blue-600 md:bg-transparent md:text-blue-700 dark:text-white' : 'text-gray-900 hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent'}`}>{t('nav.home')}</Link>\n            </li>\n            <li>\n              <Link to=\"/resume/\" className={`block py-2 pl-3 pr-4 rounded-sm md:p-0 ${isActive('/resume') ? 'text-white bg-blue-600 md:bg-transparent md:text-blue-700 dark:text-white' : 'text-gray-900 hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent'}`}>{t('nav.cv')}</Link>\n            </li>\n            <li>\n              <Link to=\"/project/\" className={`block py-2 pl-3 pr-4 rounded-sm md:p-0 ${isActive('/project') ? 'text-white bg-blue-600 md:bg-transparent md:text-blue-700 dark:text-white' : 'text-gray-900 hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent'}`}>{t('nav.projects')}</Link>\n            </li>\n            <li>\n              <Link to=\"/update/\" className={`block py-2 pl-3 pr-4 rounded-sm md:p-0 ${isActive('/update') ? 'text-white bg-blue-600 md:bg-transparent md:text-blue-700 dark:text-white' : 'text-gray-900 hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent'}`}>{t('nav.updates')}</Link>\n            </li>\n            <li>\n              <Link to=\"/contact/\" className={`block py-2 pl-3 pr-4 rounded-sm md:p-0 ${isActive('/contact') ? 'text-white bg-blue-600 md:bg-transparent md:text-blue-700 dark:text-white' : 'text-gray-900 hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent'}`}>{t('nav.contact')}</Link>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </nav>\n\n    {/* Theme switcher is loaded and invoked from Layout via Script tags */}\n\n\n  </header>\n  )\n}\n\nexport default Header\n","import { Link } from \"gatsby\";\nimport * as React from \"react\"\nimport { useTranslation } from 'gatsby-plugin-react-i18next'\n\nconst Footer = () => {\n    const { t } = useTranslation()\n    return (\n    <footer className=\"bg-white p-4 dark:bg-gray-800\">\n        <div className=\"w-full mx-auto max-w-(--breakpoint-xl) p-4 md:flex md:items-center md:justify-between\">\n            <span className=\"text-sm text-gray-500 sm:text-center dark:text-gray-400\">\n                 2014 - {new Date().getFullYear()} <Link to=\"https://kidozh.com/\" class=\"hover:underline\">kidozh</Link>. {t('footer.allRightsReserved')}\n            </span>\n        </div>\n    </footer>\n    )\n}\n\nexport default Footer;","/**\n * Layout component that queries for data\n * with Gatsby's useStaticQuery component\n *\n * See: https://www.gatsbyjs.com/docs/how-to/querying-data/use-static-query/\n */\n\nimport * as React from \"react\"\nimport { useStaticQuery, graphql } from \"gatsby\"\n\nimport Header from \"./header\"\nimport \"./layout.css\"\nimport Footer from \"./footer\"\n// Script import removed; theme toggle is React driven in Header\n\nconst Layout = ({ children }) => {\n  const data = useStaticQuery(graphql`\n    query SiteTitleQuery {\n      site {\n        siteMetadata {\n          title\n        }\n      }\n    }\n  `)\n\n  return (\n    <>\n      {/* Inline critical theme-snippet: run synchronously before render to avoid flash/jank */}\n      <script\n        dangerouslySetInnerHTML={{\n          __html: `(function() {\n  try {\n    var stored = localStorage.getItem('color-theme');\n    var prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;\n    if (stored === 'dark' || (stored === null && prefersDark)) {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  } catch (e) {\n    /* ignore */\n  }\n})();`\n        }}\n      />\n  <Header siteTitle={data.site.siteMetadata?.title || `Title`} />\n      \n        <main>{children}</main>\n        \n        \n      \n      <Footer />\n      \n    </>\n  )\n}\n\nexport default Layout\n","module.exports = require('./dist');\n","function _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (-1 !== e.indexOf(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nmodule.exports = _objectWithoutPropertiesLoose, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","import * as React from \"react\"\nimport { useTranslation } from 'gatsby-plugin-react-i18next'\n\nexport default function ExponentialBackoffDemo() {\n  const { t } = useTranslation()\n  const [attempts, setAttempts] = React.useState([])\n  const [running, setRunning] = React.useState(false)\n  const [currentDelay, setCurrentDelay] = React.useState(null)\n    const [successPct, setSuccessPct] = React.useState(90) // percent\n  const [networkRTT, setNetworkRTT] = React.useState(200) // ms - simulated network round-trip time\n  const timerRef = React.useRef(null)\n  const baseDelay = 100 // ms\n  const maxAttempts = 8\n\n  React.useEffect(() => {\n    return () => {\n      if (timerRef.current) clearTimeout(timerRef.current)\n    }\n  }, [])\n\n  // ensure indicator timer cleared on unmount\n  React.useEffect(() => {\n    return () => {\n      if (indicatorTimerRef.current) clearTimeout(indicatorTimerRef.current)\n    }\n  }, [])\n\n  const jitterFor = (raw) => Math.floor(Math.random() * Math.floor(raw * 0.1))\n  // Continuous sending model\n  const senderTimerRef = React.useRef(null)\n  const seqRef = React.useRef(0)\n  const responseTimersRef = React.useRef(new Map())\n  const [nextSendRemaining, setNextSendRemaining] = React.useState(null)\n  const countdownRef = React.useRef(null)\n  const [changeIndicator, setChangeIndicator] = React.useState(null)\n  const indicatorTimerRef = React.useRef(null)\n  const [logs, setLogs] = React.useState([])\n  const runningRef = React.useRef(false)\n\n  const currentDelayRef = React.useRef(null)\n  const [isDark, setIsDark] = React.useState(false)\n\n  React.useEffect(() => {\n    // keep ref in sync with state\n    currentDelayRef.current = currentDelay\n  }, [currentDelay])\n\n  React.useEffect(() => {\n    if (typeof window === 'undefined' || !window.matchMedia) return\n    const m = window.matchMedia('(prefers-color-scheme: dark)')\n    const set = (v) => setIsDark(v.matches)\n    set(m)\n    if (m.addEventListener) m.addEventListener('change', set)\n    else if (m.addListener) m.addListener(set)\n    return () => {\n      if (m.removeEventListener) m.removeEventListener('change', set)\n      else if (m.removeListener) m.removeListener(set)\n    }\n  }, [])\n\n  const pushLog = (msg) => {\n    const time = new Date().toLocaleTimeString()\n    setLogs((prev) => {\n      const next = [{ time, msg }, ...prev]\n      return next.slice(0, 20)\n    })\n  }\n\n  const sendOne = () => {\n    const id = ++seqRef.current\n    const sendTime = new Date().toLocaleTimeString()\n    const delayAtSend = currentDelay === null ? baseDelay : currentDelay\n\n    // mark as sent (cap history at 200 entries)\n    setAttempts((prev) => {\n      const next = [...prev, { id, attempt: id, delayAtSend, status: 'sent', time: sendTime }]\n      return next.length > 200 ? next.slice(-200) : next\n    })\n\n    // simulate network RTT and response\n    const observedRTT = Math.max(1, networkRTT + jitterFor(networkRTT))\n    const timer = setTimeout(() => {\n      const success = Math.random() < successPct / 100\n\n      setAttempts((prev) =>\n        prev.map((it) => (it.id === id ? { ...it, observedRTT, status: success ? 'succeeded' : 'failed' } : it))\n      )\n\n      // On failure: increase interval (double)\n      if (!success) {\n        setCurrentDelay((prevDelay) => {\n          const prev = prevDelay == null ? baseDelay : prevDelay\n          let next = Math.min(prev * 2, 20000)\n          next = Math.min(next + jitterFor(next), 20000)\n          if (next !== prev) {\n            if (senderTimerRef.current) {\n              clearTimeout(senderTimerRef.current)\n              senderTimerRef.current = null\n            }\n            if (countdownRef.current) {\n              clearInterval(countdownRef.current)\n              countdownRef.current = null\n            }\n            scheduleNextSend(next)\n            // show transient indicator\n            const kind = 'increase'\n            setChangeIndicator(kind)\n            if (indicatorTimerRef.current) clearTimeout(indicatorTimerRef.current)\n            indicatorTimerRef.current = setTimeout(() => setChangeIndicator(null), 1200)\n            // log the decision\n            try { pushLog(`failure  doubled ${prev}ms  ${next}ms`) } catch (e) {}\n          }\n          return next\n        })\n      } else {\n        // On success: adapt based on observedRTT vs current delay\n        setCurrentDelay((prevDelay) => {\n          const prev = prevDelay == null ? baseDelay : prevDelay\n          let next = prev\n          if (observedRTT > prev * 2) {\n            // RTT is more than twice the current interval -> double\n            next = Math.min(prev * 2, 20000)\n          } else if (observedRTT < prev / 2) {\n            next = Math.max(baseDelay, Math.floor(prev / 2))\n          } else {\n            next = prev\n          }\n          next = Math.min(next + jitterFor(next), 20000)\n          if (next !== prev) {\n            if (senderTimerRef.current) {\n              clearTimeout(senderTimerRef.current)\n              senderTimerRef.current = null\n            }\n            if (countdownRef.current) {\n              clearInterval(countdownRef.current)\n              countdownRef.current = null\n            }\n            scheduleNextSend(next)\n            const kind = next > prev ? 'increase' : 'decrease'\n            setChangeIndicator(kind)\n            if (indicatorTimerRef.current) clearTimeout(indicatorTimerRef.current)\n            indicatorTimerRef.current = setTimeout(() => setChangeIndicator(null), 1200)\n            // log the decision with reason\n            try {\n              const reason = observedRTT > prev * 2 ? `RTT ${observedRTT}ms > 2${prev}ms` : `RTT ${observedRTT}ms < 1/2${prev}ms`\n              pushLog(`${reason}  ${next}ms`)\n            } catch (e) {}\n          }\n          return next\n        })\n      }\n\n      responseTimersRef.current.delete(id)\n    }, observedRTT)\n\n    responseTimersRef.current.set(id, timer)\n  }\n\n  const scheduleNextSend = (interval) => {\n    // schedule next send after interval ms\n    const start = Date.now()\n    setNextSendRemaining(interval)\n    senderTimerRef.current = setTimeout(() => {\n      if (!runningRef.current) return\n      sendOne()\n      // schedule using the latest currentDelayRef value (fix stale closure)\n      const nextInterval = currentDelayRef.current == null ? baseDelay : currentDelayRef.current\n      scheduleNextSend(nextInterval)\n    }, interval)\n\n    // countdown updater\n    if (countdownRef.current) clearInterval(countdownRef.current)\n    countdownRef.current = setInterval(() => {\n      const elapsed = Date.now() - start\n      const remaining = Math.max(0, interval - elapsed)\n      setNextSendRemaining(remaining)\n      if (remaining === 0 && countdownRef.current) {\n        clearInterval(countdownRef.current)\n        countdownRef.current = null\n      }\n    }, 100)\n  }\n\n  // Immediate adaptation when networkRTT changes while running:\n  React.useEffect(() => {\n    if (!running) return\n    const cap = 20000\n    const observed = Math.ceil(networkRTT)\n    setCurrentDelay((prevDelay) => {\n      const prev = prevDelay == null ? baseDelay : prevDelay\n      let next = prev\n      // apply single-step adaptation using the new thresholds:\n      // if observed RTT is more than twice the current interval -> double\n      if (observed > prev * 2) {\n        next = Math.min(prev * 2, cap)\n      } else if (observed < prev / 2) {\n        // if observed RTT is less than half the current interval -> halve\n        next = Math.max(baseDelay, Math.floor(prev / 2))\n      }\n      if (next !== prev) {\n        // reschedule sender loop with next\n        if (senderTimerRef.current) {\n          clearTimeout(senderTimerRef.current)\n          senderTimerRef.current = null\n        }\n        if (countdownRef.current) {\n          clearInterval(countdownRef.current)\n          countdownRef.current = null\n        }\n        scheduleNextSend(next)\n      }\n      return next\n    })\n  }, [networkRTT])\n\n  const start = () => {\n    if (running) return\n    setAttempts([])\n    setRunning(true)\n    runningRef.current = true\n    // start from a delay that is at least slightly larger than current RTT\n    const initialDelay = Math.max(baseDelay, Math.ceil(networkRTT * 1.1))\n    setCurrentDelay(initialDelay)\n    currentDelayRef.current = initialDelay\n    // send first immediately, then schedule loop\n    sendOne()\n    scheduleNextSend(initialDelay)\n  }\n\n  const cancel = () => {\n    // stop sender timer\n    if (senderTimerRef.current) {\n      clearTimeout(senderTimerRef.current)\n      senderTimerRef.current = null\n    }\n    if (countdownRef.current) {\n      clearInterval(countdownRef.current)\n      countdownRef.current = null\n    }\n    // clear pending response timers\n    for (const t of responseTimersRef.current.values()) clearTimeout(t)\n    responseTimersRef.current.clear()\n    setRunning(false)\n    runningRef.current = false\n    setAttempts((prev) => [...prev, { attempt: 'cancelled', delay: 0, status: 'cancelled', time: new Date().toLocaleTimeString() }])\n    setCurrentDelay(null)\n    currentDelayRef.current = null\n  }\n\n  const reset = () => {\n    cancel()\n    setAttempts([])\n    setCurrentDelay(null)\n    runningRef.current = false\n  }\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 shadow-lg rounded-2xl p-6\">\n      <h2 className=\"text-2xl font-montserrat font-bold text-gray-800 dark:text-white\">{t('project.ebpc.expDemoTitle')}</h2>\n      <hr className=\"h-1 my-6 w-24 bg-orange-500 border-orange-500\" />\n\n      <p className=\"text-gray-700 dark:text-gray-200 font-light mb-4\">\n        {t('project.ebpc.expDemoDesc')}\n      </p>\n\n      <div className=\"flex gap-3 mb-4 items-center\">\n        <button\n          onClick={start}\n          disabled={running}\n          className=\"text-white bg-orange-600 hover:bg-orange-700 disabled:opacity-50 font-medium rounded-full px-4 py-2\"\n        >\n          {t('project.ebpc.expDemoStart')}\n        </button>\n        <button\n          onClick={cancel}\n          disabled={!running}\n          className=\"text-orange-700 bg-orange-100 hover:bg-orange-200 disabled:opacity-50 font-medium rounded-full px-4 py-2\"\n        >\n          {t('project.ebpc.expDemoCancel')}\n        </button>\n        <button\n          onClick={reset}\n          className=\"text-gray-700 bg-gray-100 hover:bg-gray-200 font-medium rounded-full px-3 py-2\"\n        >\n          {t('project.ebpc.expDemoReset')}\n        </button>\n      </div>\n\n      {/* Prominent current delay display */}\n      <div className=\"mb-4\">\n        <div aria-live=\"polite\" className=\"inline-flex items-baseline gap-3\">\n          <span className=\"text-sm text-gray-500 dark:text-gray-300\">{t('project.ebpc.expDemoCurrentInterval')}</span>\n          <span className=\"text-xl font-mono font-semibold text-orange-600 dark:text-orange-400\">{currentDelay === null ? '-' : `${currentDelay} ms`}</span>\n          {changeIndicator === 'increase' && <span className=\"ml-2 px-2 py-0.5 text-xs bg-red-100 text-red-700 rounded\"></span>}\n          {changeIndicator === 'decrease' && <span className=\"ml-2 px-2 py-0.5 text-xs bg-green-100 text-green-700 rounded\"></span>}\n        </div>\n      </div>\n\n      <div className=\"mb-4 space-y-3\">\n        <div>\n          <label className=\"text-sm text-gray-600 dark:text-gray-300\">{t('project.ebpc.expDemoNetworkSuccess', { pct: successPct })}</label>\n          <input\n            type=\"range\"\n            min=\"0\"\n            max=\"100\"\n            value={successPct}\n            onChange={(e) => setSuccessPct(Number(e.target.value))}\n            className=\"w-full mt-2\"\n            style={{ accentColor: isDark ? '#60a5fa' : '#fb923c' }}\n          />\n        </div>\n\n        <div>\n          <label className=\"text-sm text-gray-600 dark:text-gray-300\">{t('project.ebpc.expDemoNetworkRtt', { ms: networkRTT })}</label>\n          <input\n            type=\"range\"\n            min=\"0\"\n            max=\"2000\"\n            value={networkRTT}\n            onChange={(e) => setNetworkRTT(Number(e.target.value))}\n            className=\"w-full mt-2\"\n            style={{ accentColor: isDark ? '#60a5fa' : '#fb923c' }}\n          />\n        </div>\n\n        <div>\n          <label className=\"text-sm text-gray-600 dark:text-gray-300\">{t('project.ebpc.expDemoScheduledDelay')}</label>\n          <input\n            type=\"range\"\n            min=\"0\"\n            max=\"20000\"\n            value={currentDelay === null ? 0 : currentDelay}\n            readOnly\n            disabled\n            className=\"w-full mt-2 opacity-90\"\n            style={{ accentColor: isDark ? '#60a5fa' : '#fb923c' }}\n          />\n        </div>\n      </div>\n\n      <div className=\"text-sm text-gray-600 dark:text-gray-300 mb-4\">\n  <div className=\"mb-1\">{t('project.ebpc.expDemoRunning')}: <strong>{running ? t('project.ebpc.yes') : t('project.ebpc.no')}</strong></div>\n  <div className=\"mb-1\">{t('project.ebpc.expDemoAttempts')}: <strong>{attempts.length}</strong></div>\n  <div className=\"mb-1\">{t('project.ebpc.expDemoCurrentDelay')}: <strong>{currentDelay === null ? '-' : `${currentDelay} ms`}</strong>\n          {changeIndicator === 'increase' && <span className=\"ml-2 px-2 py-0.5 text-xs bg-red-100 text-red-700 rounded\"></span>}\n          {changeIndicator === 'decrease' && <span className=\"ml-2 px-2 py-0.5 text-xs bg-green-100 text-green-700 rounded\"></span>}\n        </div>\n  <div className=\"mb-1\">{t('project.ebpc.expDemoNextSendIn')}: <strong>{nextSendRemaining == null ? '-' : `${Math.ceil(nextSendRemaining)} ms`}</strong></div>\n      </div>\n      <div className=\"mb-4\">\n        {/* Sparkline */}\n        {attempts.length > 0 && (\n          <div className=\"w-full h-24 bg-white dark:bg-slate-800 p-2 rounded\">\n            <Sparkline attempts={attempts.slice(-60)} width={600} height={48} />\n          </div>\n        )}\n      </div>\n\n      {/* Decision log */}\n      <div className=\"mb-4\">\n  <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-200 mb-2\">{t('project.ebpc.expDemoDecisionLogTitle')}</h4>\n        <div className=\"overflow-auto max-h-40 border rounded p-2 bg-white dark:bg-slate-800 text-sm\">\n          {logs.length === 0 ? (\n            <div className=\"text-gray-500\">{t('project.ebpc.expDemoNoDecisions')}</div>\n          ) : (\n            <ul className=\"list-none space-y-1\">\n              {logs.map((l, i) => (\n                <li key={i} className=\"flex justify-between\">\n                  <span className=\"text-gray-600 dark:text-gray-300\">{l.msg}</span>\n                  <span className=\"text-xs text-gray-400 ml-2\">{l.time}</span>\n                </li>\n              ))}\n            </ul>\n          )}\n        </div>\n      </div>\n\n      <div className=\"overflow-auto max-h-60 border rounded p-2 bg-gray-50 dark:bg-slate-700\">\n        {attempts.length === 0 ? (\n          <div className=\"text-gray-500\">{t('project.ebpc.expDemoNoAttempts')}</div>\n        ) : (\n          <table className=\"min-w-full text-sm\">\n            <thead>\n              <tr className=\"text-left\">\n                <th className=\"px-2 py-1\">{t('project.ebpc.table.index')}</th>\n                <th className=\"px-2 py-1\">{t('project.ebpc.table.status')}</th>\n                <th className=\"px-2 py-1\">{t('project.ebpc.table.delayAtSend')}</th>\n                <th className=\"px-2 py-1\">{t('project.ebpc.table.observedRtt')}</th>\n                <th className=\"px-2 py-1\">{t('project.ebpc.table.time')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {attempts.map((a) => {\n                const bad = typeof a.observedRTT === 'number' && a.observedRTT > (a.delayAtSend || 0)\n                return (\n                  <tr key={a.id} className={bad ? 'bg-red-50 dark:bg-red-900/30' : ''}>\n                    <td className=\"px-2 py-1 align-top\">{a.attempt}</td>\n                    <td className=\"px-2 py-1 align-top\">{a.status}</td>\n                    <td className=\"px-2 py-1 align-top\">{a.delayAtSend ?? '-'}</td>\n                    <td className=\"px-2 py-1 align-top\">{typeof a.observedRTT === 'number' ? a.observedRTT : '-'}</td>\n                    <td className=\"px-2 py-1 align-top\">{a.time}</td>\n                  </tr>\n                )\n              })}\n            </tbody>\n          </table>\n        )}\n      </div>\n    </div>\n  )\n}\n\nfunction Sparkline({ attempts, width = 600, height = 48 }) {\n  // build two series: delayAtSend and observedRTT\n  const delays = attempts.map((a) => (typeof a.delayAtSend === 'number' ? a.delayAtSend : 0))\n  const rtts = attempts.map((a) => (typeof a.observedRTT === 'number' ? a.observedRTT : 0))\n  const maxVal = Math.max(...delays, ...rtts, 1)\n  const w = Math.max(100, width)\n  const h = Math.max(24, height)\n  const step = w / Math.max(1, attempts.length - 1)\n\n  const pointsFor = (arr) =>\n    arr\n      .map((v, i) => {\n        const x = Math.round(i * step)\n        const y = Math.round(h - (v / maxVal) * h)\n        return `${x},${y}`\n      })\n      .join(' ')\n\n  const delayPoints = pointsFor(delays)\n  const rttPoints = pointsFor(rtts)\n\n  return (\n    <svg width=\"100%\" viewBox={`0 0 ${w} ${h}`} preserveAspectRatio=\"none\" className=\"block\">\n      <polyline fill=\"none\" stroke=\"#93c5fd\" strokeWidth=\"2\" points={rttPoints} />\n      <polyline fill=\"none\" stroke=\"#fb923c\" strokeWidth=\"2\" points={delayPoints} />\n    </svg>\n  )\n}\n","import * as React from 'react'\nimport { useTranslation } from 'gatsby-plugin-react-i18next'\n\nexport default function BitDepthDemo() {\n  const { t } = useTranslation()\n  const [bitDepth, setBitDepth] = React.useState(8)\n  const [noiseLevel, setNoiseLevel] = React.useState(0.05)\n  const [isDark, setIsDark] = React.useState(false)\n  const width = 600\n  const height = 80\n\n  const phaseRef = React.useRef(0)\n  const rafRef = React.useRef(null)\n  const N = 256\n  const baseFreq = 4 // cycles over buffer\n\n  React.useEffect(() => {\n    if (typeof window === 'undefined' || !window.matchMedia) return\n    const m = window.matchMedia('(prefers-color-scheme: dark)')\n    const set = (v) => setIsDark(v.matches)\n    set(m)\n    if (m.addEventListener) m.addEventListener('change', set)\n    else if (m.addListener) m.addListener(set)\n    return () => {\n      if (m.removeEventListener) m.removeEventListener('change', set)\n      else if (m.removeListener) m.removeListener(set)\n    }\n  }, [])\n\n  const makeSignals = (phase, noise) => {\n    const clean = new Array(N)\n    const observed = new Array(N)\n    for (let i = 0; i < N; i++) {\n      const t = ((i / N) * Math.PI * 2 * baseFreq) + phase\n      const s = Math.sin(t) * 0.9\n      const n = (Math.random() - 0.5) * noise\n      clean[i] = Math.max(-1, Math.min(1, s))\n      observed[i] = Math.max(-1, Math.min(1, s + n))\n    }\n    return { clean, observed }\n  }\n\n  const quantize = (arr, bits) => {\n    if (!arr || arr.length === 0) return []\n    const levels = Math.max(2, Math.pow(2, bits))\n    return arr.map((v) => {\n      const scaled = (v + 1) / 2 // 0..1\n      const q = Math.round(scaled * (levels - 1))\n      const deq = (q / (levels - 1)) * 2 - 1\n      return deq\n    })\n  }\n\n  const toPoints = (arr) => {\n    if (!arr || arr.length === 0) return ''\n    const step = width / (arr.length - 1)\n    return arr\n      .map((v, i) => {\n        const x = Math.round(i * step)\n        const y = Math.round((1 - (v + 1) / 2) * height)\n        return `${x},${y}`\n      })\n      .join(' ')\n  }\n\n  const [clean, setClean] = React.useState(new Array(N).fill(0))\n  const [observed, setObserved] = React.useState(new Array(N).fill(0))\n  const [quantized, setQuantized] = React.useState(new Array(N).fill(0))\n  const [snr, setSnr] = React.useState(null)\n  const [sqnr, setSqnr] = React.useState(null)\n  const [snrHistory, setSnrHistory] = React.useState([])\n  const [sqnrHistory, setSqnrHistory] = React.useState([])\n\n  // animation loop\n  React.useEffect(() => {\n    let last = performance.now()\n    const loop = (now) => {\n      const dt = now - last\n      last = now\n      phaseRef.current += dt * 0.002 // phase speed\n      const { clean: c, observed: o } = makeSignals(phaseRef.current, noiseLevel)\n  const q = quantize(o, bitDepth)\n  const qClean = quantize(c, bitDepth)\n      setClean(c)\n      setObserved(o)\n      setQuantized(q)\n\n      // compute SNR: signal = clean, noise = clean - quantized\n      let sp = 0\n      let np = 0\n      let qnp = 0\n      for (let i = 0; i < N; i++) {\n        sp += c[i] * c[i]\n        const e = c[i] - q[i]\n        np += e * e\n        const qe = c[i] - qClean[i]\n        qnp += qe * qe\n      }\n      sp = sp / N\n      np = np / N\n      qnp = qnp / N\n  const val = np === 0 ? Infinity : 10 * Math.log10(sp / np)\n  const valq = qnp === 0 ? Infinity : 10 * Math.log10(sp / qnp)\n  const snrVal = Number.isFinite(val) ? val : null\n  const sqnrVal = Number.isFinite(valq) ? valq : null\n  setSnr(snrVal)\n  setSqnr(sqnrVal)\n  setSnrHistory((prev) => [snrVal, ...prev].slice(0, 100))\n  setSqnrHistory((prev) => [sqnrVal, ...prev].slice(0, 100))\n\n      rafRef.current = requestAnimationFrame(loop)\n    }\n    rafRef.current = requestAnimationFrame(loop)\n    return () => {\n      if (rafRef.current) cancelAnimationFrame(rafRef.current)\n    }\n  }, [bitDepth, noiseLevel])\n\n  const origPoints = toPoints(clean)\n  const qPoints = toPoints(quantized)\n\n  const originalBits = 16\n  const estimatedBits = bitDepth\n  const reduction = ((1 - estimatedBits / originalBits) * 100).toFixed(0)\n\n  const strokeOrig = isDark ? '#60a5fa' : '#fb923c'\n  const strokeQuant = isDark ? '#fb923c' : '#60a5fa'\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 shadow-lg rounded-2xl p-6\">\n      <style>{`\n        @keyframes pulse {\n          0% { opacity: 0.6; }\n          50% { opacity: 1; }\n          100% { opacity: 0.6; }\n        }\n        @keyframes fadein {\n          from { opacity: 0; transform: translateY(6px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        .bitdemo-fade { animation: fadein 400ms ease-out; }\n        .bitdemo-pulse { animation: pulse 1400ms ease-in-out infinite; }\n      `}</style>\n  <h3 className=\"text-lg font-semibold text-gray-800 dark:text-white mb-2\">{t('project.ebpc.bitDepthTitle')}</h3>\n  <p className=\"text-sm text-gray-600 dark:text-gray-300 mb-3\">{t('project.ebpc.bitDepthDesc')}</p>\n\n      <div className=\"mb-3\">\n  <label className=\"text-sm text-gray-600 dark:text-gray-300\">{t('project.ebpc.bitDepthLabel')}: <strong>{bitDepth}</strong></label>\n        <input\n          type=\"range\"\n          min=\"1\"\n          max=\"16\"\n          value={bitDepth}\n          onChange={(e) => setBitDepth(Number(e.target.value))}\n          className=\"w-full mt-2\"\n          style={{ accentColor: strokeQuant }}\n        />\n      </div>\n\n      <div className=\"mb-3\">\n  <label className=\"text-sm text-gray-600 dark:text-gray-300\">{t('project.ebpc.noiseLevelLabel')}: <strong>{(noiseLevel * 100).toFixed(0)}%</strong></label>\n        <input\n          type=\"range\"\n          min=\"0\"\n          max=\"0.2\"\n          step=\"0.005\"\n          value={noiseLevel}\n          onChange={(e) => setNoiseLevel(Number(e.target.value))}\n          className=\"w-full mt-2\"\n          style={{ accentColor: strokeOrig }}\n        />\n      </div>\n\n      <div className=\"mb-3 bitdemo-fade\">\n        <div className=\"w-full overflow-hidden rounded bg-gray-50 dark:bg-slate-700 p-2\">\n          <svg width=\"100%\" viewBox={`0 0 ${width} ${height}`} preserveAspectRatio=\"none\" className=\"block mb-1\">\n            <polyline fill=\"none\" stroke={strokeOrig} strokeWidth=\"1.5\" points={origPoints} />\n            <polyline className=\"bitdemo-pulse\" fill=\"none\" stroke={strokeQuant} strokeWidth=\"1.5\" points={qPoints} />\n          </svg>\n          <div className=\"text-xs text-gray-500 dark:text-gray-400\">{isDark ? t('project.ebpc.legendDark') : t('project.ebpc.legendLight')}</div>\n        </div>\n      </div>\n\n      <div className=\"flex gap-6 items-center\">\n  <div className=\"text-sm text-gray-700 dark:text-gray-200\">{t('project.ebpc.estimatedBits')}: <strong>{estimatedBits} bits</strong></div>\n  <div className=\"text-sm text-gray-700 dark:text-gray-200\">{t('project.ebpc.estimatedReduction')}: <strong>{reduction}%</strong></div>\n        <div className=\"flex items-center gap-3\">\n          <div className=\"text-sm text-gray-700 dark:text-gray-200\">{t('project.ebpc.snrLabel')}:</div>\n          <div className=\"flex items-center gap-2\">\n            <SparklineMini values={snrHistory} color={snr >= 30 ? '#16a34a' : snr >= 20 ? '#f59e0b' : '#ef4444'} />\n            <div className=\"text-sm text-gray-700 dark:text-gray-200\">{snr == null ? '' : `${snr.toFixed(1)} dB`}</div>\n          </div>\n        </div>\n        <div className=\"flex items-center gap-3\">\n          <div className=\"text-sm text-gray-700 dark:text-gray-200\">{t('project.ebpc.sqnrLabel')}:</div>\n          <div className=\"flex items-center gap-2\">\n            <SparklineMini values={sqnrHistory} color={sqnr >= 40 ? '#16a34a' : sqnr >= 25 ? '#f59e0b' : '#ef4444'} />\n            <div className=\"text-sm text-gray-700 dark:text-gray-200\">{sqnr == null ? '' : `${sqnr.toFixed(1)} dB`}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nfunction SparklineMini({ values = [], color = '#60a5fa', width = 80, height = 24 }) {\n  if (!values || values.length === 0) return (\n    <svg width={width} height={height} viewBox={`0 0 ${width} ${height}`} className=\"block\">\n      <rect width={width} height={height} fill=\"transparent\" />\n    </svg>\n  )\n  const pts = values.slice(0, 40).reverse()\n  const max = Math.max(...pts.filter(Boolean), 1)\n  const min = Math.min(...pts.filter(Boolean), -1)\n  const range = Math.max(1e-6, max - min)\n  const step = width / Math.max(1, pts.length - 1)\n  const points = pts.map((v, i) => {\n    const x = Math.round(i * step)\n    const y = Math.round(height - ((v - min) / range) * height)\n    return `${x},${y}`\n  }).join(' ')\n  return (\n    <svg width={width} height={height} viewBox={`0 0 ${width} ${height}`} className=\"block\">\n      <polyline fill=\"none\" stroke={color} strokeWidth=\"1.6\" points={points} />\n    </svg>\n  )\n}\n","import * as React from 'react'\nimport { useTranslation } from 'gatsby-plugin-react-i18next'\n\nfunction Sparkline({ values = [], width = 200, height = 40, color = '#F97316' }) {\n  if (!values || values.length === 0) return null\n  const max = Math.max(...values, 1)\n  const min = Math.min(...values, 0)\n  const len = values.length\n  const step = width / Math.max(1, len - 1)\n  const points = values.map((v, i) => {\n    const x = i * step\n    // invert y so larger values are higher on the chart\n    const y = height - ((v - min) / (max - min || 1)) * height\n    return `${x},${y}`\n  })\n  const d = `M ${points.join(' L ')}`\n  return (\n    <svg width={width} height={height} viewBox={`0 0 ${width} ${height}`} xmlns=\"http://www.w3.org/2000/svg\">\n      <path d={d} fill=\"none\" stroke={color} strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" />\n    </svg>\n  )\n}\n\nfunction ProducerConsumerDemo({\n  initialConcurrency = 4,\n  initialProduceInterval = 500,\n  initialProcessTime = 800,\n  initialBufferSize = 10,\n  initialMode = 'bounded',\n  title = '',\n  __exposeHandlersRef = null,\n  globalStartId = 0,\n  globalStopId = 0,\n  externalProduceController = null,\n}) {\n  const { t } = useTranslation()\n  const [running, setRunning] = React.useState(false)\n  const [produceInterval, setProduceInterval] = React.useState(initialProduceInterval) // ms\n  const [processTime, setProcessTime] = React.useState(initialProcessTime) // ms per item\n  const [concurrency, setConcurrency] = React.useState(initialConcurrency)\n  const [bufferSize, setBufferSize] = React.useState(initialBufferSize)\n  const [mode, setMode] = React.useState(initialMode) // 'bounded' | 'hard-buffer' | 'blocking'\n\n  \n  const workersRef = React.useRef(0)\n  const producersRef = React.useRef(null)\n  const queueRef = React.useRef([])\n  const seqRef = React.useRef(0)\n  const runningRef = React.useRef(false)\n  const blockingRef = React.useRef({ cancel: false })\n  const produceIntervalRef = React.useRef(produceInterval)\n  const processTimeRef = React.useRef(processTime)\n\n  const [queue, setQueue] = React.useState([])\n  const [processed, setProcessed] = React.useState(0)\n  const [dropped, setDropped] = React.useState(0)\n  const [avgLatency, setAvgLatency] = React.useState(0)\n  const latenciesRef = React.useRef([])\n\n  // history for sparkline (queue lengths over time)\n  const queueHistoryRef = React.useRef([])\n  const [queueHistory, setQueueHistory] = React.useState([])\n\n  // for simple processed-item animation\n  const [recentProcessed, setRecentProcessed] = React.useState([])\n\n  React.useEffect(() => {\n    return () => {\n      if (producersRef.current) clearInterval(producersRef.current)\n      blockingRef.current.cancel = true\n    }\n  }, [])\n\n  const pushQueueHistory = (len) => {\n    queueHistoryRef.current.push(len)\n    if (queueHistoryRef.current.length > 60) queueHistoryRef.current.shift()\n    setQueueHistory([...queueHistoryRef.current])\n  }\n\n  const start = () => {\n    if (running) return\n    setRunning(true)\n    runningRef.current = true\n    seqRef.current = 0\n    queueRef.current = []\n    setQueue([])\n    setProcessed(0)\n    setDropped(0)\n    latenciesRef.current = []\n    queueHistoryRef.current = []\n    setQueueHistory([])\n\n    // start either a blocking producer loop or a regular interval producer\n    if (mode === 'blocking') {\n      blockingRef.current.cancel = false\n      produceBlockingLoop()\n    } else {\n      // if an external produce controller is provided, rely on it to trigger produceOne()\n      if (externalProduceController) {\n        // ensure consumers start checking\n        scheduleConsumers()\n      } else {\n        producersRef.current = setInterval(() => {\n          produceOne()\n        }, produceInterval)\n        // ensure consumers start checking\n        scheduleConsumers()\n      }\n    }\n  }\n\n  const stop = () => {\n    setRunning(false)\n    runningRef.current = false\n    if (producersRef.current) {\n      clearInterval(producersRef.current)\n      producersRef.current = null\n    }\n    // stop blocking loop if running\n    blockingRef.current.cancel = true\n  }\n\n  const produceOne = () => {\n    const id = ++seqRef.current\n    const now = Date.now()\n\n    // hard-buffer mode: never drop, always enqueue\n    if (mode === 'bounded' && queueRef.current.length >= bufferSize) {\n      setDropped((d) => d + 1)\n      pushQueueHistory(queueRef.current.length)\n      return\n    }\n\n    const item = { id, producedAt: now }\n    queueRef.current = [...queueRef.current, item]\n    setQueue([...queueRef.current])\n    pushQueueHistory(queueRef.current.length)\n    // try to kick consumers\n    scheduleConsumers()\n  }\n\n  // when an external controller ticks, enqueue one item (only when running)\n  const handleExternalTick = React.useCallback(() => {\n    if (!runningRef.current) return\n    // use same produce semantics\n    produceOne()\n  }, [])\n\n  // blocking producer: produce and wait until the produced item is processed\n  const produceBlockingLoop = async () => {\n    while (runningRef.current && !blockingRef.current.cancel && mode === 'blocking') {\n      const id = ++seqRef.current\n      const now = Date.now()\n      const item = { id, producedAt: now }\n      // enqueue for visibility\n      queueRef.current = [...queueRef.current, item]\n      setQueue([...queueRef.current])\n      pushQueueHistory(queueRef.current.length)\n\n      // wait for processing to finish (simulate synchronous producer)\n      await new Promise((resolve) => {\n        // directly simulate processing here so producer truly waits\n        setTimeout(() => {\n          const end = Date.now()\n          const latency = end - item.producedAt\n          latenciesRef.current.push(latency)\n          if (latenciesRef.current.length > 100) latenciesRef.current.shift()\n          const avg = latenciesRef.current.reduce((a, b) => a + b, 0) / latenciesRef.current.length\n          setAvgLatency(Math.round(avg))\n          setProcessed((p) => p + 1)\n\n          // animate processed item\n          setRecentProcessed((r) => {\n            const next = [...r, item.id]\n            if (next.length > 8) next.shift()\n            return next\n          })\n          setTimeout(() => {\n            setRecentProcessed((r) => r.filter((x) => x !== item.id))\n          }, 800)\n\n          // remove from visible queue\n          queueRef.current = queueRef.current.filter((i) => i.id !== id)\n          setQueue([...queueRef.current])\n          pushQueueHistory(queueRef.current.length)\n\n          resolve()\n        }, processTimeRef.current)\n      })\n\n      // optional inter-production delay\n      await new Promise((r) => setTimeout(r, produceIntervalRef.current))\n    }\n  }\n\n  const scheduleConsumers = () => {\n    // try to start workers up to concurrency\n    while (workersRef.current < concurrency && queueRef.current.length > 0) {\n      const item = queueRef.current.shift()\n      setQueue([...queueRef.current])\n      pushQueueHistory(queueRef.current.length)\n      workersRef.current += 1\n      processItem(item)\n    }\n  }\n\n  const processItem = (item) => {\n    setTimeout(() => {\n      const end = Date.now()\n      const latency = end - item.producedAt\n      latenciesRef.current.push(latency)\n      if (latenciesRef.current.length > 100) latenciesRef.current.shift()\n      const avg = latenciesRef.current.reduce((a, b) => a + b, 0) / latenciesRef.current.length\n      setAvgLatency(Math.round(avg))\n      setProcessed((p) => p + 1)\n\n      // animate processed item\n      setRecentProcessed((r) => {\n        const next = [...r, item.id]\n        // keep small history for animation\n        if (next.length > 8) next.shift()\n        return next\n      })\n      setTimeout(() => {\n        setRecentProcessed((r) => r.filter((x) => x !== item.id))\n      }, 800)\n\n      workersRef.current -= 1\n      // if still running, continue consuming\n      if (running) scheduleConsumers()\n    }, processTime)\n  }\n\n  // update producer interval when slider changes\n  React.useEffect(() => {\n    if (!running) return\n    if (producersRef.current) {\n      clearInterval(producersRef.current)\n      producersRef.current = setInterval(() => produceOne(), produceInterval)\n    }\n    produceIntervalRef.current = produceInterval\n  }, [produceInterval])\n\n  // subscribe to external produce controller if provided\n  React.useEffect(() => {\n    if (!externalProduceController) return\n    externalProduceController.subscribe && externalProduceController.subscribe(handleExternalTick)\n    return () => {\n      externalProduceController.unsubscribe && externalProduceController.unsubscribe(handleExternalTick)\n    }\n  }, [externalProduceController, handleExternalTick])\n\n  // update concurrency change: try to schedule\n  React.useEffect(() => {\n    scheduleConsumers()\n  }, [concurrency])\n\n  // keep processTime ref up to date for blocking loop\n  React.useEffect(() => {\n    processTimeRef.current = processTime\n  }, [processTime])\n\n  // if mode changes while running, switch producer strategy\n  React.useEffect(() => {\n    if (!runningRef.current) return\n    if (mode === 'blocking') {\n      // stop interval producer if present\n      if (producersRef.current) {\n        clearInterval(producersRef.current)\n        producersRef.current = null\n      }\n      blockingRef.current.cancel = false\n      produceBlockingLoop()\n    } else {\n      // switch to interval producer\n      blockingRef.current.cancel = true\n      if (!producersRef.current) producersRef.current = setInterval(() => produceOne(), produceIntervalRef.current)\n      scheduleConsumers()\n    }\n  }, [mode])\n\n  // expose start/stop to parent via __exposeHandlersRef\n  React.useEffect(() => {\n    if (__exposeHandlersRef && typeof __exposeHandlersRef === 'object') {\n      __exposeHandlersRef.current = { start, stop }\n    }\n    return () => {\n      if (__exposeHandlersRef && __exposeHandlersRef.current) __exposeHandlersRef.current = null\n    }\n  }, [__exposeHandlersRef])\n\n  // react to global start/stop commands\n  React.useEffect(() => {\n    if (globalStartId && running === false) {\n      start()\n    }\n  }, [globalStartId])\n\n  React.useEffect(() => {\n    if (globalStopId && running === true) {\n      stop()\n    }\n  }, [globalStopId])\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 shadow-lg rounded-2xl p-6\">\n      <style>{`\n        @keyframes slideUpFade {\n          from { transform: translateY(8px); opacity: 1 }\n          to { transform: translateY(-8px); opacity: 0 }\n        }\n      `}</style>\n  <h3 className=\"text-lg font-semibold text-gray-800 dark:text-white mb-3\">{title || t('project.ebpc.producerDemoTitle')}</h3>\n    <p className=\"text-sm text-gray-600 dark:text-gray-300 mb-4\">{t('project.ebpc.producerDemoDesc')}</p>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n        <div>\n          <label className=\"text-sm text-gray-600 dark:text-gray-300\">{t('project.ebpc.produceInterval', { ms: produceInterval })}</label>\n          <input type=\"range\" min=\"50\" max=\"2000\" value={produceInterval} onChange={(e) => setProduceInterval(Number(e.target.value))} className=\"w-full mt-2\" />\n        </div>\n        <div>\n          <label className=\"text-sm text-gray-600 dark:text-gray-300\">{t('project.ebpc.processingTime', { ms: processTime })}</label>\n          <input type=\"range\" min=\"50\" max=\"3000\" value={processTime} onChange={(e) => setProcessTime(Number(e.target.value))} className=\"w-full mt-2\" />\n        </div>\n        <div>\n          <label className=\"text-sm text-gray-600 dark:text-gray-300\">{t('project.ebpc.concurrencyLabel', { n: concurrency })}</label>\n          <input type=\"range\" min=\"1\" max=\"8\" value={concurrency} onChange={(e) => setConcurrency(Number(e.target.value))} className=\"w-full mt-2\" />\n        </div>\n        <div>\n          <label className=\"text-sm text-gray-600 dark:text-gray-300\">{t('project.ebpc.bufferSize', { n: bufferSize })}</label>\n          <input type=\"range\" min=\"1\" max=\"200\" value={bufferSize} onChange={(e) => setBufferSize(Number(e.target.value))} className=\"w-full mt-2\" />\n        </div>\n      </div>\n\n      <div className=\"flex gap-3 items-center mb-4\">\n        <div className=\"flex gap-2\">\n          <button onClick={start} disabled={running} className=\"text-white bg-orange-600 hover:bg-orange-700 disabled:opacity-50 font-medium rounded-full px-4 py-2\">{t('project.ebpc.start')}</button>\n          <button onClick={stop} disabled={!running} className=\"text-orange-700 bg-orange-100 hover:bg-orange-200 disabled:opacity-50 font-medium rounded-full px-4 py-2\">{t('project.ebpc.stop')}</button>\n        </div>\n        <div className=\"ml-4 flex items-center gap-2\">\n          <label className=\"text-sm text-gray-600 dark:text-gray-300\">{t('project.ebpc.modeLabel')}</label>\n          <select value={mode} onChange={(e) => setMode(e.target.value)} className=\"text-sm p-1 rounded\">\n            <option value=\"bounded\">{t('project.ebpc.modeBounded')}</option>\n            <option value=\"hard-buffer\">{t('project.ebpc.modeHardBuffer')}</option>\n            <option value=\"blocking\">{t('project.ebpc.modeBlocking')}</option>\n          </select>\n        </div>\n      </div>\n\n      <div className=\"mb-4\">\n        <div className=\"flex justify-between items-center mb-2\">\n          <div className=\"text-sm text-gray-700 dark:text-gray-200\">{t('project.ebpc.queueHeading', { size: queue.length })}</div>\n          <div className=\"text-xs text-gray-500 dark:text-gray-400\">{t('project.ebpc.recentQueueLength')}</div>\n        </div>\n        <div className=\"flex items-center gap-4\">\n          <div className=\"flex-1\">\n            <div className=\"flex flex-wrap gap-1 min-h-10 transition-all\" style={{ position: 'relative' }}>\n              {queue.map((it, idx) => {\n                // horizontal offset so items slide smoothly as earlier items removed\n                const offset = idx * 18\n                const isLast = idx === queue.length - 1\n                const transform = `translateX(${offset}px) scale(${isLast ? 1.03 : 1})`\n                const style = {\n                  transform,\n                  transition: 'transform 380ms cubic-bezier(.22,.9,.27,1), opacity 300ms ease',\n                  display: 'inline-block',\n                  opacity: 1,\n                }\n                return (\n                  <div key={it.id} style={style} className=\"px-2 py-1 text-xs bg-gray-100 dark:bg-slate-700 rounded\">\n                    #{it.id}\n                  </div>\n                )\n              })}\n            </div>\n          </div>\n          <div className=\"w-40 h-10\">\n            <Sparkline values={queueHistory} width={160} height={40} color=\"#f59e0b\" />\n          </div>\n        </div>\n      </div>\n\n      <div className=\"mb-4\">\n  <div className=\"text-sm text-gray-700 dark:text-gray-200 mb-2\">{t('project.ebpc.recentlyProcessed')}</div>\n        <div className=\"flex gap-2 flex-wrap\">\n          {recentProcessed.map((id) => (\n            <div key={id} aria-hidden style={{ animation: 'slideUpFade 0.8s ease forwards' }} className=\"px-2 py-1 text-xs bg-green-100 dark:bg-green-800 rounded\">\n               #{id}\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm text-gray-700 dark:text-gray-200\">\n  <div>{t('project.ebpc.processed')}: <strong>{processed}</strong></div>\n  <div>{t('project.ebpc.dropped')}: <strong>{dropped}</strong></div>\n  <div>{t('project.ebpc.workers')}: <strong>{workersRef.current}</strong></div>\n  <div>{t('project.ebpc.avgLatency')}: <strong>{avgLatency} ms</strong></div>\n      </div>\n    </div>\n  )\n}\n\nconst ProducerConsumerDemoForward = React.forwardRef((props, ref) => {\n  const handlersRef = React.useRef(null)\n  React.useImperativeHandle(ref, () => ({\n    start: () => handlersRef.current && handlersRef.current.start && handlersRef.current.start(),\n    stop: () => handlersRef.current && handlersRef.current.stop && handlersRef.current.stop(),\n  }))\n  return <ProducerConsumerDemo {...props} __exposeHandlersRef={handlersRef} />\n})\n\nexport default ProducerConsumerDemoForward\n","export var epsilon = 1e-6;\nexport var epsilon2 = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var quarterPi = pi / 4;\nexport var tau = pi * 2;\n\nexport var degrees = 180 / pi;\nexport var radians = pi / 180;\n\nexport var abs = Math.abs;\nexport var atan = Math.atan;\nexport var atan2 = Math.atan2;\nexport var cos = Math.cos;\nexport var ceil = Math.ceil;\nexport var exp = Math.exp;\nexport var floor = Math.floor;\nexport var hypot = Math.hypot;\nexport var log = Math.log;\nexport var pow = Math.pow;\nexport var sin = Math.sin;\nexport var sign = Math.sign || function(x) { return x > 0 ? 1 : x < 0 ? -1 : 0; };\nexport var sqrt = Math.sqrt;\nexport var tan = Math.tan;\n\nexport function acos(x) {\n  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);\n}\n\nexport function asin(x) {\n  return x > 1 ? halfPi : x < -1 ? -halfPi : Math.asin(x);\n}\n\nexport function haversin(x) {\n  return (x = sin(x / 2)) * x;\n}\n","export default function(a, b) {\n\n  function compose(x, y) {\n    return x = a(x, y), b(x[0], x[1]);\n  }\n\n  if (a.invert && b.invert) compose.invert = function(x, y) {\n    return x = b.invert(x, y), x && a.invert(x[0], x[1]);\n  };\n\n  return compose;\n}\n","import compose from \"./compose.js\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math.js\";\n\nfunction rotationIdentity(lambda, phi) {\n  if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n  return [lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    lambda += deltaLambda;\n    if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n    return [lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n","export default function noop() {}\n","import noop from \"../noop.js\";\n\nexport default function() {\n  var lines = [],\n      line;\n  return {\n    point: function(x, y, m) {\n      line.push([x, y, m]);\n    },\n    lineStart: function() {\n      lines.push(line = []);\n    },\n    lineEnd: noop,\n    rejoin: function() {\n      if (lines.length > 1) lines.push(lines.pop().concat(lines.shift()));\n    },\n    result: function() {\n      var result = lines;\n      lines = [];\n      line = null;\n      return result;\n    }\n  };\n}\n","import {abs, epsilon} from \"./math.js\";\n\nexport default function(a, b) {\n  return abs(a[0] - b[0]) < epsilon && abs(a[1] - b[1]) < epsilon;\n}\n","import pointEqual from \"../pointEqual.js\";\nimport {epsilon} from \"../math.js\";\n\nfunction Intersection(point, points, other, entry) {\n  this.x = point;\n  this.z = points;\n  this.o = other; // another intersection\n  this.e = entry; // is an entry?\n  this.v = false; // visited\n  this.n = this.p = null; // next & previous\n}\n\n// A generalized polygon clipping algorithm: given a polygon that has been cut\n// into its visible line segments, and rejoins the segments by interpolating\n// along the clip edge.\nexport default function(segments, compareIntersection, startInside, interpolate, stream) {\n  var subject = [],\n      clip = [],\n      i,\n      n;\n\n  segments.forEach(function(segment) {\n    if ((n = segment.length - 1) <= 0) return;\n    var n, p0 = segment[0], p1 = segment[n], x;\n\n    if (pointEqual(p0, p1)) {\n      if (!p0[2] && !p1[2]) {\n        stream.lineStart();\n        for (i = 0; i < n; ++i) stream.point((p0 = segment[i])[0], p0[1]);\n        stream.lineEnd();\n        return;\n      }\n      // handle degenerate cases by moving the point\n      p1[0] += 2 * epsilon;\n    }\n\n    subject.push(x = new Intersection(p0, segment, null, true));\n    clip.push(x.o = new Intersection(p0, null, x, false));\n    subject.push(x = new Intersection(p1, segment, null, false));\n    clip.push(x.o = new Intersection(p1, null, x, true));\n  });\n\n  if (!subject.length) return;\n\n  clip.sort(compareIntersection);\n  link(subject);\n  link(clip);\n\n  for (i = 0, n = clip.length; i < n; ++i) {\n    clip[i].e = startInside = !startInside;\n  }\n\n  var start = subject[0],\n      points,\n      point;\n\n  while (1) {\n    // Find first unvisited intersection.\n    var current = start,\n        isSubject = true;\n    while (current.v) if ((current = current.n) === start) return;\n    points = current.z;\n    stream.lineStart();\n    do {\n      current.v = current.o.v = true;\n      if (current.e) {\n        if (isSubject) {\n          for (i = 0, n = points.length; i < n; ++i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.n.x, 1, stream);\n        }\n        current = current.n;\n      } else {\n        if (isSubject) {\n          points = current.p.z;\n          for (i = points.length - 1; i >= 0; --i) stream.point((point = points[i])[0], point[1]);\n        } else {\n          interpolate(current.x, current.p.x, -1, stream);\n        }\n        current = current.p;\n      }\n      current = current.o;\n      points = current.z;\n      isSubject = !isSubject;\n    } while (!current.v);\n    stream.lineEnd();\n  }\n}\n\nfunction link(array) {\n  if (!(n = array.length)) return;\n  var n,\n      i = 0,\n      a = array[0],\n      b;\n  while (++i < n) {\n    a.n = b = array[i];\n    b.p = a;\n    a = b;\n  }\n  a.n = b = array[0];\n  b.p = a;\n}\n","// https://github.com/python/cpython/blob/a74eea238f5baba15797e2e8b570d153bc8690a7/Modules/mathmodule.c#L1423\nexport class Adder {\n  constructor() {\n    this._partials = new Float64Array(32);\n    this._n = 0;\n  }\n  add(x) {\n    const p = this._partials;\n    let i = 0;\n    for (let j = 0; j < this._n && j < 32; j++) {\n      const y = p[j],\n        hi = x + y,\n        lo = Math.abs(x) < Math.abs(y) ? x - (hi - y) : y - (hi - x);\n      if (lo) p[i++] = lo;\n      x = hi;\n    }\n    p[i] = x;\n    this._n = i + 1;\n    return this;\n  }\n  valueOf() {\n    const p = this._partials;\n    let n = this._n, x, y, lo, hi = 0;\n    if (n > 0) {\n      hi = p[--n];\n      while (n > 0) {\n        x = hi;\n        y = p[--n];\n        hi = x + y;\n        lo = y - (hi - x);\n        if (lo) break;\n      }\n      if (n > 0 && ((lo < 0 && p[n - 1] < 0) || (lo > 0 && p[n - 1] > 0))) {\n        y = lo * 2;\n        x = hi + y;\n        if (y == x - hi) hi = x;\n      }\n    }\n    return hi;\n  }\n}\n\nexport function fsum(values, valueof) {\n  const adder = new Adder();\n  if (valueof === undefined) {\n    for (let value of values) {\n      if (value = +value) {\n        adder.add(value);\n      }\n    }\n  } else {\n    let index = -1;\n    for (let value of values) {\n      if (value = +valueof(value, ++index, values)) {\n        adder.add(value);\n      }\n    }\n  }\n  return +adder;\n}\n\nexport function fcumsum(values, valueof) {\n  const adder = new Adder();\n  let index = -1;\n  return Float64Array.from(values, valueof === undefined\n      ? v => adder.add(+v || 0)\n      : v => adder.add(+valueof(v, ++index, values) || 0)\n  );\n}\n","import {asin, atan2, cos, sin, sqrt} from \"./math.js\";\n\nexport function spherical(cartesian) {\n  return [atan2(cartesian[1], cartesian[0]), asin(cartesian[2])];\n}\n\nexport function cartesian(spherical) {\n  var lambda = spherical[0], phi = spherical[1], cosPhi = cos(phi);\n  return [cosPhi * cos(lambda), cosPhi * sin(lambda), sin(phi)];\n}\n\nexport function cartesianDot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n\nexport function cartesianCross(a, b) {\n  return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n}\n\n// TODO return a\nexport function cartesianAddInPlace(a, b) {\n  a[0] += b[0], a[1] += b[1], a[2] += b[2];\n}\n\nexport function cartesianScale(vector, k) {\n  return [vector[0] * k, vector[1] * k, vector[2] * k];\n}\n\n// TODO return d\nexport function cartesianNormalizeInPlace(d) {\n  var l = sqrt(d[0] * d[0] + d[1] * d[1] + d[2] * d[2]);\n  d[0] /= l, d[1] /= l, d[2] /= l;\n}\n","import {Adder} from \"d3-array\";\nimport {cartesian, cartesianCross, cartesianNormalizeInPlace} from \"./cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, epsilon2, halfPi, pi, quarterPi, sign, sin, tau} from \"./math.js\";\n\nfunction longitude(point) {\n  return abs(point[0]) <= pi ? point[0] : sign(point[0]) * ((abs(point[0]) + pi) % tau - pi);\n}\n\nexport default function(polygon, point) {\n  var lambda = longitude(point),\n      phi = point[1],\n      sinPhi = sin(phi),\n      normal = [sin(lambda), -cos(lambda), 0],\n      angle = 0,\n      winding = 0;\n\n  var sum = new Adder();\n\n  if (sinPhi === 1) phi = halfPi + epsilon;\n  else if (sinPhi === -1) phi = -halfPi - epsilon;\n\n  for (var i = 0, n = polygon.length; i < n; ++i) {\n    if (!(m = (ring = polygon[i]).length)) continue;\n    var ring,\n        m,\n        point0 = ring[m - 1],\n        lambda0 = longitude(point0),\n        phi0 = point0[1] / 2 + quarterPi,\n        sinPhi0 = sin(phi0),\n        cosPhi0 = cos(phi0);\n\n    for (var j = 0; j < m; ++j, lambda0 = lambda1, sinPhi0 = sinPhi1, cosPhi0 = cosPhi1, point0 = point1) {\n      var point1 = ring[j],\n          lambda1 = longitude(point1),\n          phi1 = point1[1] / 2 + quarterPi,\n          sinPhi1 = sin(phi1),\n          cosPhi1 = cos(phi1),\n          delta = lambda1 - lambda0,\n          sign = delta >= 0 ? 1 : -1,\n          absDelta = sign * delta,\n          antimeridian = absDelta > pi,\n          k = sinPhi0 * sinPhi1;\n\n      sum.add(atan2(k * sign * sin(absDelta), cosPhi0 * cosPhi1 + k * cos(absDelta)));\n      angle += antimeridian ? delta + sign * tau : delta;\n\n      // Are the longitudes either side of the points meridian (lambda),\n      // and are the latitudes smaller than the parallel (phi)?\n      if (antimeridian ^ lambda0 >= lambda ^ lambda1 >= lambda) {\n        var arc = cartesianCross(cartesian(point0), cartesian(point1));\n        cartesianNormalizeInPlace(arc);\n        var intersection = cartesianCross(normal, arc);\n        cartesianNormalizeInPlace(intersection);\n        var phiArc = (antimeridian ^ delta >= 0 ? -1 : 1) * asin(intersection[2]);\n        if (phi > phiArc || phi === phiArc && (arc[0] || arc[1])) {\n          winding += antimeridian ^ delta >= 0 ? 1 : -1;\n        }\n      }\n    }\n  }\n\n  // First, determine whether the South pole is inside or outside:\n  //\n  // It is inside if:\n  // * the polygon winds around it in a clockwise direction.\n  // * the polygon does not (cumulatively) wind around it, but has a negative\n  //   (counter-clockwise) area.\n  //\n  // Second, count the (signed) number of times a segment crosses a lambda\n  // from the point to the South pole.  If it is zero, then the point is the\n  // same side as the South pole.\n\n  return (angle < -epsilon || angle < epsilon && sum < -epsilon2) ^ (winding & 1);\n}\n","function* flatten(arrays) {\n  for (const array of arrays) {\n    yield* array;\n  }\n}\n\nexport default function merge(arrays) {\n  return Array.from(flatten(arrays));\n}\n","import clipBuffer from \"./buffer.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {epsilon, halfPi} from \"../math.js\";\nimport polygonContains from \"../polygonContains.js\";\nimport {merge} from \"d3-array\";\n\nexport default function(pointVisible, clipLine, interpolate, start) {\n  return function(sink) {\n    var line = clipLine(sink),\n        ringBuffer = clipBuffer(),\n        ringSink = clipLine(ringBuffer),\n        polygonStarted = false,\n        polygon,\n        segments,\n        ring;\n\n    var clip = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() {\n        clip.point = pointRing;\n        clip.lineStart = ringStart;\n        clip.lineEnd = ringEnd;\n        segments = [];\n        polygon = [];\n      },\n      polygonEnd: function() {\n        clip.point = point;\n        clip.lineStart = lineStart;\n        clip.lineEnd = lineEnd;\n        segments = merge(segments);\n        var startInside = polygonContains(polygon, start);\n        if (segments.length) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          clipRejoin(segments, compareIntersection, startInside, interpolate, sink);\n        } else if (startInside) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          interpolate(null, null, 1, sink);\n          sink.lineEnd();\n        }\n        if (polygonStarted) sink.polygonEnd(), polygonStarted = false;\n        segments = polygon = null;\n      },\n      sphere: function() {\n        sink.polygonStart();\n        sink.lineStart();\n        interpolate(null, null, 1, sink);\n        sink.lineEnd();\n        sink.polygonEnd();\n      }\n    };\n\n    function point(lambda, phi) {\n      if (pointVisible(lambda, phi)) sink.point(lambda, phi);\n    }\n\n    function pointLine(lambda, phi) {\n      line.point(lambda, phi);\n    }\n\n    function lineStart() {\n      clip.point = pointLine;\n      line.lineStart();\n    }\n\n    function lineEnd() {\n      clip.point = point;\n      line.lineEnd();\n    }\n\n    function pointRing(lambda, phi) {\n      ring.push([lambda, phi]);\n      ringSink.point(lambda, phi);\n    }\n\n    function ringStart() {\n      ringSink.lineStart();\n      ring = [];\n    }\n\n    function ringEnd() {\n      pointRing(ring[0][0], ring[0][1]);\n      ringSink.lineEnd();\n\n      var clean = ringSink.clean(),\n          ringSegments = ringBuffer.result(),\n          i, n = ringSegments.length, m,\n          segment,\n          point;\n\n      ring.pop();\n      polygon.push(ring);\n      ring = null;\n\n      if (!n) return;\n\n      // No intersections.\n      if (clean & 1) {\n        segment = ringSegments[0];\n        if ((m = segment.length - 1) > 0) {\n          if (!polygonStarted) sink.polygonStart(), polygonStarted = true;\n          sink.lineStart();\n          for (i = 0; i < m; ++i) sink.point((point = segment[i])[0], point[1]);\n          sink.lineEnd();\n        }\n        return;\n      }\n\n      // Rejoin connected segments.\n      // TODO reuse ringBuffer.rejoin()?\n      if (n > 1 && clean & 2) ringSegments.push(ringSegments.pop().concat(ringSegments.shift()));\n\n      segments.push(ringSegments.filter(validSegment));\n    }\n\n    return clip;\n  };\n}\n\nfunction validSegment(segment) {\n  return segment.length > 1;\n}\n\n// Intersections are sorted along the clip edge. For both antimeridian cutting\n// and circle clipping, the same comparison is used.\nfunction compareIntersection(a, b) {\n  return ((a = a.x)[0] < 0 ? a[1] - halfPi - epsilon : halfPi - a[1])\n       - ((b = b.x)[0] < 0 ? b[1] - halfPi - epsilon : halfPi - b[1]);\n}\n","import clip from \"./index.js\";\nimport {abs, atan, cos, epsilon, halfPi, pi, sin} from \"../math.js\";\n\nexport default clip(\n  function() { return true; },\n  clipAntimeridianLine,\n  clipAntimeridianInterpolate,\n  [-pi, -halfPi]\n);\n\n// Takes a line and cuts into visible segments. Return values: 0 - there were\n// intersections or the line was empty; 1 - no intersections; 2 - there were\n// intersections, and the first and last segments should be rejoined.\nfunction clipAntimeridianLine(stream) {\n  var lambda0 = NaN,\n      phi0 = NaN,\n      sign0 = NaN,\n      clean; // no intersections\n\n  return {\n    lineStart: function() {\n      stream.lineStart();\n      clean = 1;\n    },\n    point: function(lambda1, phi1) {\n      var sign1 = lambda1 > 0 ? pi : -pi,\n          delta = abs(lambda1 - lambda0);\n      if (abs(delta - pi) < epsilon) { // line crosses a pole\n        stream.point(lambda0, phi0 = (phi0 + phi1) / 2 > 0 ? halfPi : -halfPi);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        stream.point(lambda1, phi0);\n        clean = 0;\n      } else if (sign0 !== sign1 && delta >= pi) { // line crosses antimeridian\n        if (abs(lambda0 - sign0) < epsilon) lambda0 -= sign0 * epsilon; // handle degeneracies\n        if (abs(lambda1 - sign1) < epsilon) lambda1 -= sign1 * epsilon;\n        phi0 = clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1);\n        stream.point(sign0, phi0);\n        stream.lineEnd();\n        stream.lineStart();\n        stream.point(sign1, phi0);\n        clean = 0;\n      }\n      stream.point(lambda0 = lambda1, phi0 = phi1);\n      sign0 = sign1;\n    },\n    lineEnd: function() {\n      stream.lineEnd();\n      lambda0 = phi0 = NaN;\n    },\n    clean: function() {\n      return 2 - clean; // if intersections, rejoin first and last segments\n    }\n  };\n}\n\nfunction clipAntimeridianIntersect(lambda0, phi0, lambda1, phi1) {\n  var cosPhi0,\n      cosPhi1,\n      sinLambda0Lambda1 = sin(lambda0 - lambda1);\n  return abs(sinLambda0Lambda1) > epsilon\n      ? atan((sin(phi0) * (cosPhi1 = cos(phi1)) * sin(lambda1)\n          - sin(phi1) * (cosPhi0 = cos(phi0)) * sin(lambda0))\n          / (cosPhi0 * cosPhi1 * sinLambda0Lambda1))\n      : (phi0 + phi1) / 2;\n}\n\nfunction clipAntimeridianInterpolate(from, to, direction, stream) {\n  var phi;\n  if (from == null) {\n    phi = direction * halfPi;\n    stream.point(-pi, phi);\n    stream.point(0, phi);\n    stream.point(pi, phi);\n    stream.point(pi, 0);\n    stream.point(pi, -phi);\n    stream.point(0, -phi);\n    stream.point(-pi, -phi);\n    stream.point(-pi, 0);\n    stream.point(-pi, phi);\n  } else if (abs(from[0] - to[0]) > epsilon) {\n    var lambda = from[0] < to[0] ? pi : -pi;\n    phi = direction * lambda / 2;\n    stream.point(-lambda, phi);\n    stream.point(0, phi);\n    stream.point(lambda, phi);\n  } else {\n    stream.point(to[0], to[1]);\n  }\n}\n","import {cartesian, cartesianNormalizeInPlace, spherical} from \"./cartesian.js\";\nimport constant from \"./constant.js\";\nimport {acos, cos, degrees, epsilon, radians, sin, tau} from \"./math.js\";\nimport {rotateRadians} from \"./rotation.js\";\n\n// Generates a circle centered at [0, 0], with a given radius and precision.\nexport function circleStream(stream, radius, delta, direction, t0, t1) {\n  if (!delta) return;\n  var cosRadius = cos(radius),\n      sinRadius = sin(radius),\n      step = direction * delta;\n  if (t0 == null) {\n    t0 = radius + direction * tau;\n    t1 = radius - step / 2;\n  } else {\n    t0 = circleRadius(cosRadius, t0);\n    t1 = circleRadius(cosRadius, t1);\n    if (direction > 0 ? t0 < t1 : t0 > t1) t0 += direction * tau;\n  }\n  for (var point, t = t0; direction > 0 ? t > t1 : t < t1; t -= step) {\n    point = spherical([cosRadius, -sinRadius * cos(t), -sinRadius * sin(t)]);\n    stream.point(point[0], point[1]);\n  }\n}\n\n// Returns the signed angle of a cartesian point relative to [cosRadius, 0, 0].\nfunction circleRadius(cosRadius, point) {\n  point = cartesian(point), point[0] -= cosRadius;\n  cartesianNormalizeInPlace(point);\n  var radius = acos(-point[1]);\n  return ((-point[2] < 0 ? -radius : radius) + tau - epsilon) % tau;\n}\n\nexport default function() {\n  var center = constant([0, 0]),\n      radius = constant(90),\n      precision = constant(2),\n      ring,\n      rotate,\n      stream = {point: point};\n\n  function point(x, y) {\n    ring.push(x = rotate(x, y));\n    x[0] *= degrees, x[1] *= degrees;\n  }\n\n  function circle() {\n    var c = center.apply(this, arguments),\n        r = radius.apply(this, arguments) * radians,\n        p = precision.apply(this, arguments) * radians;\n    ring = [];\n    rotate = rotateRadians(-c[0] * radians, -c[1] * radians, 0).invert;\n    circleStream(stream, r, p, 1);\n    c = {type: \"Polygon\", coordinates: [ring]};\n    ring = rotate = null;\n    return c;\n  }\n\n  circle.center = function(_) {\n    return arguments.length ? (center = typeof _ === \"function\" ? _ : constant([+_[0], +_[1]]), circle) : center;\n  };\n\n  circle.radius = function(_) {\n    return arguments.length ? (radius = typeof _ === \"function\" ? _ : constant(+_), circle) : radius;\n  };\n\n  circle.precision = function(_) {\n    return arguments.length ? (precision = typeof _ === \"function\" ? _ : constant(+_), circle) : precision;\n  };\n\n  return circle;\n}\n","import {abs, epsilon} from \"../math.js\";\nimport clipBuffer from \"./buffer.js\";\nimport clipLine from \"./line.js\";\nimport clipRejoin from \"./rejoin.js\";\nimport {merge} from \"d3-array\";\n\nvar clipMax = 1e9, clipMin = -clipMax;\n\n// TODO Use d3-polygons polygonContains here for the ring check?\n// TODO Eliminate duplicate buffering in clipBuffer and polygon.push?\n\nexport default function clipRectangle(x0, y0, x1, y1) {\n\n  function visible(x, y) {\n    return x0 <= x && x <= x1 && y0 <= y && y <= y1;\n  }\n\n  function interpolate(from, to, direction, stream) {\n    var a = 0, a1 = 0;\n    if (from == null\n        || (a = corner(from, direction)) !== (a1 = corner(to, direction))\n        || comparePoint(from, to) < 0 ^ direction > 0) {\n      do stream.point(a === 0 || a === 3 ? x0 : x1, a > 1 ? y1 : y0);\n      while ((a = (a + direction + 4) % 4) !== a1);\n    } else {\n      stream.point(to[0], to[1]);\n    }\n  }\n\n  function corner(p, direction) {\n    return abs(p[0] - x0) < epsilon ? direction > 0 ? 0 : 3\n        : abs(p[0] - x1) < epsilon ? direction > 0 ? 2 : 1\n        : abs(p[1] - y0) < epsilon ? direction > 0 ? 1 : 0\n        : direction > 0 ? 3 : 2; // abs(p[1] - y1) < epsilon\n  }\n\n  function compareIntersection(a, b) {\n    return comparePoint(a.x, b.x);\n  }\n\n  function comparePoint(a, b) {\n    var ca = corner(a, 1),\n        cb = corner(b, 1);\n    return ca !== cb ? ca - cb\n        : ca === 0 ? b[1] - a[1]\n        : ca === 1 ? a[0] - b[0]\n        : ca === 2 ? a[1] - b[1]\n        : b[0] - a[0];\n  }\n\n  return function(stream) {\n    var activeStream = stream,\n        bufferStream = clipBuffer(),\n        segments,\n        polygon,\n        ring,\n        x__, y__, v__, // first point\n        x_, y_, v_, // previous point\n        first,\n        clean;\n\n    var clipStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: polygonStart,\n      polygonEnd: polygonEnd\n    };\n\n    function point(x, y) {\n      if (visible(x, y)) activeStream.point(x, y);\n    }\n\n    function polygonInside() {\n      var winding = 0;\n\n      for (var i = 0, n = polygon.length; i < n; ++i) {\n        for (var ring = polygon[i], j = 1, m = ring.length, point = ring[0], a0, a1, b0 = point[0], b1 = point[1]; j < m; ++j) {\n          a0 = b0, a1 = b1, point = ring[j], b0 = point[0], b1 = point[1];\n          if (a1 <= y1) { if (b1 > y1 && (b0 - a0) * (y1 - a1) > (b1 - a1) * (x0 - a0)) ++winding; }\n          else { if (b1 <= y1 && (b0 - a0) * (y1 - a1) < (b1 - a1) * (x0 - a0)) --winding; }\n        }\n      }\n\n      return winding;\n    }\n\n    // Buffer geometry within a polygon and then clip it en masse.\n    function polygonStart() {\n      activeStream = bufferStream, segments = [], polygon = [], clean = true;\n    }\n\n    function polygonEnd() {\n      var startInside = polygonInside(),\n          cleanInside = clean && startInside,\n          visible = (segments = merge(segments)).length;\n      if (cleanInside || visible) {\n        stream.polygonStart();\n        if (cleanInside) {\n          stream.lineStart();\n          interpolate(null, null, 1, stream);\n          stream.lineEnd();\n        }\n        if (visible) {\n          clipRejoin(segments, compareIntersection, startInside, interpolate, stream);\n        }\n        stream.polygonEnd();\n      }\n      activeStream = stream, segments = polygon = ring = null;\n    }\n\n    function lineStart() {\n      clipStream.point = linePoint;\n      if (polygon) polygon.push(ring = []);\n      first = true;\n      v_ = false;\n      x_ = y_ = NaN;\n    }\n\n    // TODO rather than special-case polygons, simply handle them separately.\n    // Ideally, coincident intersection points should be jittered to avoid\n    // clipping issues.\n    function lineEnd() {\n      if (segments) {\n        linePoint(x__, y__);\n        if (v__ && v_) bufferStream.rejoin();\n        segments.push(bufferStream.result());\n      }\n      clipStream.point = point;\n      if (v_) activeStream.lineEnd();\n    }\n\n    function linePoint(x, y) {\n      var v = visible(x, y);\n      if (polygon) ring.push([x, y]);\n      if (first) {\n        x__ = x, y__ = y, v__ = v;\n        first = false;\n        if (v) {\n          activeStream.lineStart();\n          activeStream.point(x, y);\n        }\n      } else {\n        if (v && v_) activeStream.point(x, y);\n        else {\n          var a = [x_ = Math.max(clipMin, Math.min(clipMax, x_)), y_ = Math.max(clipMin, Math.min(clipMax, y_))],\n              b = [x = Math.max(clipMin, Math.min(clipMax, x)), y = Math.max(clipMin, Math.min(clipMax, y))];\n          if (clipLine(a, b, x0, y0, x1, y1)) {\n            if (!v_) {\n              activeStream.lineStart();\n              activeStream.point(a[0], a[1]);\n            }\n            activeStream.point(b[0], b[1]);\n            if (!v) activeStream.lineEnd();\n            clean = false;\n          } else if (v) {\n            activeStream.lineStart();\n            activeStream.point(x, y);\n            clean = false;\n          }\n        }\n      }\n      x_ = x, y_ = y, v_ = v;\n    }\n\n    return clipStream;\n  };\n}\n","export default function(a, b, x0, y0, x1, y1) {\n  var ax = a[0],\n      ay = a[1],\n      bx = b[0],\n      by = b[1],\n      t0 = 0,\n      t1 = 1,\n      dx = bx - ax,\n      dy = by - ay,\n      r;\n\n  r = x0 - ax;\n  if (!dx && r > 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dx > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = x1 - ax;\n  if (!dx && r < 0) return;\n  r /= dx;\n  if (dx < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dx > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  r = y0 - ay;\n  if (!dy && r > 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  } else if (dy > 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  }\n\n  r = y1 - ay;\n  if (!dy && r < 0) return;\n  r /= dy;\n  if (dy < 0) {\n    if (r > t1) return;\n    if (r > t0) t0 = r;\n  } else if (dy > 0) {\n    if (r < t0) return;\n    if (r < t1) t1 = r;\n  }\n\n  if (t0 > 0) a[0] = ax + t0 * dx, a[1] = ay + t0 * dy;\n  if (t1 < 1) b[0] = ax + t1 * dx, b[1] = ay + t1 * dy;\n  return true;\n}\n","export default x => x;\n","export default function(methods) {\n  return {\n    stream: transformer(methods)\n  };\n}\n\nexport function transformer(methods) {\n  return function(stream) {\n    var s = new TransformStream;\n    for (var key in methods) s[key] = methods[key];\n    s.stream = stream;\n    return s;\n  };\n}\n\nfunction TransformStream() {}\n\nTransformStream.prototype = {\n  constructor: TransformStream,\n  point: function(x, y) { this.stream.point(x, y); },\n  sphere: function() { this.stream.sphere(); },\n  lineStart: function() { this.stream.lineStart(); },\n  lineEnd: function() { this.stream.lineEnd(); },\n  polygonStart: function() { this.stream.polygonStart(); },\n  polygonEnd: function() { this.stream.polygonEnd(); }\n};\n","function streamGeometry(geometry, stream) {\n  if (geometry && streamGeometryType.hasOwnProperty(geometry.type)) {\n    streamGeometryType[geometry.type](geometry, stream);\n  }\n}\n\nvar streamObjectType = {\n  Feature: function(object, stream) {\n    streamGeometry(object.geometry, stream);\n  },\n  FeatureCollection: function(object, stream) {\n    var features = object.features, i = -1, n = features.length;\n    while (++i < n) streamGeometry(features[i].geometry, stream);\n  }\n};\n\nvar streamGeometryType = {\n  Sphere: function(object, stream) {\n    stream.sphere();\n  },\n  Point: function(object, stream) {\n    object = object.coordinates;\n    stream.point(object[0], object[1], object[2]);\n  },\n  MultiPoint: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) object = coordinates[i], stream.point(object[0], object[1], object[2]);\n  },\n  LineString: function(object, stream) {\n    streamLine(object.coordinates, stream, 0);\n  },\n  MultiLineString: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamLine(coordinates[i], stream, 0);\n  },\n  Polygon: function(object, stream) {\n    streamPolygon(object.coordinates, stream);\n  },\n  MultiPolygon: function(object, stream) {\n    var coordinates = object.coordinates, i = -1, n = coordinates.length;\n    while (++i < n) streamPolygon(coordinates[i], stream);\n  },\n  GeometryCollection: function(object, stream) {\n    var geometries = object.geometries, i = -1, n = geometries.length;\n    while (++i < n) streamGeometry(geometries[i], stream);\n  }\n};\n\nfunction streamLine(coordinates, stream, closed) {\n  var i = -1, n = coordinates.length - closed, coordinate;\n  stream.lineStart();\n  while (++i < n) coordinate = coordinates[i], stream.point(coordinate[0], coordinate[1], coordinate[2]);\n  stream.lineEnd();\n}\n\nfunction streamPolygon(coordinates, stream) {\n  var i = -1, n = coordinates.length;\n  stream.polygonStart();\n  while (++i < n) streamLine(coordinates[i], stream, 1);\n  stream.polygonEnd();\n}\n\nexport default function(object, stream) {\n  if (object && streamObjectType.hasOwnProperty(object.type)) {\n    streamObjectType[object.type](object, stream);\n  } else {\n    streamGeometry(object, stream);\n  }\n}\n","import noop from \"../noop.js\";\n\nvar x0 = Infinity,\n    y0 = x0,\n    x1 = -x0,\n    y1 = x1;\n\nvar boundsStream = {\n  point: boundsPoint,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: noop,\n  polygonEnd: noop,\n  result: function() {\n    var bounds = [[x0, y0], [x1, y1]];\n    x1 = y1 = -(y0 = x0 = Infinity);\n    return bounds;\n  }\n};\n\nfunction boundsPoint(x, y) {\n  if (x < x0) x0 = x;\n  if (x > x1) x1 = x;\n  if (y < y0) y0 = y;\n  if (y > y1) y1 = y;\n}\n\nexport default boundsStream;\n","import {default as geoStream} from \"../stream.js\";\nimport boundsStream from \"../path/bounds.js\";\n\nfunction fit(projection, fitBounds, object) {\n  var clip = projection.clipExtent && projection.clipExtent();\n  projection.scale(150).translate([0, 0]);\n  if (clip != null) projection.clipExtent(null);\n  geoStream(object, projection.stream(boundsStream));\n  fitBounds(boundsStream.result());\n  if (clip != null) projection.clipExtent(clip);\n  return projection;\n}\n\nexport function fitExtent(projection, extent, object) {\n  return fit(projection, function(b) {\n    var w = extent[1][0] - extent[0][0],\n        h = extent[1][1] - extent[0][1],\n        k = Math.min(w / (b[1][0] - b[0][0]), h / (b[1][1] - b[0][1])),\n        x = +extent[0][0] + (w - k * (b[1][0] + b[0][0])) / 2,\n        y = +extent[0][1] + (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitSize(projection, size, object) {\n  return fitExtent(projection, [[0, 0], size], object);\n}\n\nexport function fitWidth(projection, width, object) {\n  return fit(projection, function(b) {\n    var w = +width,\n        k = w / (b[1][0] - b[0][0]),\n        x = (w - k * (b[1][0] + b[0][0])) / 2,\n        y = -k * b[0][1];\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n\nexport function fitHeight(projection, height, object) {\n  return fit(projection, function(b) {\n    var h = +height,\n        k = h / (b[1][1] - b[0][1]),\n        x = -k * b[0][0],\n        y = (h - k * (b[1][1] + b[0][1])) / 2;\n    projection.scale(150 * k).translate([x, y]);\n  }, object);\n}\n","import {cartesian} from \"../cartesian.js\";\nimport {abs, asin, atan2, cos, epsilon, radians, sqrt} from \"../math.js\";\nimport {transformer} from \"../transform.js\";\n\nvar maxDepth = 16, // maximum depth of subdivision\n    cosMinDistance = cos(30 * radians); // cos(minimum angular distance)\n\nexport default function(project, delta2) {\n  return +delta2 ? resample(project, delta2) : resampleNone(project);\n}\n\nfunction resampleNone(project) {\n  return transformer({\n    point: function(x, y) {\n      x = project(x, y);\n      this.stream.point(x[0], x[1]);\n    }\n  });\n}\n\nfunction resample(project, delta2) {\n\n  function resampleLineTo(x0, y0, lambda0, a0, b0, c0, x1, y1, lambda1, a1, b1, c1, depth, stream) {\n    var dx = x1 - x0,\n        dy = y1 - y0,\n        d2 = dx * dx + dy * dy;\n    if (d2 > 4 * delta2 && depth--) {\n      var a = a0 + a1,\n          b = b0 + b1,\n          c = c0 + c1,\n          m = sqrt(a * a + b * b + c * c),\n          phi2 = asin(c /= m),\n          lambda2 = abs(abs(c) - 1) < epsilon || abs(lambda0 - lambda1) < epsilon ? (lambda0 + lambda1) / 2 : atan2(b, a),\n          p = project(lambda2, phi2),\n          x2 = p[0],\n          y2 = p[1],\n          dx2 = x2 - x0,\n          dy2 = y2 - y0,\n          dz = dy * dx2 - dx * dy2;\n      if (dz * dz / d2 > delta2 // perpendicular projected distance\n          || abs((dx * dx2 + dy * dy2) / d2 - 0.5) > 0.3 // midpoint close to an end\n          || a0 * a1 + b0 * b1 + c0 * c1 < cosMinDistance) { // angular distance\n        resampleLineTo(x0, y0, lambda0, a0, b0, c0, x2, y2, lambda2, a /= m, b /= m, c, depth, stream);\n        stream.point(x2, y2);\n        resampleLineTo(x2, y2, lambda2, a, b, c, x1, y1, lambda1, a1, b1, c1, depth, stream);\n      }\n    }\n  }\n  return function(stream) {\n    var lambda00, x00, y00, a00, b00, c00, // first point\n        lambda0, x0, y0, a0, b0, c0; // previous point\n\n    var resampleStream = {\n      point: point,\n      lineStart: lineStart,\n      lineEnd: lineEnd,\n      polygonStart: function() { stream.polygonStart(); resampleStream.lineStart = ringStart; },\n      polygonEnd: function() { stream.polygonEnd(); resampleStream.lineStart = lineStart; }\n    };\n\n    function point(x, y) {\n      x = project(x, y);\n      stream.point(x[0], x[1]);\n    }\n\n    function lineStart() {\n      x0 = NaN;\n      resampleStream.point = linePoint;\n      stream.lineStart();\n    }\n\n    function linePoint(lambda, phi) {\n      var c = cartesian([lambda, phi]), p = project(lambda, phi);\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x0 = p[0], y0 = p[1], lambda0 = lambda, a0 = c[0], b0 = c[1], c0 = c[2], maxDepth, stream);\n      stream.point(x0, y0);\n    }\n\n    function lineEnd() {\n      resampleStream.point = point;\n      stream.lineEnd();\n    }\n\n    function ringStart() {\n      lineStart();\n      resampleStream.point = ringPoint;\n      resampleStream.lineEnd = ringEnd;\n    }\n\n    function ringPoint(lambda, phi) {\n      linePoint(lambda00 = lambda, phi), x00 = x0, y00 = y0, a00 = a0, b00 = b0, c00 = c0;\n      resampleStream.point = linePoint;\n    }\n\n    function ringEnd() {\n      resampleLineTo(x0, y0, lambda0, a0, b0, c0, x00, y00, lambda00, a00, b00, c00, maxDepth, stream);\n      resampleStream.lineEnd = lineEnd;\n      lineEnd();\n    }\n\n    return resampleStream;\n  };\n}\n","import clipAntimeridian from \"../clip/antimeridian.js\";\nimport clipCircle from \"../clip/circle.js\";\nimport clipRectangle from \"../clip/rectangle.js\";\nimport compose from \"../compose.js\";\nimport identity from \"../identity.js\";\nimport {cos, degrees, radians, sin, sqrt} from \"../math.js\";\nimport {rotateRadians} from \"../rotation.js\";\nimport {transformer} from \"../transform.js\";\nimport {fitExtent, fitSize, fitWidth, fitHeight} from \"./fit.js\";\nimport resample from \"./resample.js\";\n\nvar transformRadians = transformer({\n  point: function(x, y) {\n    this.stream.point(x * radians, y * radians);\n  }\n});\n\nfunction transformRotate(rotate) {\n  return transformer({\n    point: function(x, y) {\n      var r = rotate(x, y);\n      return this.stream.point(r[0], r[1]);\n    }\n  });\n}\n\nfunction scaleTranslate(k, dx, dy, sx, sy) {\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [dx + k * x, dy - k * y];\n  }\n  transform.invert = function(x, y) {\n    return [(x - dx) / k * sx, (dy - y) / k * sy];\n  };\n  return transform;\n}\n\nfunction scaleTranslateRotate(k, dx, dy, sx, sy, alpha) {\n  if (!alpha) return scaleTranslate(k, dx, dy, sx, sy);\n  var cosAlpha = cos(alpha),\n      sinAlpha = sin(alpha),\n      a = cosAlpha * k,\n      b = sinAlpha * k,\n      ai = cosAlpha / k,\n      bi = sinAlpha / k,\n      ci = (sinAlpha * dy - cosAlpha * dx) / k,\n      fi = (sinAlpha * dx + cosAlpha * dy) / k;\n  function transform(x, y) {\n    x *= sx; y *= sy;\n    return [a * x - b * y + dx, dy - b * x - a * y];\n  }\n  transform.invert = function(x, y) {\n    return [sx * (ai * x - bi * y + ci), sy * (fi - bi * x - ai * y)];\n  };\n  return transform;\n}\n\nexport default function projection(project) {\n  return projectionMutator(function() { return project; })();\n}\n\nexport function projectionMutator(projectAt) {\n  var project,\n      k = 150, // scale\n      x = 480, y = 250, // translate\n      lambda = 0, phi = 0, // center\n      deltaLambda = 0, deltaPhi = 0, deltaGamma = 0, rotate, // pre-rotate\n      alpha = 0, // post-rotate angle\n      sx = 1, // reflectX\n      sy = 1, // reflectX\n      theta = null, preclip = clipAntimeridian, // pre-clip angle\n      x0 = null, y0, x1, y1, postclip = identity, // post-clip extent\n      delta2 = 0.5, // precision\n      projectResample,\n      projectTransform,\n      projectRotateTransform,\n      cache,\n      cacheStream;\n\n  function projection(point) {\n    return projectRotateTransform(point[0] * radians, point[1] * radians);\n  }\n\n  function invert(point) {\n    point = projectRotateTransform.invert(point[0], point[1]);\n    return point && [point[0] * degrees, point[1] * degrees];\n  }\n\n  projection.stream = function(stream) {\n    return cache && cacheStream === stream ? cache : cache = transformRadians(transformRotate(rotate)(preclip(projectResample(postclip(cacheStream = stream)))));\n  };\n\n  projection.preclip = function(_) {\n    return arguments.length ? (preclip = _, theta = undefined, reset()) : preclip;\n  };\n\n  projection.postclip = function(_) {\n    return arguments.length ? (postclip = _, x0 = y0 = x1 = y1 = null, reset()) : postclip;\n  };\n\n  projection.clipAngle = function(_) {\n    return arguments.length ? (preclip = +_ ? clipCircle(theta = _ * radians) : (theta = null, clipAntimeridian), reset()) : theta * degrees;\n  };\n\n  projection.clipExtent = function(_) {\n    return arguments.length ? (postclip = _ == null ? (x0 = y0 = x1 = y1 = null, identity) : clipRectangle(x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1]), reset()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  projection.scale = function(_) {\n    return arguments.length ? (k = +_, recenter()) : k;\n  };\n\n  projection.translate = function(_) {\n    return arguments.length ? (x = +_[0], y = +_[1], recenter()) : [x, y];\n  };\n\n  projection.center = function(_) {\n    return arguments.length ? (lambda = _[0] % 360 * radians, phi = _[1] % 360 * radians, recenter()) : [lambda * degrees, phi * degrees];\n  };\n\n  projection.rotate = function(_) {\n    return arguments.length ? (deltaLambda = _[0] % 360 * radians, deltaPhi = _[1] % 360 * radians, deltaGamma = _.length > 2 ? _[2] % 360 * radians : 0, recenter()) : [deltaLambda * degrees, deltaPhi * degrees, deltaGamma * degrees];\n  };\n\n  projection.angle = function(_) {\n    return arguments.length ? (alpha = _ % 360 * radians, recenter()) : alpha * degrees;\n  };\n\n  projection.reflectX = function(_) {\n    return arguments.length ? (sx = _ ? -1 : 1, recenter()) : sx < 0;\n  };\n\n  projection.reflectY = function(_) {\n    return arguments.length ? (sy = _ ? -1 : 1, recenter()) : sy < 0;\n  };\n\n  projection.precision = function(_) {\n    return arguments.length ? (projectResample = resample(projectTransform, delta2 = _ * _), reset()) : sqrt(delta2);\n  };\n\n  projection.fitExtent = function(extent, object) {\n    return fitExtent(projection, extent, object);\n  };\n\n  projection.fitSize = function(size, object) {\n    return fitSize(projection, size, object);\n  };\n\n  projection.fitWidth = function(width, object) {\n    return fitWidth(projection, width, object);\n  };\n\n  projection.fitHeight = function(height, object) {\n    return fitHeight(projection, height, object);\n  };\n\n  function recenter() {\n    var center = scaleTranslateRotate(k, 0, 0, sx, sy, alpha).apply(null, project(lambda, phi)),\n        transform = scaleTranslateRotate(k, x - center[0], y - center[1], sx, sy, alpha);\n    rotate = rotateRadians(deltaLambda, deltaPhi, deltaGamma);\n    projectTransform = compose(project, transform);\n    projectRotateTransform = compose(rotate, projectTransform);\n    projectResample = resample(projectTransform, delta2);\n    return reset();\n  }\n\n  function reset() {\n    cache = cacheStream = null;\n    return projection;\n  }\n\n  return function() {\n    project = projectAt.apply(this, arguments);\n    projection.invert = project.invert && invert;\n    return recenter();\n  };\n}\n","import {cartesian, cartesianAddInPlace, cartesianCross, cartesianDot, cartesianScale, spherical} from \"../cartesian.js\";\nimport {circleStream} from \"../circle.js\";\nimport {abs, cos, epsilon, pi, radians, sqrt} from \"../math.js\";\nimport pointEqual from \"../pointEqual.js\";\nimport clip from \"./index.js\";\n\nexport default function(radius) {\n  var cr = cos(radius),\n      delta = 2 * radians,\n      smallRadius = cr > 0,\n      notHemisphere = abs(cr) > epsilon; // TODO optimise for this common case\n\n  function interpolate(from, to, direction, stream) {\n    circleStream(stream, radius, delta, direction, from, to);\n  }\n\n  function visible(lambda, phi) {\n    return cos(lambda) * cos(phi) > cr;\n  }\n\n  // Takes a line and cuts into visible segments. Return values used for polygon\n  // clipping: 0 - there were intersections or the line was empty; 1 - no\n  // intersections 2 - there were intersections, and the first and last segments\n  // should be rejoined.\n  function clipLine(stream) {\n    var point0, // previous point\n        c0, // code for previous point\n        v0, // visibility of previous point\n        v00, // visibility of first point\n        clean; // no intersections\n    return {\n      lineStart: function() {\n        v00 = v0 = false;\n        clean = 1;\n      },\n      point: function(lambda, phi) {\n        var point1 = [lambda, phi],\n            point2,\n            v = visible(lambda, phi),\n            c = smallRadius\n              ? v ? 0 : code(lambda, phi)\n              : v ? code(lambda + (lambda < 0 ? pi : -pi), phi) : 0;\n        if (!point0 && (v00 = v0 = v)) stream.lineStart();\n        if (v !== v0) {\n          point2 = intersect(point0, point1);\n          if (!point2 || pointEqual(point0, point2) || pointEqual(point1, point2))\n            point1[2] = 1;\n        }\n        if (v !== v0) {\n          clean = 0;\n          if (v) {\n            // outside going in\n            stream.lineStart();\n            point2 = intersect(point1, point0);\n            stream.point(point2[0], point2[1]);\n          } else {\n            // inside going out\n            point2 = intersect(point0, point1);\n            stream.point(point2[0], point2[1], 2);\n            stream.lineEnd();\n          }\n          point0 = point2;\n        } else if (notHemisphere && point0 && smallRadius ^ v) {\n          var t;\n          // If the codes for two points are different, or are both zero,\n          // and there this segment intersects with the small circle.\n          if (!(c & c0) && (t = intersect(point1, point0, true))) {\n            clean = 0;\n            if (smallRadius) {\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1]);\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n            } else {\n              stream.point(t[1][0], t[1][1]);\n              stream.lineEnd();\n              stream.lineStart();\n              stream.point(t[0][0], t[0][1], 3);\n            }\n          }\n        }\n        if (v && (!point0 || !pointEqual(point0, point1))) {\n          stream.point(point1[0], point1[1]);\n        }\n        point0 = point1, v0 = v, c0 = c;\n      },\n      lineEnd: function() {\n        if (v0) stream.lineEnd();\n        point0 = null;\n      },\n      // Rejoin first and last segments if there were intersections and the first\n      // and last points were visible.\n      clean: function() {\n        return clean | ((v00 && v0) << 1);\n      }\n    };\n  }\n\n  // Intersects the great circle between a and b with the clip circle.\n  function intersect(a, b, two) {\n    var pa = cartesian(a),\n        pb = cartesian(b);\n\n    // We have two planes, n1.p = d1 and n2.p = d2.\n    // Find intersection line p(t) = c1 n1 + c2 n2 + t (n1  n2).\n    var n1 = [1, 0, 0], // normal\n        n2 = cartesianCross(pa, pb),\n        n2n2 = cartesianDot(n2, n2),\n        n1n2 = n2[0], // cartesianDot(n1, n2),\n        determinant = n2n2 - n1n2 * n1n2;\n\n    // Two polar points.\n    if (!determinant) return !two && a;\n\n    var c1 =  cr * n2n2 / determinant,\n        c2 = -cr * n1n2 / determinant,\n        n1xn2 = cartesianCross(n1, n2),\n        A = cartesianScale(n1, c1),\n        B = cartesianScale(n2, c2);\n    cartesianAddInPlace(A, B);\n\n    // Solve |p(t)|^2 = 1.\n    var u = n1xn2,\n        w = cartesianDot(A, u),\n        uu = cartesianDot(u, u),\n        t2 = w * w - uu * (cartesianDot(A, A) - 1);\n\n    if (t2 < 0) return;\n\n    var t = sqrt(t2),\n        q = cartesianScale(u, (-w - t) / uu);\n    cartesianAddInPlace(q, A);\n    q = spherical(q);\n\n    if (!two) return q;\n\n    // Two intersection points.\n    var lambda0 = a[0],\n        lambda1 = b[0],\n        phi0 = a[1],\n        phi1 = b[1],\n        z;\n\n    if (lambda1 < lambda0) z = lambda0, lambda0 = lambda1, lambda1 = z;\n\n    var delta = lambda1 - lambda0,\n        polar = abs(delta - pi) < epsilon,\n        meridian = polar || delta < epsilon;\n\n    if (!polar && phi1 < phi0) z = phi0, phi0 = phi1, phi1 = z;\n\n    // Check that the first point is between a and b.\n    if (meridian\n        ? polar\n          ? phi0 + phi1 > 0 ^ q[1] < (abs(q[0] - lambda0) < epsilon ? phi0 : phi1)\n          : phi0 <= q[1] && q[1] <= phi1\n        : delta > pi ^ (lambda0 <= q[0] && q[0] <= lambda1)) {\n      var q1 = cartesianScale(u, (-w + t) / uu);\n      cartesianAddInPlace(q1, A);\n      return [q, spherical(q1)];\n    }\n  }\n\n  // Generates a 4-bit vector representing the location of a point relative to\n  // the small circle's bounding box.\n  function code(lambda, phi) {\n    var r = smallRadius ? radius : pi - radius,\n        code = 0;\n    if (lambda < -r) code |= 1; // left\n    else if (lambda > r) code |= 2; // right\n    if (phi < -r) code |= 4; // below\n    else if (phi > r) code |= 8; // above\n    return code;\n  }\n\n  return clip(visible, clipLine, interpolate, smallRadius ? [0, -radius] : [-pi, radius - pi]);\n}\n","import {atan, exp, halfPi, log, pi, tan, tau} from \"../math.js\";\nimport rotation from \"../rotation.js\";\nimport projection from \"./index.js\";\n\nexport function mercatorRaw(lambda, phi) {\n  return [lambda, log(tan((halfPi + phi) / 2))];\n}\n\nmercatorRaw.invert = function(x, y) {\n  return [x, 2 * atan(exp(y)) - halfPi];\n};\n\nexport default function() {\n  return mercatorProjection(mercatorRaw)\n      .scale(961 / tau);\n}\n\nexport function mercatorProjection(project) {\n  var m = projection(project),\n      center = m.center,\n      scale = m.scale,\n      translate = m.translate,\n      clipExtent = m.clipExtent,\n      x0 = null, y0, x1, y1; // clip extent\n\n  m.scale = function(_) {\n    return arguments.length ? (scale(_), reclip()) : scale();\n  };\n\n  m.translate = function(_) {\n    return arguments.length ? (translate(_), reclip()) : translate();\n  };\n\n  m.center = function(_) {\n    return arguments.length ? (center(_), reclip()) : center();\n  };\n\n  m.clipExtent = function(_) {\n    return arguments.length ? ((_ == null ? x0 = y0 = x1 = y1 = null : (x0 = +_[0][0], y0 = +_[0][1], x1 = +_[1][0], y1 = +_[1][1])), reclip()) : x0 == null ? null : [[x0, y0], [x1, y1]];\n  };\n\n  function reclip() {\n    var k = pi * scale(),\n        t = m(rotation(m.rotate()).invert([0, 0]));\n    return clipExtent(x0 == null\n        ? [[t[0] - k, t[1] - k], [t[0] + k, t[1] + k]] : project === mercatorRaw\n        ? [[Math.max(t[0] - k, x0), y0], [Math.min(t[0] + k, x1), y1]]\n        : [[x0, Math.max(t[1] - k, y0)], [x1, Math.min(t[1] + k, y1)]]);\n  }\n\n  return reclip();\n}\n","import {Adder} from \"d3-array\";\nimport {abs} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar areaSum = new Adder(),\n    areaRingSum = new Adder(),\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    areaStream.lineStart = areaStream.lineEnd = areaStream.point = noop;\n    areaSum.add(abs(areaRingSum));\n    areaRingSum = new Adder();\n  },\n  result: function() {\n    var area = areaSum / 2;\n    areaSum = new Adder();\n    return area;\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaPointFirst(x, y) {\n  areaStream.point = areaPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction areaPoint(x, y) {\n  areaRingSum.add(y0 * x - x0 * y);\n  x0 = x, y0 = y;\n}\n\nfunction areaRingEnd() {\n  areaPoint(x00, y00);\n}\n\nexport default areaStream;\n","import {sqrt} from \"../math.js\";\n\n// TODO Enforce positive area for exterior, negative area for interior?\n\nvar X0 = 0,\n    Y0 = 0,\n    Z0 = 0,\n    X1 = 0,\n    Y1 = 0,\n    Z1 = 0,\n    X2 = 0,\n    Y2 = 0,\n    Z2 = 0,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar centroidStream = {\n  point: centroidPoint,\n  lineStart: centroidLineStart,\n  lineEnd: centroidLineEnd,\n  polygonStart: function() {\n    centroidStream.lineStart = centroidRingStart;\n    centroidStream.lineEnd = centroidRingEnd;\n  },\n  polygonEnd: function() {\n    centroidStream.point = centroidPoint;\n    centroidStream.lineStart = centroidLineStart;\n    centroidStream.lineEnd = centroidLineEnd;\n  },\n  result: function() {\n    var centroid = Z2 ? [X2 / Z2, Y2 / Z2]\n        : Z1 ? [X1 / Z1, Y1 / Z1]\n        : Z0 ? [X0 / Z0, Y0 / Z0]\n        : [NaN, NaN];\n    X0 = Y0 = Z0 =\n    X1 = Y1 = Z1 =\n    X2 = Y2 = Z2 = 0;\n    return centroid;\n  }\n};\n\nfunction centroidPoint(x, y) {\n  X0 += x;\n  Y0 += y;\n  ++Z0;\n}\n\nfunction centroidLineStart() {\n  centroidStream.point = centroidPointFirstLine;\n}\n\nfunction centroidPointFirstLine(x, y) {\n  centroidStream.point = centroidPointLine;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidPointLine(x, y) {\n  var dx = x - x0, dy = y - y0, z = sqrt(dx * dx + dy * dy);\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nfunction centroidLineEnd() {\n  centroidStream.point = centroidPoint;\n}\n\nfunction centroidRingStart() {\n  centroidStream.point = centroidPointFirstRing;\n}\n\nfunction centroidRingEnd() {\n  centroidPointRing(x00, y00);\n}\n\nfunction centroidPointFirstRing(x, y) {\n  centroidStream.point = centroidPointRing;\n  centroidPoint(x00 = x0 = x, y00 = y0 = y);\n}\n\nfunction centroidPointRing(x, y) {\n  var dx = x - x0,\n      dy = y - y0,\n      z = sqrt(dx * dx + dy * dy);\n\n  X1 += z * (x0 + x) / 2;\n  Y1 += z * (y0 + y) / 2;\n  Z1 += z;\n\n  z = y0 * x - x0 * y;\n  X2 += z * (x0 + x);\n  Y2 += z * (y0 + y);\n  Z2 += z * 3;\n  centroidPoint(x0 = x, y0 = y);\n}\n\nexport default centroidStream;\n","import {tau} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nexport default function PathContext(context) {\n  this._context = context;\n}\n\nPathContext.prototype = {\n  _radius: 4.5,\n  pointRadius: function(_) {\n    return this._radius = _, this;\n  },\n  polygonStart: function() {\n    this._line = 0;\n  },\n  polygonEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line === 0) this._context.closePath();\n    this._point = NaN;\n  },\n  point: function(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._context.moveTo(x, y);\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._context.lineTo(x, y);\n        break;\n      }\n      default: {\n        this._context.moveTo(x + this._radius, y);\n        this._context.arc(x, y, this._radius, 0, tau);\n        break;\n      }\n    }\n  },\n  result: noop\n};\n","import {Adder} from \"d3-array\";\nimport {sqrt} from \"../math.js\";\nimport noop from \"../noop.js\";\n\nvar lengthSum = new Adder(),\n    lengthRing,\n    x00,\n    y00,\n    x0,\n    y0;\n\nvar lengthStream = {\n  point: noop,\n  lineStart: function() {\n    lengthStream.point = lengthPointFirst;\n  },\n  lineEnd: function() {\n    if (lengthRing) lengthPoint(x00, y00);\n    lengthStream.point = noop;\n  },\n  polygonStart: function() {\n    lengthRing = true;\n  },\n  polygonEnd: function() {\n    lengthRing = null;\n  },\n  result: function() {\n    var length = +lengthSum;\n    lengthSum = new Adder();\n    return length;\n  }\n};\n\nfunction lengthPointFirst(x, y) {\n  lengthStream.point = lengthPoint;\n  x00 = x0 = x, y00 = y0 = y;\n}\n\nfunction lengthPoint(x, y) {\n  x0 -= x, y0 -= y;\n  lengthSum.add(sqrt(x0 * x0 + y0 * y0));\n  x0 = x, y0 = y;\n}\n\nexport default lengthStream;\n","// Simple caching for constant-radius points.\nlet cacheDigits, cacheAppend, cacheRadius, cacheCircle;\n\nexport default class PathString {\n  constructor(digits) {\n    this._append = digits == null ? append : appendRound(digits);\n    this._radius = 4.5;\n    this._ = \"\";\n  }\n  pointRadius(_) {\n    this._radius = +_;\n    return this;\n  }\n  polygonStart() {\n    this._line = 0;\n  }\n  polygonEnd() {\n    this._line = NaN;\n  }\n  lineStart() {\n    this._point = 0;\n  }\n  lineEnd() {\n    if (this._line === 0) this._ += \"Z\";\n    this._point = NaN;\n  }\n  point(x, y) {\n    switch (this._point) {\n      case 0: {\n        this._append`M${x},${y}`;\n        this._point = 1;\n        break;\n      }\n      case 1: {\n        this._append`L${x},${y}`;\n        break;\n      }\n      default: {\n        this._append`M${x},${y}`;\n        if (this._radius !== cacheRadius || this._append !== cacheAppend) {\n          const r = this._radius;\n          const s = this._;\n          this._ = \"\"; // stash the old string so we can cache the circle path fragment\n          this._append`m0,${r}a${r},${r} 0 1,1 0,${-2 * r}a${r},${r} 0 1,1 0,${2 * r}z`;\n          cacheRadius = r;\n          cacheAppend = this._append;\n          cacheCircle = this._;\n          this._ = s;\n        }\n        this._ += cacheCircle;\n        break;\n      }\n    }\n  }\n  result() {\n    const result = this._;\n    this._ = \"\";\n    return result.length ? result : null;\n  }\n}\n\nfunction append(strings) {\n  let i = 1;\n  this._ += strings[0];\n  for (const j = strings.length; i < j; ++i) {\n    this._ += arguments[i] + strings[i];\n  }\n}\n\nfunction appendRound(digits) {\n  const d = Math.floor(digits);\n  if (!(d >= 0)) throw new RangeError(`invalid digits: ${digits}`);\n  if (d > 15) return append;\n  if (d !== cacheDigits) {\n    const k = 10 ** d;\n    cacheDigits = d;\n    cacheAppend = function append(strings) {\n      let i = 1;\n      this._ += strings[0];\n      for (const j = strings.length; i < j; ++i) {\n        this._ += Math.round(arguments[i] * k) / k + strings[i];\n      }\n    };\n  }\n  return cacheAppend;\n}\n","export default function(x) {\n  return x;\n}\n","import reverse from \"./reverse.js\";\nimport transform from \"./transform.js\";\n\nexport default function(topology, o) {\n  if (typeof o === \"string\") o = topology.objects[o];\n  return o.type === \"GeometryCollection\"\n      ? {type: \"FeatureCollection\", features: o.geometries.map(function(o) { return feature(topology, o); })}\n      : feature(topology, o);\n}\n\nfunction feature(topology, o) {\n  var id = o.id,\n      bbox = o.bbox,\n      properties = o.properties == null ? {} : o.properties,\n      geometry = object(topology, o);\n  return id == null && bbox == null ? {type: \"Feature\", properties: properties, geometry: geometry}\n      : bbox == null ? {type: \"Feature\", id: id, properties: properties, geometry: geometry}\n      : {type: \"Feature\", id: id, bbox: bbox, properties: properties, geometry: geometry};\n}\n\nexport function object(topology, o) {\n  var transformPoint = transform(topology.transform),\n      arcs = topology.arcs;\n\n  function arc(i, points) {\n    if (points.length) points.pop();\n    for (var a = arcs[i < 0 ? ~i : i], k = 0, n = a.length; k < n; ++k) {\n      points.push(transformPoint(a[k], k));\n    }\n    if (i < 0) reverse(points, n);\n  }\n\n  function point(p) {\n    return transformPoint(p);\n  }\n\n  function line(arcs) {\n    var points = [];\n    for (var i = 0, n = arcs.length; i < n; ++i) arc(arcs[i], points);\n    if (points.length < 2) points.push(points[0]); // This should never happen per the specification.\n    return points;\n  }\n\n  function ring(arcs) {\n    var points = line(arcs);\n    while (points.length < 4) points.push(points[0]); // This may happen if an arc has only two points.\n    return points;\n  }\n\n  function polygon(arcs) {\n    return arcs.map(ring);\n  }\n\n  function geometry(o) {\n    var type = o.type, coordinates;\n    switch (type) {\n      case \"GeometryCollection\": return {type: type, geometries: o.geometries.map(geometry)};\n      case \"Point\": coordinates = point(o.coordinates); break;\n      case \"MultiPoint\": coordinates = o.coordinates.map(point); break;\n      case \"LineString\": coordinates = line(o.arcs); break;\n      case \"MultiLineString\": coordinates = o.arcs.map(line); break;\n      case \"Polygon\": coordinates = polygon(o.arcs); break;\n      case \"MultiPolygon\": coordinates = o.arcs.map(polygon); break;\n      default: return null;\n    }\n    return {type: type, coordinates: coordinates};\n  }\n\n  return geometry(o);\n}\n","import identity from \"./identity.js\";\n\nexport default function(transform) {\n  if (transform == null) return identity;\n  var x0,\n      y0,\n      kx = transform.scale[0],\n      ky = transform.scale[1],\n      dx = transform.translate[0],\n      dy = transform.translate[1];\n  return function(input, i) {\n    if (!i) x0 = y0 = 0;\n    var j = 2, n = input.length, output = new Array(n);\n    output[0] = (x0 += input[0]) * kx + dx;\n    output[1] = (y0 += input[1]) * ky + dy;\n    while (j < n) output[j] = input[j], ++j;\n    return output;\n  };\n}\n","export default function(array, n) {\n  var t, j = array.length, i = j - n;\n  while (i < --j) t = array[i], array[i++] = array[j], array[j] = t;\n}\n","import * as React from 'react'\nimport { geoMercator, geoPath } from 'd3-geo'\nimport { feature } from 'topojson-client'\n\nexport default function ConnectivityMap({ data = [], width = 800, height = 320, pointScale = 12 }) {\n  const [landGeo, setLandGeo] = React.useState(null)\n  const [topoKey, setTopoKey] = React.useState(null)\n  const [loadError, setLoadError] = React.useState(null)\n  const canvasRef = React.useRef(null)\n  const [imageHref, setImageHref] = React.useState(null)\n  const clipIdRef = React.useRef(`land-clip-${Math.random().toString(36).slice(2,9)}`)\n  const maxTotal = Math.max(0.00001, ...data.map((d) => d.total || 0))\n  // responsive sizing: if parent container changes size, measure it\n  const containerRef = React.useRef(null)\n  const [measuredWidth, setMeasuredWidth] = React.useState(null)\n  const defaultWidth = width || 800\n  const defaultHeight = height || 320\n\n  React.useEffect(() => {\n    let cancelled = false\n    // try to fetch a topojson file at runtime from /data/world-110m.json\n    fetch('/data/world-110m.json')\n      .then((r) => {\n        if (!r.ok) throw new Error('TopoJSON fetch failed')\n        return r.json()\n      })\n      .then((topo) => {\n        try { console.log('ConnectivityMap: topojson fetched, objects=', Object.keys(topo.objects || {})) } catch(e) {}\n        if (cancelled) return\n        // topo.objects.land or topo.objects['countries'] may exist depending on file\n        if (!topo.objects) throw new Error('TopoJSON has no objects')\n        const keys = Object.keys(topo.objects)\n        // prefer common names but fall back to first object\n        const preferred = ['land', 'ne_110m_land', 'coastline', 'countries', 'world']\n        let chosenKey = keys.find((k) => preferred.includes(k)) || keys[0]\n        const landObj = topo.objects[chosenKey]\n        if (landObj) {\n          const geo = feature(topo, landObj)\n          try { console.log('ConnectivityMap: chosen topo key=', chosenKey) } catch (e) {}\n          setTopoKey(chosenKey)\n          setLandGeo(geo)\n        } else {\n          // fallback: try to convert entire topo to geo\n          try {\n            const k2 = Object.keys(topo.objects || {})[0]\n            if (k2) {\n              const geo = feature(topo, topo.objects[k2])\n              setTopoKey(k2)\n              setLandGeo(geo)\n            } else {\n              setLandGeo(null)\n            }\n          } catch (e) {\n            setLandGeo(null)\n            setLoadError(e.message || String(e))\n          }\n        }\n      })\n      .catch(() => {\n        // on any failure, leave landGeo null (component will render graticule fallback)\n        setLandGeo(null)\n        setLoadError('fetch_failed')\n      })\n    return () => {\n      cancelled = true\n    }\n  }, [])\n\n  // prepare projection and path generator\n  const projection = React.useMemo(() => {\n    const p = geoMercator().scale(1).translate([0, 0])\n    return p\n  }, [])\n\n  // compute path generator bound and auto-fit projection when landGeo available\n  const pathGenerator = React.useMemo(() => geoPath().projection(projection), [projection])\n\n  React.useEffect(() => {\n    if (!landGeo) return\n    try {\n      // determine effective drawing size (use measuredWidth when available)\n      const effWidth = measuredWidth || width || defaultWidth\n      const effHeight = height || Math.round((defaultHeight / defaultWidth) * effWidth)\n      // let d3 compute appropriate scale and translate for us\n      if (typeof projection.fitSize === 'function') {\n        // small padding\n        projection.fitSize([Math.max(20, effWidth - 20), Math.max(20, effHeight - 20)], landGeo)\n      } else {\n        // fallback to manual bounds-based fit\n        const bounds = pathGenerator.bounds(landGeo)\n        const dx = bounds[1][0] - bounds[0][0]\n        const dy = bounds[1][1] - bounds[0][1]\n        if (dx > 0 && dy > 0) {\n          const scale = Math.min((effWidth - 20) / dx, (effHeight - 20) / dy)\n          const translate = [(effWidth - scale * (bounds[1][0] + bounds[0][0])) / 2, (effHeight - scale * (bounds[1][1] + bounds[0][1])) / 2]\n          projection.scale(scale).translate(translate)\n        }\n      }\n    } catch (e) {\n      // ignore fit errors and leave projection as-is\n    }\n  }, [landGeo, width, height, pathGenerator, projection])\n\n  // create a simple IDW-based heatmap on a canvas and export to data URL, clipped to land later\n  React.useEffect(() => {\n  if (!landGeo) return\n    if (typeof window === 'undefined') return\n    if (!projection || typeof projection.invert !== 'function') return\n\n    // create a temporary canvas\n  // effective canvas size follows measured container width if available\n  const effWidth = measuredWidth || width || defaultWidth\n  const effHeight = height || Math.round((defaultHeight / defaultWidth) * effWidth)\n  const cvs = document.createElement('canvas')\n  cvs.width = Math.max(1, Math.round(effWidth))\n  cvs.height = Math.max(1, Math.round(effHeight))\n    const ctx = cvs.getContext('2d')\n\n    // parameters\n    const step = 3 // pixel sampling step\n    const power = 2\n    const eps = 1e-8\n\n    const pts = data.map(d => ({ lon: d.lon, lat: d.lat, v: d.total || 0 }))\n    if (!pts.length) { \n      setImageHref(null); \n      try { window.__connectivity_heatmap_ready = false } catch (e) {}\n      try { window.__connectivity_heatmap_href = null } catch (e) {}\n      try { window.__connectivity_heatmap_length = null } catch (e) {}\n      return \n    }\n\n    // simple color ramp: blue -> yellow -> red\n    const lerp = (a,b,t) => a + (b-a)*t\n    const lerpColor = (c1,c2,t) => [\n      Math.round(lerp(c1[0], c2[0], t)),\n      Math.round(lerp(c1[1], c2[1], t)),\n      Math.round(lerp(c1[2], c2[2], t))\n    ]\n    const blue=[59,130,246], yellow=[250,204,21], red=[239,68,68]\n    const colorFor = (t) => {\n      const v = Math.max(0, Math.min(1, t))\n      if (v <= 0.5) return lerpColor(blue, yellow, v/0.5)\n      return lerpColor(yellow, red, (v-0.5)/0.5)\n    }\n\n    for (let py = 0; py < cvs.height; py += step) {\n      for (let px = 0; px < cvs.width; px += step) {\n        let lonlat = null\n        try { lonlat = projection.invert([px, py]) } catch (e) { lonlat = null }\n        if (!lonlat) { ctx.clearRect(px, py, step, step); continue }\n        const [lon, lat] = lonlat\n        let num = 0, den = 0\n        for (let i=0;i<pts.length;i++){\n          const dx = lon - pts[i].lon\n          const dy = lat - pts[i].lat\n          const dist2 = dx*dx + dy*dy\n          if (dist2 < eps) { num = pts[i].v; den = 1; break }\n          const w = 1 / Math.pow(dist2, power/2)\n          num += pts[i].v * w\n          den += w\n        }\n        const val = den === 0 ? 0 : num/den\n        const t = Math.max(0, Math.min(1, val / maxTotal))\n        const rgb = colorFor(t)\n        ctx.fillStyle = `rgb(${rgb[0]},${rgb[1]},${rgb[2]})`\n        ctx.fillRect(px, py, step, step)\n      }\n    }\n\n    try {\n  const url = cvs.toDataURL('image/png')\n      try {\n        console.log('ConnectivityMap: generated heatmap data URL length=', url.length)\n        try { window.__connectivity_heatmap_length = url.length } catch (e) {}\n        try { window.__connectivity_heatmap_href = url } catch (e) {}\n        try { window.__connectivity_heatmap_ready = true } catch (e) {}\n      } catch (e) {}\n      setImageHref(url)\n    } catch (e) {\n      setImageHref(null)\n      try { window.__connectivity_heatmap_ready = false } catch (e) {}\n      try { window.__connectivity_heatmap_href = null } catch (e) {}\n      try { window.__connectivity_heatmap_length = null } catch (e) {}\n    }\n\n    // no cleanup needed\n  }, [landGeo, data, projection, width, height, maxTotal, measuredWidth])\n\n  // ResizeObserver to measure parent container width for responsive rendering\n  React.useEffect(() => {\n    if (typeof window === 'undefined') return\n    const node = containerRef.current\n    if (!node) return\n    let ro = null\n    try {\n      ro = new ResizeObserver((entries) => {\n        for (const e of entries) {\n          const w = Math.max(1, Math.floor(e.contentRect.width))\n          setMeasuredWidth((prev) => (prev !== w ? w : prev))\n        }\n      })\n      ro.observe(node)\n    } catch (e) {\n      // ResizeObserver may not be available in some environments; fall back to window resize\n      const onResize = () => {\n        const w = node.clientWidth || defaultWidth\n        setMeasuredWidth((prev) => (prev !== w ? w : prev))\n      }\n      window.addEventListener('resize', onResize)\n      onResize()\n      return () => window.removeEventListener('resize', onResize)\n    }\n    // initialize measured width\n    setMeasuredWidth(node.clientWidth || defaultWidth)\n    return () => { try { ro && ro.disconnect() } catch(e) {} }\n  }, [containerRef.current])\n\n  // effective sizes for rendering and SVG viewBox\n  const effWidth = measuredWidth || width || defaultWidth\n  const effHeight = height || Math.round((defaultHeight / defaultWidth) * effWidth)\n\n  return (\n    <div ref={containerRef} className=\"w-full overflow-hidden rounded relative\">\n      {/* Visible loading/error overlay */}\n      {(!landGeo && !loadError) && (\n        <div className=\"map-loading-overlay absolute inset-0 flex items-center justify-center bg-white/60 dark:bg-black/40 z-10\" aria-live=\"polite\">\n          <div className=\"text-sm text-gray-700 dark:text-gray-200 font-medium\">Loading basemap</div>\n        </div>\n      )}\n      {loadError && (\n        <div className=\"map-loading-overlay absolute inset-0 flex items-center justify-center bg-white/80 dark:bg-black/60 z-10\" role=\"alert\">\n          <div className=\"text-sm text-red-600 dark:text-red-400 font-medium\">Basemap failed to load</div>\n        </div>\n      )}\n\n      <svg viewBox={`0 0 ${effWidth} ${effHeight}`} width=\"100%\" height={effHeight} xmlns=\"http://www.w3.org/2000/svg\" className=\"relative z-20\">\n        <defs>\n          {landGeo && <clipPath id={clipIdRef.current}><path d={pathGenerator(landGeo)} /></clipPath>}\n        </defs>\n        <rect x={0} y={0} width={effWidth} height={effHeight} fill=\"transparent\" />\n\n        {imageHref && landGeo && (\n            <image href={imageHref} xlinkHref={imageHref} x={0} y={0} width={effWidth} height={effHeight} preserveAspectRatio=\"none\" clipPath={`url(#${clipIdRef.current})`} style={{ pointerEvents: 'none' }} />\n        )}\n\n        {/* land basemap: only draw land polygons (no country borders) */}\n        {landGeo ? (\n          <g>\n            <path d={pathGenerator(landGeo)} fill=\"#cbd5e1\" stroke=\"none\" />\n          </g>\n        ) : (\n          // fallback: simple graticule if topojson not available\n          <g stroke=\"#94a3b8\" strokeOpacity={0.2} strokeWidth={0.5} fill=\"none\">\n            {Array.from({ length: 13 }, (_, i) => -180 + i * 30).map((lon) => {\n              const points = []\n              for (let lat = -85; lat <= 85; lat += 2) {\n                let coords = null\n                try {\n                  coords = projection([lon, lat])\n                } catch (e) {\n                  coords = null\n                }\n                if (!coords) continue\n                const [x, y] = coords\n                if (!isFinite(x) || !isFinite(y)) continue\n                points.push(`${x},${y}`)\n              }\n              // only render if we have a valid polyline\n              return points.length > 1 ? <polyline key={`lon-${lon}`} points={points.join(' ')} /> : null\n            })}\n            {Array.from({ length: 7 }, (_, i) => -90 + i * 30).map((lat) => {\n              const points = []\n              for (let lon = -180; lon <= 180; lon += 2) {\n                let coords = null\n                try {\n                  coords = projection([lon, lat])\n                } catch (e) {\n                  coords = null\n                }\n                if (!coords) continue\n                const [x, y] = coords\n                if (!isFinite(x) || !isFinite(y)) continue\n                points.push(`${x},${y}`)\n              }\n              return points.length > 1 ? <polyline key={`lat-${lat}`} points={points.join(' ')} /> : null\n            })}\n          </g>\n        )}\n\n        {/* points */}\n        <g>\n          {data.map((p, i) => {\n            let coords\n            try {\n              coords = projection([p.lon, p.lat])\n            } catch (e) {\n              coords = null\n            }\n            if (!coords || !isFinite(coords[0]) || !isFinite(coords[1])) return null\n            const [x, y] = coords\n            const r = 4 + (p.total / maxTotal) * pointScale\n            const alpha = 0.5 + (p.total / maxTotal) * 0.5\n            const fill = `rgba(249,115,22,${alpha})`\n            return (\n              <g key={`${p.city}-${i}`}>\n                <circle cx={x} cy={y} r={r} fill={fill} stroke=\"#fff\" strokeWidth={0.6} />\n                <title>{`${p.city}, ${p.country}: ${p.total.toFixed(3)}`}</title>\n              </g>\n            )\n          })}\n        </g>\n        {/* invisible debug text for load status (aria-hidden) */}\n        <desc>{landGeo ? `topo: ${topoKey || 'loaded'}` : loadError ? `error:${loadError}` : 'loading topojson'}</desc>\n      </svg>\n    </div>\n  )\n}\n","import identity from \"../identity.js\";\nimport stream from \"../stream.js\";\nimport pathArea from \"./area.js\";\nimport pathBounds from \"./bounds.js\";\nimport pathCentroid from \"./centroid.js\";\nimport PathContext from \"./context.js\";\nimport pathMeasure from \"./measure.js\";\nimport PathString from \"./string.js\";\n\nexport default function(projection, context) {\n  let digits = 3,\n      pointRadius = 4.5,\n      projectionStream,\n      contextStream;\n\n  function path(object) {\n    if (object) {\n      if (typeof pointRadius === \"function\") contextStream.pointRadius(+pointRadius.apply(this, arguments));\n      stream(object, projectionStream(contextStream));\n    }\n    return contextStream.result();\n  }\n\n  path.area = function(object) {\n    stream(object, projectionStream(pathArea));\n    return pathArea.result();\n  };\n\n  path.measure = function(object) {\n    stream(object, projectionStream(pathMeasure));\n    return pathMeasure.result();\n  };\n\n  path.bounds = function(object) {\n    stream(object, projectionStream(pathBounds));\n    return pathBounds.result();\n  };\n\n  path.centroid = function(object) {\n    stream(object, projectionStream(pathCentroid));\n    return pathCentroid.result();\n  };\n\n  path.projection = function(_) {\n    if (!arguments.length) return projection;\n    projectionStream = _ == null ? (projection = null, identity) : (projection = _).stream;\n    return path;\n  };\n\n  path.context = function(_) {\n    if (!arguments.length) return context;\n    contextStream = _ == null ? (context = null, new PathString(digits)) : new PathContext(context = _);\n    if (typeof pointRadius !== \"function\") contextStream.pointRadius(pointRadius);\n    return path;\n  };\n\n  path.pointRadius = function(_) {\n    if (!arguments.length) return pointRadius;\n    pointRadius = typeof _ === \"function\" ? _ : (contextStream.pointRadius(+_), +_);\n    return path;\n  };\n\n  path.digits = function(_) {\n    if (!arguments.length) return digits;\n    if (_ == null) digits = null;\n    else {\n      const d = Math.floor(_);\n      if (!(d >= 0)) throw new RangeError(`invalid digits: ${_}`);\n      digits = d;\n    }\n    if (context === null) contextStream = new PathString(digits);\n    return path;\n  };\n\n  return path.projection(projection).digits(digits).context(context);\n}\n","import * as React from \"react\"\n\n\nimport Layout from \"../../components/layout\"\nimport Seo from \"../../components/seo\"\nimport { Link, graphql } from \"gatsby\"\nimport { useTranslation } from 'gatsby-plugin-react-i18next'\nimport CIRPICMELogo from \"../../images/project/tpp/cirp-icme-logo.webp\"\nimport CSCLogo from \"../../images/project/china-scholarship-logo.jpg\"\n\nimport ExponentialBackoffDemo from \"../../components/ExponentialBackoffDemo\"\nimport BitDepthDemo from \"../../components/BitDepthDemo\"\nimport ProducerConsumerDemo from \"../../components/ProducerConsumerDemo\"\nimport ConnectivityMap from \"../../components/ConnectivityMap\"\n\nconst TppPage = () => {\n  const { t } = useTranslation()\n  const pcRefA = React.useRef(null)\n  const pcRefB = React.useRef(null)\n  const [globalStartId, setGlobalStartId] = React.useState(0)\n  const [globalStopId, setGlobalStopId] = React.useState(0)\n  // shared external produce controller for frame-aligned ticks\n  const sharedControllerRef = React.useRef(null)\n  if (!sharedControllerRef.current) {\n    // simple pub/sub controller with start/stop via RAF\n    const subs = new Set()\n    let rafId = null\n    let runningController = false\n    let interval = 500\n    const tick = () => {\n      subs.forEach((s) => { try { s() } catch (e) {} })\n      if (runningController) rafId = window.requestAnimationFrame(() => setTimeout(tick, interval))\n    }\n    sharedControllerRef.current = {\n      subscribe: (fn) => subs.add(fn),\n      unsubscribe: (fn) => subs.delete(fn),\n      start: (ms = 500) => {\n        interval = ms\n        if (runningController) return\n        runningController = true\n        rafId = window.requestAnimationFrame(() => setTimeout(tick, interval))\n      },\n      stop: () => {\n        runningController = false\n        if (rafId) { window.cancelAnimationFrame(rafId); rafId = null }\n      },\n      tick: () => { subs.forEach((s) => { try { s() } catch (e) {} }) }\n    }\n  }\n\n  const startAll = () => {\n    // If both child refs expose start(), call them in the same requestAnimationFrame\n    const a = pcRefA.current && pcRefA.current.start\n    const b = pcRefB.current && pcRefB.current.start\n    if (a || b) {\n      // start the shared controller first so that external ticks drive both producers\n      const ms = 500\n      sharedControllerRef.current.start(ms)\n      if (typeof window !== 'undefined' && window.requestAnimationFrame) {\n        window.requestAnimationFrame(() => {\n          try { a && a() } catch (e) { /* ignore */ }\n          try { b && b() } catch (e) { /* ignore */ }\n        })\n        return\n      }\n      try { a && a() } catch (e) {}\n      try { b && b() } catch (e) {}\n      return\n    }\n    // fallback: bump counter to notify children that listen to globalStartId\n    setGlobalStartId((s) => s + 1)\n  }\n  const stopAll = () => {\n    const a = pcRefA.current && pcRefA.current.stop\n    const b = pcRefB.current && pcRefB.current.stop\n    // stop shared controller first\n    sharedControllerRef.current.stop()\n    if (a || b) {\n      if (typeof window !== 'undefined' && window.requestAnimationFrame) {\n        window.requestAnimationFrame(() => {\n          try { a && a() } catch (e) {}\n          try { b && b() } catch (e) {}\n        })\n        return\n      }\n      try { a && a() } catch (e) {}\n      try { b && b() } catch (e) {}\n      return\n    }\n    setGlobalStopId((s) => s + 1)\n  }\n\n  // aggregate per-city average latency (ms) from the table data\n  const latencyData = [\n    { city: 'London (UK)', avg: 8.7155 },\n    { city: 'Frankfurt (DE)', avg: 19.9665 },\n    { city: 'Hong Kong (CN)', avg: 203.4077 },\n    { city: 'Johannesburg (ZA)', avg: 176.4508 },\n    { city: 'Boston (US)', avg: 85.8510 },\n    { city: 'Sydney (AU)', avg: 290.1947 },\n  ]\n  const maxLatency = Math.max(...latencyData.map((d) => d.avg))\n  // connectivity points (lon/lat and 'total' weight) from user-provided data\n  const connectivityData = [\n    { city: 'Manchester', country: 'United Kingdom', lon: -2.233333, lat: 53.466667, total: 0.072540816 },\n    { city: 'Manchester', country: 'United Kingdom', lon: -2.233333, lat: 53.466667, total: 0.073260934 },\n    { city: 'London', country: 'United Kingdom', lon: -0.1275, lat: 51.5072, total: 0.081294395 },\n    { city: 'Saint-Ghislain', country: 'Belgium', lon: 3.816667, lat: 50.45, total: 0.086977237 },\n    { city: 'Frankfurt am Main', country: 'Germany', lon: 8.682222, lat: 50.110556, total: 0.094171566 },\n    { city: 'Zrich', country: 'Switzerland', lon: 8.541111, lat: 47.374444, total: 0.098617197 },\n    { city: 'Eemshaven', country: 'Netherlands', lon: 6.831111, lat: 53.448333, total: 0.112108961 },\n    { city: 'Saint-Ghislain', country: 'Belgium', lon: 3.816667, lat: 50.45, total: 0.113438645 },\n    { city: 'Warsaw', country: 'Poland', lon: 21.010833, lat: 52.23, total: 0.129099566 },\n    { city: 'Montreal', country: 'Canada', lon: -73.554167, lat: 45.508889, total: 0.165897553 },\n    { city: 'Ashburn', country: 'United States', lon: -77.471111, lat: 39.03, total: 0.181601105 },\n    { city: 'Moncks Corner', country: 'United States', lon: -80, lat: 33.2, total: 0.186080395 },\n    { city: 'Warsaw', country: 'Poland', lon: 21.010833, lat: 52.23, total: 0.195250026 },\n    { city: 'Salt Lake City', country: 'United States', lon: -111.883333, lat: 40.75, total: 0.210651053 },\n    { city: 'Las Vegas', country: 'United States', lon: -115.1447, lat: 36.1692, total: 0.215828947 },\n    { city: 'Dalles', country: 'United States', lon: -121.1828, lat: 45.6011, total: 0.226093263 },\n    { city: 'Osasco', country: 'Brazil', lon: -46.791944, lat: -23.532778, total: 0.309826382 },\n    { city: 'Zhanghua', country: 'China', lon: 120.533333, lat: 24.066667, total: 0.313292461 },\n    { city: 'Mumbai', country: 'India', lon: 72.8775, lat: 19.076111, total: 0.317267303 },\n    { city: 'Singapore', country: 'Singapore', lon: 103.833333, lat: 1.283333, total: 0.322318421 },\n    { city: 'Seoul', country: 'South Korea', lon: 126.99, lat: 37.56, total: 0.335438158 },\n    { city: 'Hong Kong', country: 'China', lon: 114.2, lat: 22.3, total: 0.342026408 },\n    { city: 'Jakarta', country: 'Indonesia', lon: 106.8275, lat: -6.175, total: 0.345206789 },\n    { city: 'Sydney', country: 'Australia', lon: 151.211111, lat: -33.859972, total: 0.349120408 },\n  ]\n  const maxTotal = Math.max(...connectivityData.map((d) => d.total))\n\n  return (\n    <Layout>\n    <section className=\"bg-gray-50 dark:bg-slate-600\">\n      <div className=\"w-full mx-auto max-w-(--breakpoint-xl) px-6 py-32\">\n  <h1 className=\"text-8xl md:text-12xl font-mont text-center font-bold text-orange-400 dark:text-white ebpc-animated ebpc-title\">{t('project.ebpc.title')}</h1>\n    <h4 className=\"text-2xl mt-2 font-medium text-slate-700 dark:text-white text-center\">{t('project.ebpc.subtitle')}</h4>\n        \n\n        <p className=\"mt-16 mb-0 font-bold text-gray-400 max-w-none dark:text-gray-300 text-center\">\n          <Link to=\"#\">Jiduo Zhang</Link><sup>1*</sup>, &nbsp;\n          <Link className=\"hover:text-purple-600 dark:hover:text-purple-400 transition-all duration-150 ease-in-out\" to=\"https://research.manchester.ac.uk/en/persons/robert.heinemann\">Robert Heinemann</Link><sup>1</sup> and&nbsp;\n          <Link className=\"hover:text-purple-600 dark:hover:text-purple-400 transition-all duration-150 ease-in-out\" to=\"https://research.manchester.ac.uk/en/persons/ottojan.bakker\">Otto Jan Bakker</Link><sup>1</sup>\n        </p>\n        <p className=\"font-bold text-gray-400 max-w-none dark:text-gray-300 mt-0 text-center\"><sup>1</sup> {t('project.ebpc.affiliation')}</p>\n\n        <div className=\"mt-12 flex-1 justify-items-center\">\n          <div className=\"flex justify-center\">\n            <Link className=\"text-white bg-orange-700 shrink-0\n            hover:bg-orange-800 focus:outline-hidden \n            focus:ring-4 focus:ring-orange-300 \n            font-medium rounded-full text-normal px-5 py-2.5 \n            text-center mr-2 mb-2 dark:bg-blue-600\n              dark:hover:bg-blue-700 dark:focus:ring-blue-800\" to=\"https://link.springer.com/article/10.1007/s10845-025-02657-7\">{t('project.ebpc.readPaper')}</Link>\n            {/* <Link className=\"px-5 py-2.5 \n             text-blue-700 dark:text-blue-100\n            text-center mr-2 mb-2\" \n            to=\"https://github.com/kidozh/tpp-cnn-network-for-incidence-identification\">View data</Link> */}\n          </div>\n\n        </div>\n      </div>\n\n    </section>\n\n    <section className=\"bg-gray-100 dark:bg-slate-700\">\n      <div className=\"w-full mx-auto max-w-6xl max-w-(--breakpoint-l) px-6 py-8\">\n        <h1 className=\"text-2xl font-montserrat font-bold text-gray-800 dark:text-white max-w-none\">\n          {t('project.ebpc.highlightsHeading')}\n        </h1>\n      </div>\n      <div className=\"w-full mx-auto max-w-6xl max-w-(--breakpoint-xl) px-6 grid grid-cols-1 md:grid-cols-2 gap-8\">\n        <div className=\"bg-white dark:bg-gray-800 shadow-lg rounded-2xl overflow-hidden\n      hover:bg-linear-to-r hover:from-orange-200 hover:to-red-200\n      hover:scale-105 dark:hover:bg-linear-to-r dark:hover:from-cyan-500 dark:hover:to-blue-500\n      group hover:transition-all duration-500 ease-in-out p-6\">\n          <h2 className=\"text-2xl font-montserrat font-bold text-gray-800 dark:text-white\">{t('project.ebpc.exponential.title')}</h2>\n          <hr className=\"h-1 my-8 w-32 group-hover:w-full mt-2 mb-4 bg-orange-500 border-orange-500 group-hover:transition-all ease-in-out duration-800\n            border-2 dark:bg-indigo-500 dark:border-indigo-500\n             dark:group-hover:bg-slate-100 dark:group-hover:border-slate-100\n              group-hover:bg-red-600 group-hover:border-red-600\" />\n          <p className=\"mt-4 font-light text-normal text-gray-700\n            dark:text-gray-200 border-b-orange-700\">\n              {t('project.ebpc.exponential.desc')}\n            </p>\n        </div>\n        <div className=\"bg-white dark:bg-gray-800 shadow-lg rounded-2xl overflow-hidden\n      hover:bg-linear-to-r hover:from-orange-200 hover:to-red-200\n      hover:scale-105 dark:hover:bg-linear-to-r dark:hover:from-cyan-500 dark:hover:to-blue-500\n      group hover:transition-all duration-500 ease-in-out p-6\">\n          <h2 className=\"text-2xl font-montserrat font-bold text-gray-800 dark:text-white\">{t('project.ebpc.datamin.title')}</h2>\n          <hr className=\"h-1 my-8 w-32 group-hover:w-full mt-2 mb-4 bg-orange-500 border-orange-500 group-hover:transition-all ease-in-out duration-800\n            border-2 dark:bg-indigo-500 dark:border-indigo-500\n             dark:group-hover:bg-slate-100 dark:group-hover:border-slate-100\n              group-hover:bg-red-600 group-hover:border-red-600\" />\n          <p className=\"mt-4  font-light text-normal text-gray-700\n            dark:text-gray-200 border-b-orange-700\">\n              {t('project.ebpc.datamin.desc')}<sup>[1]</sup>\n\n            </p>\n            <p className=\"mt-4  font-light text-normal text-gray-700\n            dark:text-gray-200 border-b-orange-700\"><small>[1]: <Link to=\"/project/manchester-unit\" className=\"text-orange-400 dark:text-indigo-500\">Minimum Sufficient Unit Theory</Link></small></p>\n        </div>\n\n        <div className=\"bg-white dark:bg-gray-800 shadow-lg rounded-2xl overflow-hidden\n      hover:bg-linear-to-r hover:from-orange-200 hover:to-red-200\n      hover:scale-105 dark:hover:bg-linear-to-r dark:hover:from-cyan-500 dark:hover:to-blue-500\n      group hover:transition-all duration-500 ease-in-out p-6\">\n          <h2 className=\"text-2xl font-montserrat font-bold text-gray-800 dark:text-white\">{t('project.ebpc.producer.title')}</h2>\n          <hr className=\"h-1 my-8 w-32 group-hover:w-full mt-2 mb-4 bg-orange-500 border-orange-500 group-hover:transition-all ease-in-out duration-800\n            border-2 dark:bg-indigo-500 dark:border-indigo-500\n             dark:group-hover:bg-slate-100 dark:group-hover:border-slate-100\n              group-hover:bg-red-600 group-hover:border-red-600\" />\n          <p className=\"mt-4  font-light text-normal text-gray-700\n            dark:text-gray-200 border-b-orange-700\">\n              {t('project.ebpc.producer.desc')}\n            </p>\n        </div>\n\n        <div className=\"bg-white dark:bg-gray-800 shadow-lg rounded-2xl overflow-hidden\n      hover:bg-linear-to-r hover:from-orange-200 hover:to-red-200\n      hover:scale-105 dark:hover:bg-linear-to-r dark:hover:from-cyan-500 dark:hover:to-blue-500\n      group hover:transition-all duration-500 ease-in-out p-6\">\n          <h2 className=\"text-2xl font-montserrat font-bold text-gray-800 dark:text-white\">{t('project.ebpc.prioritisation.title')}</h2>\n          <hr className=\"h-1 my-8 w-32 group-hover:w-full mt-2 mb-4 bg-orange-500 border-orange-500 group-hover:transition-all ease-in-out duration-800\n            border-2 dark:bg-indigo-500 dark:border-indigo-500\n             dark:group-hover:bg-slate-100 dark:group-hover:border-slate-100\n              group-hover:bg-red-600 group-hover:border-red-600\" />\n          <p className=\"mt-4  font-light text-normal text-gray-700\n            dark:text-gray-200 border-b-orange-700\">\n              {t('project.ebpc.prioritisation.desc')}\n            </p>\n        </div>\n        \n      </div>\n    </section>\n\n    <section className=\"bg-gray-50 dark:bg-slate-800\">\n      <div className=\"w-full mx-auto max-w-6xl px-6 py-12\">\n  <h2 className=\"text-2xl font-montserrat font-bold text-gray-800 dark:text-white mb-6\">{t('project.ebpc.expDemoHeading')}</h2>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <ExponentialBackoffDemo />\n          <div className=\"bg-white dark:bg-gray-800 shadow-lg rounded-2xl p-6\">\n            <h3 className=\"text-xl font-semibold text-gray-800 dark:text-white\">{t('project.ebpc.expDemoHow')}</h3>\n            <p className=\"mt-3 text-gray-700 dark:text-gray-200 text-sm\">\n              {t('project.ebpc.expDemoPara')}\n            </p>\n            <p className=\"mt-3 text-gray-600 dark:text-gray-300 text-sm\"><strong>{t('project.ebpc.expDemoParams')}</strong></p>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <section className=\"bg-slate-100 dark:bg-slate-700\">\n      <div className=\"w-full mx-auto max-w-(--breakpoint-xl) px-6 py-16\">\n        <h2 className=\"text-4xl font-montserrat text-center font-bold mt-2 text-orange-700 dark:text-blue-200 max-w-none\">\n          {t('project.ebpc.bitDepthTitle')}\n        </h2>\n        \n        <div className=\"w-full mx-auto max-w-6xl px-6 py-8\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <BitDepthDemo />\n            <div className=\"bg-white dark:bg-gray-800 shadow-lg rounded-2xl p-6\">\n                <h3 className=\"text-xl font-semibold text-gray-800 dark:text-white \">{t('project.ebpc.dataCompressionHow')}</h3>\n                <p className=\"mt-3 text-gray-700 dark:text-gray-200 text-sm\">\n                  {t('project.ebpc.dataCompressionPara')}\n                </p>\n                <p className=\"mt-3 text-gray-600 dark:text-gray-300 text-sm\"><strong>{t('project.ebpc.dataCompressionNoteStrong')}</strong></p>\n            </div>\n\n          </div>\n          \n        </div>\n        <p className=\"text-2xl mt-4 text-center font-medium text-slate-500 dark:text-slate-200 max-w-none\">\n          <small>{t('project.ebpc.dataCompressionNotePrefix')} <Link to=\"/project/manchester-unit\" className=\"text-orange-500 dark:text-blue-200 hover:text-orange-700\n           transition-all duration-150 ease-in-out underline\n           dark:hover:text-blue-200\">{t('project.ebpc.dataCompressionNoteLinkText')}</Link> {t('project.ebpc.dataCompressionNoteSuffix')}</small>\n        </p>\n        {/* Data size table removed per request */}\n      </div>\n    </section>\n\n    <section className=\"bg-white dark:bg-slate-800\">\n      <div className=\"w-full mx-auto max-w-6xl px-6 py-12\">\n  <h2 className=\"text-2xl font-montserrat font-bold text-gray-800 dark:text-white mb-6\">{t('project.ebpc.producerHeading')}</h2>\n  <p className=\"text-sm text-gray-600 dark:text-gray-300\">{t('project.ebpc.producerComparison')}</p>\n        <div className=\"mb-4 mt-2 flex gap-3\">\n          <button onClick={startAll} className=\"text-white bg-orange-600 hover:bg-orange-700 font-medium rounded-full px-4 py-2\">{t('project.ebpc.startAll')}</button>\n          <button onClick={stopAll} className=\"text-orange-700 bg-orange-100 hover:bg-orange-200 font-medium rounded-full px-4 py-2\">{t('project.ebpc.stopAll')}</button>\n        </div>\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <ProducerConsumerDemo ref={pcRefA} title={t('project.ebpc.concurrencyDefault') || 'Concurrency = 4 (default)'} initialConcurrency={4} initialProduceInterval={500} initialProcessTime={800} initialBufferSize={20} initialMode={'bounded'} globalStartId={globalStartId} globalStopId={globalStopId} externalProduceController={sharedControllerRef.current} />\n          <ProducerConsumerDemo ref={pcRefB} title={t('project.ebpc.concurrencyTraditional') || 'Concurrency = 1 (Traditional architecture)'} initialConcurrency={1} initialProduceInterval={500} initialProcessTime={800} initialBufferSize={20} initialMode={'bounded'} globalStartId={globalStartId} globalStopId={globalStopId} externalProduceController={sharedControllerRef.current} />\n        </div>\n        \n      </div>\n    </section>\n\n    <section className=\"bg-gray-50 dark:bg-slate-800\">\n      <div className=\"w-full mx-auto max-w-6xl px-6 py-12\">\n  <h2 className=\"text-2xl font-montserrat font-bold text-gray-800 dark:text-white mb-6\">{t('project.ebpc.deployHeading')}</h2>\n        <div className=\"flex justify-center\">\n          <div className=\"w-full max-w-6xl p-6 bg-white dark:bg-slate-800 rounded-lg shadow\">\n            \n            <div className=\"mt-6\">\n              <h4 className=\"text-sm font-medium text-gray-700 dark:text-gray-200 mb-2\">{t('project.ebpc.connectivityLabel')}</h4>\n              <div className=\"w-full\">\n                {/* increase internal canvas/projection width so the heatmap is rendered at higher resolution */}\n                <ConnectivityMap data={connectivityData} width={1200} height={360} pointScale={14} />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <section className=\"bg-gray-100 dark:bg-slate-700\">\n      <div className=\"w-full mx-auto max-w-(--breakpoint-xl) px-6 py-16\">\n        <h1 className=\"text-4xl font-montserrat text-center font-bold mt-2 text-orange-700 dark:text-blue-200 max-w-none\">\n          {t('project.ebpc.conclusionsHeading')}\n        </h1>\n        \n        <div className=\"w-full mx-auto max-w-6xl px-6 py-8\">\n          <ul className=\"list-disc list-inside text-lg font-normal text-gray-700 dark:text-gray-200\">\n            {(() => {\n              const c = t('project.ebpc.conclusionsList', { returnObjects: true })\n              const arr = Array.isArray(c) ? c : []\n              return arr.map((s, i) => (<li key={i}>{s}</li>))\n            })()}\n          </ul>\n\n        </div>\n      </div>\n    </section>\n\n\n\n    <section className=\"bg-orange-100 dark:bg-blue-900\">\n      <div className=\"w-full mx-auto max-w-(--breakpoint-xl) px-6 py-8 lg:flex align-middle\">\n        <div className=\"flex-1 justify-center align-middle\">\n          <p className=\"text-4xl p-8 font-normal text-orange-900 dark:text-blue-200 max-w-none\">\n            {t('project.ebpc.ackPrefix')} &nbsp;\n            <Link to=\"https://www.csc.edu.cn/\" className=\"hover:text-orange-700\n            transition-all duration-150 ease-in-out hover:underline font-bold\n            dark:hover:text-blue-200\">{t('project.ebpc.ackLinkText')}</Link>{t('project.ebpc.ackSuffix')}\n          </p>\n        </div>\n\n        <div className=\"lg:shrink-0\" >\n          <div className=\"p-6 flex-1 justify-item-center\">\n            <img className=\"max-w-full flex justify-center \n            h-48 md:h-36\n            border-r-8 rounded-2xl dark:shadow-xl dark:bg-slate-200\" src={CSCLogo} alt=\"Logo of China scholarship council\" />\n          </div>\n\n        </div>\n\n\n      </div>\n\n    </section>\n\n    <section className=\"bg-gray-300 dark:bg-gray-700\">\n      <div className=\"w-full mx-auto max-w-(--breakpoint-xl) px-6 py-8\">\n        <h1 className=\"text-4xl font-montserrat text-center font-bold mt-2 text-gray-700 dark:text-blue-200 max-w-none\">\n          {t('project.ebpc.statementForReviwerTitle')}\n        </h1>\n        <p className=\"text-2xl mt-4 font-normal text-gray-500 dark:text-gray-200 max-w-none\">\n          {t('project.ebpc.statementForReviwerPara')}\n            \n        </p>\n\n        <ul className=\"list-disc list-inside text-lg font-normal text-gray-700 dark:text-gray-200 mt-4 bg-gray-700 dark:bg-gray-200 hover:bg-gray-400 dark:hover:bg-gray-600 p-4 rounded-lg\">\n          <li>Garima Nain</li>\n          <li>Kiran Kumar Kumar Pattanaik</li>\n          <li>Girish Kumar Sharma</li>\n\n        </ul>\n        \n      </div>\n    </section>\n\n    \n\n\n\n    <section className=\"bg-gray-100 dark:bg-gray-700\">\n      <div className=\"w-full mx-auto max-w-(--breakpoint-xl) px-6 py-8\">\n        <p className=\"text-2xl mt-2 font-normal text-gray-500 dark:text-gray-200 max-w-none\">\n          {t('project.ebpc.contactPromptPrefix')}&nbsp;\n          <Link to=\"/contact\" className=\"text-orange-500 dark:text-blue-200 hover:text-orange-700\n           transition-all duration-150 ease-in-out underline\n           dark:hover:text-blue-200\">{t('project.ebpc.contactUs')}</Link>\n          {t('project.ebpc.contactPromptSuffix')}\n        </p>\n        \n      </div>\n\n\n    \n    </section>\n\n  </Layout>\n  )\n}\n\n\n/**\n * Head export to define metadata for the page\n *\n * See: https://www.gatsbyjs.com/docs/reference/built-in-components/gatsby-head/\n */\nexport const Head = () => <Seo title=\"EBPC: A cloud computing framework for immediate tool condition monitoring\" />\n\nexport default TppPage\n\nexport const query = graphql`\n  query HybridPredictionPageQuery($language: String!) {\n    locales: allLocale(filter: {language: {eq: $language}}) {\n      edges {\n        node {\n          ns\n          data\n          language\n        }\n      }\n    }\n  }\n`","/**\n * SEO component that queries for data with\n * Gatsby's useStaticQuery React hook\n *\n * See: https://www.gatsbyjs.com/docs/how-to/querying-data/use-static-query/\n */\n\nimport * as React from \"react\"\nimport { useStaticQuery, graphql } from \"gatsby\"\n\nfunction Seo({ description, title, children }) {\n  const { site } = useStaticQuery(\n    graphql`\n      query {\n        site {\n          siteMetadata {\n            title\n            description\n            author\n          }\n        }\n      }\n    `\n  )\n\n  const metaDescription = description || site.siteMetadata.description\n  const defaultTitle = site.siteMetadata?.title\n\n  return (\n    <>\n      <title>{defaultTitle ? `${title} | ${defaultTitle}` : title}</title>\n      <meta name=\"description\" content={metaDescription} />\n      <meta property=\"og:title\" content={title} />\n      <meta property=\"og:description\" content={metaDescription} />\n      <meta property=\"og:type\" content=\"website\" />\n      <meta name=\"twitter:card\" content=\"summary\" />\n      <meta name=\"twitter:creator\" content={site.siteMetadata?.author || ``} />\n      <meta name=\"twitter:title\" content={title} />\n      <meta name=\"twitter:description\" content={metaDescription} />\n      {children}\n    </>\n  )\n}\n\nexport default Seo\n","export default __webpack_public_path__ + \"static/china-scholarship-logo-d38fb5e78cf70dc3f74a5e87332ec579.jpg\";","\"use strict\";\n\nexports.__esModule = true;\nvar _reactI18next = require(\"react-i18next\");\nObject.keys(_reactI18next).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _reactI18next[key]) return;\n  exports[key] = _reactI18next[key];\n});\nvar _i18nextContext = require(\"./i18nextContext\");\nObject.keys(_i18nextContext).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _i18nextContext[key]) return;\n  exports[key] = _i18nextContext[key];\n});\nvar _useI18next = require(\"./useI18next\");\nObject.keys(_useI18next).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _useI18next[key]) return;\n  exports[key] = _useI18next[key];\n});\nvar _Link = require(\"./Link\");\nObject.keys(_Link).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (key in exports && exports[key] === _Link[key]) return;\n  exports[key] = _Link[key];\n});"],"names":["_interopRequireDefault","require","exports","__esModule","useI18next","_extends2","_reactI18next","_react","_gatsby","_i18nextContext","_types","ns","options","_useTranslation","useTranslation","i18n","t","ready","context","useContext","I18nextContext","routed","defaultLanguage","generateDefaultLanguagePage","getLanguagePath","language","default","navigate","to","languagePath","link","changeLanguage","pathname","i","indexOf","substring","removeLocalePart","window","location","search","localStorage","setItem","LANGUAGE_KEY","Link","_objectWithoutPropertiesLoose2","obj","nodeInterop","cache","_getRequireWildcardCache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_interopRequireWildcard","_excluded","WeakMap","cacheBabelInterop","cacheNodeInterop","forwardRef","_ref","ref","_onClick","onClick","rest","urlLanguage","createElement","innerRef","hrefLang","e","LangSwitch","languages","originalPath","currentLanguage","current","React","className","map","lng","label","toUpperCase","async","url","URL","href","parts","split","filter","Boolean","length","includes","shift","newPath","concat","_toConsumableArray","join","hash","history","pushState","title","siteTitle","loc","useLocation","isActive","normalized","startsWith","replace","prefRoot","prefixed","theme","setTheme","useState","stored","getItem","matchMedia","matches","useEffect","document","documentElement","classList","add","remove","type","id","toggleTheme","fill","viewBox","xmlns","d","fillRule","clipRule","Footer","Date","getFullYear","class","_data$site$siteMetada","children","data","useStaticQuery","dangerouslySetInnerHTML","__html","Header","site","siteMetadata","module","r","n","ExponentialBackoffDemo","attempts","setAttempts","running","setRunning","currentDelay","setCurrentDelay","successPct","setSuccessPct","networkRTT","setNetworkRTT","timerRef","baseDelay","clearTimeout","indicatorTimerRef","jitterFor","raw","Math","floor","random","senderTimerRef","seqRef","responseTimersRef","Map","nextSendRemaining","setNextSendRemaining","countdownRef","changeIndicator","setChangeIndicator","logs","setLogs","runningRef","currentDelayRef","isDark","setIsDark","m","v","addEventListener","addListener","removeEventListener","removeListener","pushLog","msg","time","toLocaleTimeString","prev","slice","sendOne","sendTime","delayAtSend","next","attempt","status","observedRTT","max","timer","setTimeout","success","it","prevDelay","min","clearInterval","scheduleNextSend","delete","interval","start","now","nextInterval","setInterval","elapsed","remaining","observed","ceil","cancel","values","clear","delay","initialDelay","disabled","reset","pct","value","onChange","Number","target","style","accentColor","ms","readOnly","Sparkline","width","height","l","a","_a$delayAtSend","bad","delays","rtts","maxVal","apply","w","h","step","pointsFor","arr","round","delayPoints","rttPoints","preserveAspectRatio","stroke","strokeWidth","points","BitDepthDemo","bitDepth","setBitDepth","noiseLevel","setNoiseLevel","phaseRef","rafRef","N","quantize","bits","levels","pow","scaled","toPoints","clean","setClean","Array","setObserved","quantized","setQuantized","snr","setSnr","sqnr","setSqnr","snrHistory","setSnrHistory","sqnrHistory","setSqnrHistory","last","performance","loop","dt","c","o","makeSignals","phase","noise","PI","s","sin","q","qClean","sp","np","qnp","qe","val","Infinity","log10","valq","snrVal","isFinite","sqnrVal","requestAnimationFrame","cancelAnimationFrame","origPoints","qPoints","estimatedBits","reduction","toFixed","strokeOrig","strokeQuant","SparklineMini","color","pts","reverse","range","len","strokeLinecap","strokeLinejoin","ProducerConsumerDemo","_ref2","initialConcurrency","initialProduceInterval","initialProcessTime","initialBufferSize","initialMode","__exposeHandlersRef","globalStartId","globalStopId","externalProduceController","produceInterval","setProduceInterval","processTime","setProcessTime","concurrency","setConcurrency","bufferSize","setBufferSize","mode","setMode","workersRef","producersRef","queueRef","blockingRef","produceIntervalRef","processTimeRef","queue","setQueue","processed","setProcessed","dropped","setDropped","avgLatency","setAvgLatency","latenciesRef","queueHistoryRef","queueHistory","setQueueHistory","recentProcessed","setRecentProcessed","pushQueueHistory","push","produceBlockingLoop","produceOne","scheduleConsumers","stop","item","producedAt","handleExternalTick","Promise","resolve","latency","avg","reduce","b","p","x","processItem","subscribe","unsubscribe","size","position","idx","transform","transition","display","opacity","animation","props","handlersRef","assign","epsilon","pi","halfPi","quarterPi","tau","abs","atan","atan2","cos","exp","log","hypot","sign","sqrt","tan","asin","compose","y","invert","rotationIdentity","lambda","phi","deltaLambda","deltaPhi","deltaGamma","rotationLambda","rotationPhiGamma","forwardRotationLambda","rotation","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","cosPhi","z","k","noop","line","lines","point","lineStart","lineEnd","rejoin","pop","result","Intersection","other","entry","this","segments","compareIntersection","startInside","interpolate","stream","subject","clip","forEach","segment","p0","p1","pointEqual","sort","isSubject","array","Adder","constructor","_partials","Float64Array","_n","j","hi","lo","valueOf","spherical","cartesian","cartesianDot","cartesianCross","cartesianAddInPlace","cartesianScale","vector","cartesianNormalizeInPlace","longitude","merge","arrays","from","flatten","pointVisible","clipLine","sink","polygon","ring","ringBuffer","ringSink","polygonStarted","polygonStart","pointRing","ringStart","ringEnd","polygonEnd","sinPhi","normal","angle","winding","sum","point0","lambda0","phi0","sinPhi0","cosPhi0","lambda1","sinPhi1","cosPhi1","point1","phi1","delta","absDelta","antimeridian","arc","intersection","phiArc","polygonContains","sphere","pointLine","ringSegments","validSegment","NaN","sign0","sign1","sinLambda0Lambda1","clipAntimeridianIntersect","direction","circleStream","radius","t0","t1","cosRadius","sinRadius","circleRadius","acos","clipMax","clipMin","clipRectangle","x0","y0","x1","y1","visible","a1","corner","comparePoint","ca","cb","x__","y__","v__","x_","y_","v_","first","activeStream","bufferStream","clipStream","linePoint","a0","b0","b1","polygonInside","cleanInside","ax","ay","dx","dy","transformer","methods","TransformStream","streamGeometry","geometry","streamGeometryType","streamObjectType","Feature","object","FeatureCollection","features","Sphere","Point","coordinates","MultiPoint","LineString","streamLine","MultiLineString","Polygon","streamPolygon","MultiPolygon","GeometryCollection","geometries","closed","coordinate","boundsStream","bounds","fit","projection","fitBounds","clipExtent","scale","translate","fitExtent","extent","cosMinDistance","project","delta2","resampleLineTo","c0","c1","depth","d2","phi2","lambda2","x2","y2","dx2","dy2","dz","lambda00","x00","y00","a00","b00","c00","resampleStream","ringPoint","resampleNone","transformRadians","scaleTranslateRotate","sx","sy","alpha","scaleTranslate","cosAlpha","sinAlpha","ai","bi","ci","fi","projectAt","rotate","projectResample","projectTransform","projectRotateTransform","cacheStream","theta","preclip","postclip","identity","recenter","center","resample","transformRotate","_","arguments","undefined","clipAngle","cr","smallRadius","notHemisphere","intersect","two","n1","n2","n2n2","n1n2","determinant","c2","n1xn2","A","u","uu","t2","polar","q1","code","v0","v00","point2","reflectX","reflectY","precision","fitSize","fitWidth","fitHeight","projectionMutator","mercatorRaw","reclip","forward","mercatorProjection","areaSum","areaRingSum","areaStream","areaRingStart","areaRingEnd","area","areaPointFirst","areaPoint","X0","Y0","Z0","X1","Y1","Z1","X2","Y2","Z2","centroidStream","centroidPoint","centroidLineStart","centroidLineEnd","centroidRingStart","centroidRingEnd","centroid","centroidPointFirstLine","centroidPointLine","centroidPointFirstRing","centroidPointRing","PathContext","_context","_radius","pointRadius","_line","_point","closePath","moveTo","lineTo","lengthRing","lengthSum","lengthStream","lengthPointFirst","lengthPoint","cacheDigits","cacheAppend","cacheRadius","cacheCircle","PathString","digits","_append","append","RangeError","strings","appendRound","topology","objects","bbox","properties","transformPoint","kx","ky","input","output","arcs","ConnectivityMap","pointScale","landGeo","setLandGeo","topoKey","setTopoKey","loadError","setLoadError","imageHref","setImageHref","clipIdRef","toString","maxTotal","total","containerRef","measuredWidth","setMeasuredWidth","defaultWidth","defaultHeight","cancelled","fetch","then","ok","Error","json","topo","console","keys","preferred","chosenKey","find","landObj","geo","feature","k2","message","String","catch","geoMercator","pathGenerator","projectionStream","contextStream","path","measure","geoPath","effWidth","effHeight","cvs","ctx","getContext","lon","lat","__connectivity_heatmap_ready","__connectivity_heatmap_href","__connectivity_heatmap_length","lerp","lerpColor","blue","yellow","red","colorFor","py","px","lonlat","clearRect","num","den","dist2","power","rgb","fillStyle","fillRect","toDataURL","node","ro","ResizeObserver","entries","contentRect","observe","onResize","clientWidth","disconnect","role","xlinkHref","clipPath","pointerEvents","strokeOpacity","coords","city","cx","cy","country","Head","Seo","TppPage","pcRefA","pcRefB","setGlobalStartId","setGlobalStopId","sharedControllerRef","subs","Set","rafId","runningController","tick","fn","connectivityData","Layout","startAll","stopAll","returnObjects","isArray","src","CSCLogo","alt","_site$siteMetadata","_site$siteMetadata2","description","metaDescription","defaultTitle","name","content","property","author","_useI18next","_Link"],"sourceRoot":""}