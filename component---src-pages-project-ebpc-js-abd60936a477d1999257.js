(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[481],{2232:function(e,t,n){"use strict";var r=n(4994);t.__esModule=!0,t.useI18next=void 0;var a=r(n(4634)),l=n(2389),o=n(6540),i=n(4794),c=n(3064),s=n(3773);t.useI18next=function(e,t){var n=(0,l.useTranslation)(e,t),r=n.i18n,u=n.t,m=n.ready,d=(0,o.useContext)(c.I18nextContext),f=d.routed,h=d.defaultLanguage,g=d.generateDefaultLanguagePage,p=function(e){return g||e!==h?"/"+e:""};return(0,a.default)({},d,{i18n:r,t:u,ready:m,navigate:function(e,t){var n=p(d.language),r=f?""+n+e:""+e;return(0,i.navigate)(r,t)},changeLanguage:function(e,t,n){var r=""+p(e)+(t||function(e){if(!f)return e;var t=e.indexOf("/",1);return e.substring(t)}(window.location.pathname))+window.location.search;return localStorage.setItem(s.LANGUAGE_KEY,e),(0,i.navigate)(r,n)}})}},3514:function(e,t,n){"use strict";var r=n(4994);t.__esModule=!0,t.Link=void 0;var a=r(n(4634)),l=r(n(4893)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var r={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=a?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(r,l,o):r[l]=e[l]}r.default=e,n&&n.set(e,r);return r}(n(6540)),i=n(3064),c=n(4794),s=n(3773),u=["language","to","onClick"];function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}var d=o.default.forwardRef((function(e,t){var n=e.language,r=e.to,m=e.onClick,d=(0,l.default)(e,u),f=(0,o.useContext)(i.I18nextContext),h=n||f.language,g=""+function(e){return f.generateDefaultLanguagePage||e!==f.defaultLanguage?"/"+e:""}(h)+r;return o.default.createElement(c.Link,(0,a.default)({},d,{to:g,innerRef:t,hrefLang:h,onClick:function(e){n&&localStorage.setItem(s.LANGUAGE_KEY,n),m&&m(e)}}))}));t.Link=d},4416:function(e,t,n){"use strict";n.d(t,{A:function(){return m}});var r=n(6540),a=n(4794),l=n(4755),o=n(4506);var i=()=>{const{i18n:e}=(0,l.useTranslation)(),{languages:t,originalPath:n,language:a,changeLanguage:i,navigate:c}=(0,l.useI18next)(),s=a||e&&e.language||"en";return r.createElement("div",{className:"ml-4 inline-flex items-center"},t.map((n=>{const a="zh"===n?"中":n.toUpperCase();return r.createElement("button",{key:n,onClick:async()=>{i&&await i(n);try{e&&e.changeLanguage&&e.changeLanguage(n)}catch(r){}if("undefined"!=typeof window)try{const e=new URL(window.location.href),r=e.pathname.split("/").filter(Boolean);r.length>0&&t.includes(r[0])&&r.shift();const a="/"+("en"===n?r:[n].concat((0,o.A)(r))).join("/")+(e.search||"")+(e.hash||"");window.history.pushState({},"",a)}catch(r){}},"aria-current":n===s?"true":"false","data-lang":n,className:`px-2 py-1 rounded text-sm focus:outline-none focus:ring-2 focus:ring-offset-2\n            ${n===s?"font-semibold bg-gray-200 text-gray-900 dark:bg-gray-700 dark:text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800"}\n            transition-colors duration-150 mx-1`,title:a},a)})))},c=n(6462);var s=e=>{let{siteTitle:t}=e;const{t:n}=(0,l.useTranslation)(),{language:o}=(0,l.useI18next)(),s=(0,c.useLocation)(),u="undefined"!=typeof window&&s&&s.pathname?s.pathname:"/",m=e=>{const t=(e.startsWith("/")?e:`/${e}`).replace(/\/+$|\/$/,"")||"/";if("/"===t){if(o&&"en"!==o){const e=`/${o}`;return"/"===u||u===e||u===`${e}/`}return"/"===u}if(o&&"en"!==o){const e=`/${o}${t}`;if(u===e||u===`${e}/`||u.startsWith(`${e}/`))return!0}return!(u!==t&&u!==`${t}/`&&!u.startsWith(`${t}/`))},{0:d,1:f}=(0,r.useState)((()=>{if("undefined"==typeof window)return"light";try{const e=localStorage.getItem("color-theme");return e||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}catch(e){return"light"}}));(0,r.useEffect)((()=>{try{"dark"===d?(document.documentElement.classList.add("dark"),localStorage.setItem("color-theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("color-theme","light"))}catch(e){}}),[d]);return r.createElement("header",null,r.createElement("nav",{className:"bg-white border-gray-200 dark:bg-gray-900"},r.createElement("div",{className:"max-w-(--breakpoint-xl) flex flex-wrap items-center justify-between mx-auto p-4"},r.createElement(a.Link,{to:"/",className:"flex items-center"},r.createElement("span",{className:"self-center text-2xl font-semibold whitespace-nowrap dark:text-white"},t)),r.createElement("div",{className:"flex items-center md:order-2"},r.createElement("button",{type:"button",id:"theme-toggle",onClick:()=>f((e=>"dark"===e?"light":"dark")),className:"inline-flex items-center font-medium justify-center px-4 py-2  text-sm text-gray-900 dark:text-white  rounded-lg cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 dark:hover:text-white","aria-label":"Toggle theme"},r.createElement("svg",{className:("dark"===d?"hidden":"inline")+" w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",fillRule:"evenodd",clipRule:"evenodd"})),r.createElement("svg",{className:("dark"===d?"inline":"hidden")+" w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"}))),r.createElement(i,null),r.createElement("button",{"data-collapse-toggle":"navbar-default",type:"button",className:"inline-flex items-center p-2 ml-3 text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100 focus:outline-hidden focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600","aria-controls":"navbar-default","aria-expanded":"false"},r.createElement("span",{className:"sr-only"},n("nav.openMenu")),r.createElement("svg",{className:"w-6 h-6","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})))),r.createElement("div",{className:"items-center justify-between hidden w-full md:flex md:w-auto md:order-1",id:"navbar-default"},r.createElement("ul",{className:"flex flex-col font-medium p-4 md:p-0 mt-4 border border-gray-100 rounded-lg bg-gray-50 md:flex-row md:space-x-8 md:mt-0 md:border-0 md:bg-white dark:bg-gray-800 md:dark:bg-gray-900 dark:border-gray-700"},r.createElement("li",null,r.createElement(a.Link,{to:"/",className:"block py-2 pl-3 pr-4 rounded-sm md:p-0 "+(m("/")?"text-white bg-blue-600 md:bg-transparent md:text-blue-700 dark:text-white":"text-gray-900 hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent")},n("nav.home"))),r.createElement("li",null,r.createElement(a.Link,{to:"/resume/",className:"block py-2 pl-3 pr-4 rounded-sm md:p-0 "+(m("/resume")?"text-white bg-blue-600 md:bg-transparent md:text-blue-700 dark:text-white":"text-gray-900 hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent")},n("nav.cv"))),r.createElement("li",null,r.createElement(a.Link,{to:"/project/",className:"block py-2 pl-3 pr-4 rounded-sm md:p-0 "+(m("/project")?"text-white bg-blue-600 md:bg-transparent md:text-blue-700 dark:text-white":"text-gray-900 hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent")},n("nav.projects"))),r.createElement("li",null,r.createElement(a.Link,{to:"/update/",className:"block py-2 pl-3 pr-4 rounded-sm md:p-0 "+(m("/update")?"text-white bg-blue-600 md:bg-transparent md:text-blue-700 dark:text-white":"text-gray-900 hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent")},n("nav.updates"))),r.createElement("li",null,r.createElement(a.Link,{to:"/contact/",className:"block py-2 pl-3 pr-4 rounded-sm md:p-0 "+(m("/contact")?"text-white bg-blue-600 md:bg-transparent md:text-blue-700 dark:text-white":"text-gray-900 hover:bg-gray-100 md:hover:bg-transparent md:border-0 md:hover:text-blue-700 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent")},n("nav.contact"))))))))};var u=()=>{const{t:e}=(0,l.useTranslation)();return r.createElement("footer",{className:"bg-white p-4 dark:bg-gray-800"},r.createElement("div",{className:"w-full mx-auto max-w-(--breakpoint-xl) p-4 md:flex md:items-center md:justify-between"},r.createElement("span",{className:"text-sm text-gray-500 sm:text-center dark:text-gray-400"},"© 2014 - ",(new Date).getFullYear()," ",r.createElement(a.Link,{to:"https://kidozh.com/",class:"hover:underline"},"kidozh"),". ",e("footer.allRightsReserved"))))};var m=e=>{var t;let{children:n}=e;const l=(0,a.useStaticQuery)("3649515864");return r.createElement(r.Fragment,null,r.createElement("script",{dangerouslySetInnerHTML:{__html:"(function() {\n  try {\n    var stored = localStorage.getItem('color-theme');\n    var prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;\n    if (stored === 'dark' || (stored === null && prefersDark)) {\n      document.documentElement.classList.add('dark');\n    } else {\n      document.documentElement.classList.remove('dark');\n    }\n  } catch (e) {\n    /* ignore */\n  }\n})();"}}),r.createElement(s,{siteTitle:(null===(t=l.site.siteMetadata)||void 0===t?void 0:t.title)||"Title"}),r.createElement("main",null,n),r.createElement(u,null))}},4755:function(e,t,n){e.exports=n(9384)},4893:function(e){e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},7018:function(e,t,n){"use strict";n.r(t),n.d(t,{Head:function(){return Ft},default:function(){return Bt}});var r=n(4506),a=n(6540),l=n(4416),o=n(7528),i=n(4794),c=n(7854);function s(){const[e,t]=a.useState([]),[n,l]=a.useState(!1),[o,i]=a.useState(null),[c,s]=a.useState(90),[m,d]=a.useState(200),f=a.useRef(null),h=100;a.useEffect((()=>()=>{f.current&&clearTimeout(f.current)}),[]),a.useEffect((()=>()=>{N.current&&clearTimeout(N.current)}),[]);const g=e=>Math.floor(Math.random()*Math.floor(.1*e)),p=a.useRef(null),v=a.useRef(0),y=a.useRef(new Map),[x,b]=a.useState(null),E=a.useRef(null),[w,k]=a.useState(null),N=a.useRef(null),[M,S]=a.useState([]),_=a.useRef(!1),T=a.useRef(null),[C,R]=a.useState(!1);a.useEffect((()=>{T.current=o}),[o]),a.useEffect((()=>{if("undefined"==typeof window||!window.matchMedia)return;const e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>R(e.matches);return t(e),e.addEventListener?e.addEventListener("change",t):e.addListener&&e.addListener(t),()=>{e.removeEventListener?e.removeEventListener("change",t):e.removeListener&&e.removeListener(t)}}),[]);const $=e=>{const t=(new Date).toLocaleTimeString();S((n=>[{time:t,msg:e}].concat((0,r.A)(n)).slice(0,20)))},A=()=>{const e=++v.current,n=(new Date).toLocaleTimeString(),a=null===o?h:o;t((t=>{const l=[].concat((0,r.A)(t),[{id:e,attempt:e,delayAtSend:a,status:"sent",time:n}]);return l.length>200?l.slice(-200):l}));const l=Math.max(1,m+g(m)),s=setTimeout((()=>{const n=Math.random()<c/100;t((t=>t.map((t=>t.id===e?{...t,observedRTT:l,status:n?"succeeded":"failed"}:t)))),i(n?e=>{const t=null==e?h:e;let n=t;if(n=l>2*t?Math.min(2*t,2e4):l<t/2?Math.max(h,Math.floor(t/2)):t,n=Math.min(n+g(n),2e4),n!==t){p.current&&(clearTimeout(p.current),p.current=null),E.current&&(clearInterval(E.current),E.current=null),L(n);k(n>t?"increase":"decrease"),N.current&&clearTimeout(N.current),N.current=setTimeout((()=>k(null)),1200);try{$(`${l>2*t?`RTT ${l}ms > 2×${t}ms`:`RTT ${l}ms < 1/2×${t}ms`} → ${n}ms`)}catch(r){}}return n}:e=>{const t=null==e?h:e;let n=Math.min(2*t,2e4);if(n=Math.min(n+g(n),2e4),n!==t){p.current&&(clearTimeout(p.current),p.current=null),E.current&&(clearInterval(E.current),E.current=null),L(n);k("increase"),N.current&&clearTimeout(N.current),N.current=setTimeout((()=>k(null)),1200);try{$(`failure → doubled ${t}ms → ${n}ms`)}catch(r){}}return n}),y.current.delete(e)}),l);y.current.set(e,s)},L=e=>{const t=Date.now();b(e),p.current=setTimeout((()=>{if(!_.current)return;A();const e=null==T.current?h:T.current;L(e)}),e),E.current&&clearInterval(E.current),E.current=setInterval((()=>{const n=Date.now()-t,r=Math.max(0,e-n);b(r),0===r&&E.current&&(clearInterval(E.current),E.current=null)}),100)};a.useEffect((()=>{if(!n)return;const e=Math.ceil(m);i((t=>{const n=null==t?h:t;let r=n;return e>2*n?r=Math.min(2*n,2e4):e<n/2&&(r=Math.max(h,Math.floor(n/2))),r!==n&&(p.current&&(clearTimeout(p.current),p.current=null),E.current&&(clearInterval(E.current),E.current=null),L(r)),r}))}),[m]);const j=()=>{p.current&&(clearTimeout(p.current),p.current=null),E.current&&(clearInterval(E.current),E.current=null);for(const e of y.current.values())clearTimeout(e);y.current.clear(),l(!1),_.current=!1,t((e=>[].concat((0,r.A)(e),[{attempt:"cancelled",delay:0,status:"cancelled",time:(new Date).toLocaleTimeString()}]))),i(null),T.current=null};return a.createElement("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-2xl p-6"},a.createElement("h2",{className:"text-2xl font-montserrat font-bold text-gray-800 dark:text-white"},"Exponential Backoff Demo"),a.createElement("hr",{className:"h-1 my-6 w-24 bg-orange-500 border-orange-500"}),a.createElement("p",{className:"text-gray-700 dark:text-gray-200 font-light mb-4"},"The demo shows how the retry interval dynamically adapts: each failure doubles the delay (capped) and adds a small jitter. Use the ",a.createElement("strong",null,"network success")," slider to change the simulated probability of success per attempt."),a.createElement("div",{className:"flex gap-3 mb-4 items-center"},a.createElement("button",{onClick:()=>{if(n)return;t([]),l(!0),_.current=!0;const e=Math.max(h,Math.ceil(1.1*m));i(e),T.current=e,A(),L(e)},disabled:n,className:"text-white bg-orange-600 hover:bg-orange-700 disabled:opacity-50 font-medium rounded-full px-4 py-2"},"Start"),a.createElement("button",{onClick:j,disabled:!n,className:"text-orange-700 bg-orange-100 hover:bg-orange-200 disabled:opacity-50 font-medium rounded-full px-4 py-2"},"Cancel"),a.createElement("button",{onClick:()=>{j(),t([]),i(null),_.current=!1},className:"text-gray-700 bg-gray-100 hover:bg-gray-200 font-medium rounded-full px-3 py-2"},"Reset")),a.createElement("div",{className:"mb-4"},a.createElement("div",{"aria-live":"polite",className:"inline-flex items-baseline gap-3"},a.createElement("span",{className:"text-sm text-gray-500 dark:text-gray-300"},"Current send interval:"),a.createElement("span",{className:"text-xl font-mono font-semibold text-orange-600 dark:text-orange-400"},null===o?"-":`${o} ms`),"increase"===w&&a.createElement("span",{className:"ml-2 px-2 py-0.5 text-xs bg-red-100 text-red-700 rounded"},"↑"),"decrease"===w&&a.createElement("span",{className:"ml-2 px-2 py-0.5 text-xs bg-green-100 text-green-700 rounded"},"↓"))),a.createElement("div",{className:"mb-4 space-y-3"},a.createElement("div",null,a.createElement("label",{className:"text-sm text-gray-600 dark:text-gray-300"},"Network success: ",c,"%"),a.createElement("input",{type:"range",min:"0",max:"100",value:c,onChange:e=>s(Number(e.target.value)),className:"w-full mt-2",style:{accentColor:C?"#60a5fa":"#fb923c"}})),a.createElement("div",null,a.createElement("label",{className:"text-sm text-gray-600 dark:text-gray-300"},"Simulated network RTT (ms): ",m," ms"),a.createElement("input",{type:"range",min:"0",max:"2000",value:m,onChange:e=>d(Number(e.target.value)),className:"w-full mt-2",style:{accentColor:C?"#60a5fa":"#fb923c"}})),a.createElement("div",null,a.createElement("label",{className:"text-sm text-gray-600 dark:text-gray-300"},"Current scheduled delay (ms)"),a.createElement("input",{type:"range",min:"0",max:"20000",value:null===o?0:o,readOnly:!0,disabled:!0,className:"w-full mt-2 opacity-90",style:{accentColor:C?"#60a5fa":"#fb923c"}}))),a.createElement("div",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4"},a.createElement("div",{className:"mb-1"},"Running: ",a.createElement("strong",null,n?"yes":"no")),a.createElement("div",{className:"mb-1"},"Attempts: ",a.createElement("strong",null,e.length)),a.createElement("div",{className:"mb-1"},"Current delay: ",a.createElement("strong",null,null===o?"-":`${o} ms`),"increase"===w&&a.createElement("span",{className:"ml-2 px-2 py-0.5 text-xs bg-red-100 text-red-700 rounded"},"↑"),"decrease"===w&&a.createElement("span",{className:"ml-2 px-2 py-0.5 text-xs bg-green-100 text-green-700 rounded"},"↓")),a.createElement("div",{className:"mb-1"},"Next send in: ",a.createElement("strong",null,null==x?"-":`${Math.ceil(x)} ms`))),a.createElement("div",{className:"mb-4"},e.length>0&&a.createElement("div",{className:"w-full h-24 bg-white dark:bg-slate-800 p-2 rounded"},a.createElement(u,{attempts:e.slice(-60),width:600,height:48}))),a.createElement("div",{className:"mb-4"},a.createElement("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"},"Decision log (latest)"),a.createElement("div",{className:"overflow-auto max-h-40 border rounded p-2 bg-white dark:bg-slate-800 text-sm"},0===M.length?a.createElement("div",{className:"text-gray-500"},"No decisions yet."):a.createElement("ul",{className:"list-none space-y-1"},M.map(((e,t)=>a.createElement("li",{key:t,className:"flex justify-between"},a.createElement("span",{className:"text-gray-600 dark:text-gray-300"},e.msg),a.createElement("span",{className:"text-xs text-gray-400 ml-2"},e.time))))))),a.createElement("div",{className:"overflow-auto max-h-60 border rounded p-2 bg-gray-50 dark:bg-slate-700"},0===e.length?a.createElement("div",{className:"text-gray-500"},"No attempts yet."):a.createElement("table",{className:"min-w-full text-sm"},a.createElement("thead",null,a.createElement("tr",{className:"text-left"},a.createElement("th",{className:"px-2 py-1"},"#"),a.createElement("th",{className:"px-2 py-1"},"Status"),a.createElement("th",{className:"px-2 py-1"},"Delay at send (ms)"),a.createElement("th",{className:"px-2 py-1"},"Observed RTT (ms)"),a.createElement("th",{className:"px-2 py-1"},"Time"))),a.createElement("tbody",null,e.map((e=>{var t;const n="number"==typeof e.observedRTT&&e.observedRTT>(e.delayAtSend||0);return a.createElement("tr",{key:e.id,className:n?"bg-red-50 dark:bg-red-900/30":""},a.createElement("td",{className:"px-2 py-1 align-top"},e.attempt),a.createElement("td",{className:"px-2 py-1 align-top"},e.status),a.createElement("td",{className:"px-2 py-1 align-top"},null!==(t=e.delayAtSend)&&void 0!==t?t:"-"),a.createElement("td",{className:"px-2 py-1 align-top"},"number"==typeof e.observedRTT?e.observedRTT:"-"),a.createElement("td",{className:"px-2 py-1 align-top"},e.time))}))))))}function u(e){let{attempts:t,width:n=600,height:l=48}=e;const o=t.map((e=>"number"==typeof e.delayAtSend?e.delayAtSend:0)),i=t.map((e=>"number"==typeof e.observedRTT?e.observedRTT:0)),c=Math.max.apply(Math,(0,r.A)(o).concat((0,r.A)(i),[1])),s=Math.max(100,n),u=Math.max(24,l),m=s/Math.max(1,t.length-1),d=e=>e.map(((e,t)=>`${Math.round(t*m)},${Math.round(u-e/c*u)}`)).join(" "),f=d(o),h=d(i);return a.createElement("svg",{width:"100%",viewBox:`0 0 ${s} ${u}`,preserveAspectRatio:"none",className:"block"},a.createElement("polyline",{fill:"none",stroke:"#93c5fd",strokeWidth:"2",points:h}),a.createElement("polyline",{fill:"none",stroke:"#fb923c",strokeWidth:"2",points:f}))}function m(){const[e,t]=a.useState(8),[n,l]=a.useState(.05),[o,i]=a.useState(!1),c=a.useRef(0),s=a.useRef(null),u=256;a.useEffect((()=>{if("undefined"==typeof window||!window.matchMedia)return;const e=window.matchMedia("(prefers-color-scheme: dark)"),t=e=>i(e.matches);return t(e),e.addEventListener?e.addEventListener("change",t):e.addListener&&e.addListener(t),()=>{e.removeEventListener?e.removeEventListener("change",t):e.removeListener&&e.removeListener(t)}}),[]);const m=(e,t)=>{if(!e||0===e.length)return[];const n=Math.max(2,Math.pow(2,t));return e.map((e=>{const t=(e+1)/2;return Math.round(t*(n-1))/(n-1)*2-1}))},f=e=>{if(!e||0===e.length)return"";const t=600/(e.length-1);return e.map(((e,n)=>`${Math.round(n*t)},${Math.round(80*(1-(e+1)/2))}`)).join(" ")},[h,g]=a.useState(new Array(u).fill(0)),[p,v]=a.useState(new Array(u).fill(0)),[y,x]=a.useState(new Array(u).fill(0)),[b,E]=a.useState(null),[w,k]=a.useState(null),[N,M]=a.useState([]),[S,_]=a.useState([]);a.useEffect((()=>{let t=performance.now();const a=l=>{const o=l-t;t=l,c.current+=.002*o;const{clean:i,observed:d}=((e,t)=>{const n=new Array(u),r=new Array(u);for(let a=0;a<u;a++){const l=a/u*Math.PI*2*4+e,o=.9*Math.sin(l),i=(Math.random()-.5)*t;n[a]=Math.max(-1,Math.min(1,o)),r[a]=Math.max(-1,Math.min(1,o+i))}return{clean:n,observed:r}})(c.current,n),f=m(d,e),h=m(i,e);g(i),v(d),x(f);let p=0,y=0,b=0;for(let e=0;e<u;e++){p+=i[e]*i[e];const t=i[e]-f[e];y+=t*t;const n=i[e]-h[e];b+=n*n}p/=u,y/=u,b/=u;const w=0===y?1/0:10*Math.log10(p/y),N=0===b?1/0:10*Math.log10(p/b),S=Number.isFinite(w)?w:null,T=Number.isFinite(N)?N:null;E(S),k(T),M((e=>[S].concat((0,r.A)(e)).slice(0,100))),_((e=>[T].concat((0,r.A)(e)).slice(0,100))),s.current=requestAnimationFrame(a)};return s.current=requestAnimationFrame(a),()=>{s.current&&cancelAnimationFrame(s.current)}}),[e,n]);const T=f(h),C=f(y),R=e,$=(100*(1-R/16)).toFixed(0),A=o?"#60a5fa":"#fb923c",L=o?"#fb923c":"#60a5fa";return a.createElement("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-2xl p-6"},a.createElement("style",null,"\n        @keyframes pulse {\n          0% { opacity: 0.6; }\n          50% { opacity: 1; }\n          100% { opacity: 0.6; }\n        }\n        @keyframes fadein {\n          from { opacity: 0; transform: translateY(6px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        .bitdemo-fade { animation: fadein 400ms ease-out; }\n        .bitdemo-pulse { animation: pulse 1400ms ease-in-out infinite; }\n      "),a.createElement("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-2"},"Bit depth demo"),a.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3"},"Adjust bit depth and noise; the signal animates and SNR updates in real time."),a.createElement("div",{className:"mb-3"},a.createElement("label",{className:"text-sm text-gray-600 dark:text-gray-300"},"Bit depth: ",a.createElement("strong",null,e)),a.createElement("input",{type:"range",min:"1",max:"16",value:e,onChange:e=>t(Number(e.target.value)),className:"w-full mt-2",style:{accentColor:L}})),a.createElement("div",{className:"mb-3"},a.createElement("label",{className:"text-sm text-gray-600 dark:text-gray-300"},"Noise level: ",a.createElement("strong",null,(100*n).toFixed(0),"%")),a.createElement("input",{type:"range",min:"0",max:"0.2",step:"0.005",value:n,onChange:e=>l(Number(e.target.value)),className:"w-full mt-2",style:{accentColor:A}})),a.createElement("div",{className:"mb-3 bitdemo-fade"},a.createElement("div",{className:"w-full overflow-hidden rounded bg-gray-50 dark:bg-slate-700 p-2"},a.createElement("svg",{width:"100%",viewBox:"0 0 600 80",preserveAspectRatio:"none",className:"block mb-1"},a.createElement("polyline",{fill:"none",stroke:A,strokeWidth:"1.5",points:T}),a.createElement("polyline",{className:"bitdemo-pulse",fill:"none",stroke:L,strokeWidth:"1.5",points:C})),a.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400"},o?"Blue: original, Orange: quantized":"Orange: original, Blue: quantized"))),a.createElement("div",{className:"flex gap-6 items-center"},a.createElement("div",{className:"text-sm text-gray-700 dark:text-gray-200"},"Estimated bits/sample: ",a.createElement("strong",null,R," bits")),a.createElement("div",{className:"text-sm text-gray-700 dark:text-gray-200"},"Est. reduction vs 16-bit: ",a.createElement("strong",null,$,"%")),a.createElement("div",{className:"flex items-center gap-3"},a.createElement("div",{className:"text-sm text-gray-700 dark:text-gray-200"},"SNR:"),a.createElement("div",{className:"flex items-center gap-2"},a.createElement(d,{values:N,color:b>=30?"#16a34a":b>=20?"#f59e0b":"#ef4444"}),a.createElement("div",{className:"text-sm text-gray-700 dark:text-gray-200"},null==b?"—":`${b.toFixed(1)} dB`))),a.createElement("div",{className:"flex items-center gap-3"},a.createElement("div",{className:"text-sm text-gray-700 dark:text-gray-200"},"SQNR:"),a.createElement("div",{className:"flex items-center gap-2"},a.createElement(d,{values:S,color:w>=40?"#16a34a":w>=25?"#f59e0b":"#ef4444"}),a.createElement("div",{className:"text-sm text-gray-700 dark:text-gray-200"},null==w?"—":`${w.toFixed(1)} dB`)))))}function d(e){let{values:t=[],color:n="#60a5fa",width:l=80,height:o=24}=e;if(!t||0===t.length)return a.createElement("svg",{width:l,height:o,viewBox:`0 0 ${l} ${o}`,className:"block"},a.createElement("rect",{width:l,height:o,fill:"transparent"}));const i=t.slice(0,40).reverse(),c=Math.max.apply(Math,(0,r.A)(i.filter(Boolean)).concat([1])),s=Math.min.apply(Math,(0,r.A)(i.filter(Boolean)).concat([-1])),u=Math.max(1e-6,c-s),m=l/Math.max(1,i.length-1),d=i.map(((e,t)=>`${Math.round(t*m)},${Math.round(o-(e-s)/u*o)}`)).join(" ");return a.createElement("svg",{width:l,height:o,viewBox:`0 0 ${l} ${o}`,className:"block"},a.createElement("polyline",{fill:"none",stroke:n,strokeWidth:"1.6",points:d}))}function f(e){let{values:t=[],width:n=200,height:l=40,color:o="#F97316"}=e;if(!t||0===t.length)return null;const i=Math.max.apply(Math,(0,r.A)(t).concat([1])),c=Math.min.apply(Math,(0,r.A)(t).concat([0])),s=t.length,u=n/Math.max(1,s-1),m=`M ${t.map(((e,t)=>`${t*u},${l-(e-c)/(i-c||1)*l}`)).join(" L ")}`;return a.createElement("svg",{width:n,height:l,viewBox:`0 0 ${n} ${l}`,xmlns:"http://www.w3.org/2000/svg"},a.createElement("path",{d:m,fill:"none",stroke:o,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))}function h(e){let{initialConcurrency:t=4,initialProduceInterval:n=500,initialProcessTime:l=800,initialBufferSize:o=10,initialMode:i="bounded",title:c="",__exposeHandlersRef:s=null,globalStartId:u=0,globalStopId:m=0,externalProduceController:d=null}=e;const[h,g]=a.useState(!1),[p,v]=a.useState(n),[y,x]=a.useState(l),[b,E]=a.useState(t),[w,k]=a.useState(o),[N,M]=a.useState(i),S=a.useRef(0),_=a.useRef(null),T=a.useRef([]),C=a.useRef(0),R=a.useRef(!1),$=a.useRef({cancel:!1}),A=a.useRef(p),L=a.useRef(y),[j,P]=a.useState([]),[I,z]=a.useState(0),[F,B]=a.useState(0),[O,D]=a.useState(0),q=a.useRef([]),U=a.useRef([]),[W,H]=a.useState([]),[G,K]=a.useState([]);a.useEffect((()=>()=>{_.current&&clearInterval(_.current),$.current.cancel=!0}),[]);const Y=e=>{U.current.push(e),U.current.length>60&&U.current.shift(),H((0,r.A)(U.current))},J=()=>{h||(g(!0),R.current=!0,C.current=0,T.current=[],P([]),z(0),B(0),q.current=[],U.current=[],H([]),"blocking"===N?($.current.cancel=!1,X()):(d||(_.current=setInterval((()=>{Q()}),p)),ee()))},Z=()=>{g(!1),R.current=!1,_.current&&(clearInterval(_.current),_.current=null),$.current.cancel=!0},Q=()=>{const e=++C.current,t=Date.now();if("bounded"===N&&T.current.length>=w)return B((e=>e+1)),void Y(T.current.length);const n={id:e,producedAt:t};T.current=[].concat((0,r.A)(T.current),[n]),P((0,r.A)(T.current)),Y(T.current.length),ee()},V=a.useCallback((()=>{R.current&&Q()}),[]),X=async()=>{for(;R.current&&!$.current.cancel&&"blocking"===N;){const e=++C.current,t=Date.now(),n={id:e,producedAt:t};T.current=[].concat((0,r.A)(T.current),[n]),P((0,r.A)(T.current)),Y(T.current.length),await new Promise((t=>{setTimeout((()=>{const a=Date.now()-n.producedAt;q.current.push(a),q.current.length>100&&q.current.shift();const l=q.current.reduce(((e,t)=>e+t),0)/q.current.length;D(Math.round(l)),z((e=>e+1)),K((e=>{const t=[].concat((0,r.A)(e),[n.id]);return t.length>8&&t.shift(),t})),setTimeout((()=>{K((e=>e.filter((e=>e!==n.id))))}),800),T.current=T.current.filter((t=>t.id!==e)),P((0,r.A)(T.current)),Y(T.current.length),t()}),L.current)})),await new Promise((e=>setTimeout(e,A.current)))}},ee=()=>{for(;S.current<b&&T.current.length>0;){const e=T.current.shift();P((0,r.A)(T.current)),Y(T.current.length),S.current+=1,te(e)}},te=e=>{setTimeout((()=>{const t=Date.now()-e.producedAt;q.current.push(t),q.current.length>100&&q.current.shift();const n=q.current.reduce(((e,t)=>e+t),0)/q.current.length;D(Math.round(n)),z((e=>e+1)),K((t=>{const n=[].concat((0,r.A)(t),[e.id]);return n.length>8&&n.shift(),n})),setTimeout((()=>{K((t=>t.filter((t=>t!==e.id))))}),800),S.current-=1,h&&ee()}),y)};return a.useEffect((()=>{h&&(_.current&&(clearInterval(_.current),_.current=setInterval((()=>Q()),p)),A.current=p)}),[p]),a.useEffect((()=>{if(d)return d.subscribe&&d.subscribe(V),()=>{d.unsubscribe&&d.unsubscribe(V)}}),[d,V]),a.useEffect((()=>{ee()}),[b]),a.useEffect((()=>{L.current=y}),[y]),a.useEffect((()=>{R.current&&("blocking"===N?(_.current&&(clearInterval(_.current),_.current=null),$.current.cancel=!1,X()):($.current.cancel=!0,_.current||(_.current=setInterval((()=>Q()),A.current)),ee()))}),[N]),a.useEffect((()=>(s&&"object"==typeof s&&(s.current={start:J,stop:Z}),()=>{s&&s.current&&(s.current=null)})),[s]),a.useEffect((()=>{u&&!1===h&&J()}),[u]),a.useEffect((()=>{m&&!0===h&&Z()}),[m]),a.createElement("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-2xl p-6"},a.createElement("style",null,"\n        @keyframes slideUpFade {\n          from { transform: translateY(8px); opacity: 1 }\n          to { transform: translateY(-8px); opacity: 0 }\n        }\n      "),a.createElement("h3",{className:"text-lg font-semibold text-gray-800 dark:text-white mb-3"},c||"Producer / Consumer demo"),a.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4"},"This demo simulates a producer adding messages to a queue and consumers processing them. Toggle between a bounded queue (drops when full) and a hard-buffer (never drops) to compare behaviour. A sparkline shows recent queue length."),a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},a.createElement("div",null,a.createElement("label",{className:"text-sm text-gray-600 dark:text-gray-300"},"Produce interval: ",a.createElement("strong",null,p," ms")),a.createElement("input",{type:"range",min:"50",max:"2000",value:p,onChange:e=>v(Number(e.target.value)),className:"w-full mt-2"})),a.createElement("div",null,a.createElement("label",{className:"text-sm text-gray-600 dark:text-gray-300"},"Processing time: ",a.createElement("strong",null,y," ms")),a.createElement("input",{type:"range",min:"50",max:"3000",value:y,onChange:e=>x(Number(e.target.value)),className:"w-full mt-2"})),a.createElement("div",null,a.createElement("label",{className:"text-sm text-gray-600 dark:text-gray-300"},"Concurrency: ",a.createElement("strong",null,b)),a.createElement("input",{type:"range",min:"1",max:"8",value:b,onChange:e=>E(Number(e.target.value)),className:"w-full mt-2"})),a.createElement("div",null,a.createElement("label",{className:"text-sm text-gray-600 dark:text-gray-300"},"Buffer size: ",a.createElement("strong",null,w)),a.createElement("input",{type:"range",min:"1",max:"200",value:w,onChange:e=>k(Number(e.target.value)),className:"w-full mt-2"}))),a.createElement("div",{className:"flex gap-3 items-center mb-4"},a.createElement("div",{className:"flex gap-2"},a.createElement("button",{onClick:J,disabled:h,className:"text-white bg-orange-600 hover:bg-orange-700 disabled:opacity-50 font-medium rounded-full px-4 py-2"},"Start"),a.createElement("button",{onClick:Z,disabled:!h,className:"text-orange-700 bg-orange-100 hover:bg-orange-200 disabled:opacity-50 font-medium rounded-full px-4 py-2"},"Stop")),a.createElement("div",{className:"ml-4 flex items-center gap-2"},a.createElement("label",{className:"text-sm text-gray-600 dark:text-gray-300"},"Mode:"),a.createElement("select",{value:N,onChange:e=>M(e.target.value),className:"text-sm p-1 rounded"},a.createElement("option",{value:"bounded"},"Bounded (drops when full)"),a.createElement("option",{value:"hard-buffer"},"Hard buffer (never drops)")))),a.createElement("div",{className:"mb-4"},a.createElement("div",{className:"flex justify-between items-center mb-2"},a.createElement("div",{className:"text-sm text-gray-700 dark:text-gray-200"},"Queue (size ",j.length,")"),a.createElement("div",{className:"text-xs text-gray-500 dark:text-gray-400"},"Recent queue length")),a.createElement("div",{className:"flex items-center gap-4"},a.createElement("div",{className:"flex-1"},a.createElement("div",{className:"flex flex-wrap gap-1 min-h-10 transition-all",style:{position:"relative"}},j.map(((e,t)=>{const n={transform:`translateX(${18*t}px) scale(${t===j.length-1?1.03:1})`,transition:"transform 380ms cubic-bezier(.22,.9,.27,1), opacity 300ms ease",display:"inline-block",opacity:1};return a.createElement("div",{key:e.id,style:n,className:"px-2 py-1 text-xs bg-gray-100 dark:bg-slate-700 rounded"},"#",e.id)})))),a.createElement("div",{className:"w-40 h-10"},a.createElement(f,{values:W,width:160,height:40,color:"#f59e0b"})))),a.createElement("div",{className:"mb-4"},a.createElement("div",{className:"text-sm text-gray-700 dark:text-gray-200 mb-2"},"Recently processed (animated):"),a.createElement("div",{className:"flex gap-2 flex-wrap"},G.map((e=>a.createElement("div",{key:e,"aria-hidden":!0,style:{animation:"slideUpFade 0.8s ease forwards"},className:"px-2 py-1 text-xs bg-green-100 dark:bg-green-800 rounded"},"✓ #",e))))),a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-sm text-gray-700 dark:text-gray-200"},a.createElement("div",null,"Processed: ",a.createElement("strong",null,I)),a.createElement("div",null,"Dropped: ",a.createElement("strong",null,F)),a.createElement("div",null,"Workers: ",a.createElement("strong",null,S.current)),a.createElement("div",null,"Avg latency: ",a.createElement("strong",null,O," ms"))))}var g=a.forwardRef(((e,t)=>{const n=a.useRef(null);return a.useImperativeHandle(t,(()=>({start:()=>n.current&&n.current.start&&n.current.start(),stop:()=>n.current&&n.current.stop&&n.current.stop()}))),a.createElement(h,Object.assign({},e,{__exposeHandlersRef:n}))})),p=1e-6,v=Math.PI,y=v/2,x=v/4,b=2*v,E=180/v,w=v/180,k=Math.abs,N=Math.atan,M=Math.atan2,S=Math.cos,_=(Math.ceil,Math.exp),T=(Math.floor,Math.hypot,Math.log),C=(Math.pow,Math.sin),R=Math.sign||function(e){return e>0?1:e<0?-1:0},$=Math.sqrt,A=Math.tan;function L(e){return e>1?y:e<-1?-y:Math.asin(e)}function j(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function P(e,t){return k(e)>v&&(e-=Math.round(e/b)*b),[e,t]}function I(e,t,n){return(e%=b)?t||n?j(F(e),B(t,n)):F(e):t||n?B(t,n):P}function z(e){return function(t,n){return k(t+=e)>v&&(t-=Math.round(t/b)*b),[t,n]}}function F(e){var t=z(e);return t.invert=z(-e),t}function B(e,t){var n=S(e),r=C(e),a=S(t),l=C(t);function o(e,t){var o=S(t),i=S(e)*o,c=C(e)*o,s=C(t),u=s*n+i*r;return[M(c*a-u*l,i*n-s*r),L(u*a+c*l)]}return o.invert=function(e,t){var o=S(t),i=S(e)*o,c=C(e)*o,s=C(t),u=s*a-c*l;return[M(c*a+s*l,i*n+u*r),L(u*n-i*r)]},o}function O(){}function D(){var e,t=[];return{point:function(t,n,r){e.push([t,n,r])},lineStart:function(){t.push(e=[])},lineEnd:O,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function q(e,t){return k(e[0]-t[0])<p&&k(e[1]-t[1])<p}function U(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function W(e,t,n,r,a){var l,o,i=[],c=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n,r=e[0],o=e[t];if(q(r,o)){if(!r[2]&&!o[2]){for(a.lineStart(),l=0;l<t;++l)a.point((r=e[l])[0],r[1]);return void a.lineEnd()}o[0]+=2e-6}i.push(n=new U(r,e,null,!0)),c.push(n.o=new U(r,null,n,!1)),i.push(n=new U(o,e,null,!1)),c.push(n.o=new U(o,null,n,!0))}})),i.length){for(c.sort(t),H(i),H(c),l=0,o=c.length;l<o;++l)c[l].e=n=!n;for(var s,u,m=i[0];;){for(var d=m,f=!0;d.v;)if((d=d.n)===m)return;s=d.z,a.lineStart();do{if(d.v=d.o.v=!0,d.e){if(f)for(l=0,o=s.length;l<o;++l)a.point((u=s[l])[0],u[1]);else r(d.x,d.n.x,1,a);d=d.n}else{if(f)for(s=d.p.z,l=s.length-1;l>=0;--l)a.point((u=s[l])[0],u[1]);else r(d.x,d.p.x,-1,a);d=d.p}s=(d=d.o).z,f=!f}while(!d.v);a.lineEnd()}}}function H(e){if(t=e.length){for(var t,n,r=0,a=e[0];++r<t;)a.n=n=e[r],n.p=a,a=n;a.n=n=e[0],n.p=a}}P.invert=P;class G{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let n=0;for(let r=0;r<this._n&&r<32;r++){const a=t[r],l=e+a,o=Math.abs(e)<Math.abs(a)?e-(l-a):a-(l-e);o&&(t[n++]=o),e=l}return t[n]=e,this._n=n+1,this}valueOf(){const e=this._partials;let t,n,r,a=this._n,l=0;if(a>0){for(l=e[--a];a>0&&(t=l,n=e[--a],l=t+n,r=n-(l-t),!r););a>0&&(r<0&&e[a-1]<0||r>0&&e[a-1]>0)&&(n=2*r,t=l+n,n==t-l&&(l=t))}return l}}function K(e){return[M(e[1],e[0]),L(e[2])]}function Y(e){var t=e[0],n=e[1],r=S(n);return[r*S(t),r*C(t),C(n)]}function J(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Z(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Q(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function V(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function X(e){var t=$(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function ee(e){return k(e[0])<=v?e[0]:R(e[0])*((k(e[0])+v)%b-v)}function te(e){return Array.from(function*(e){for(const t of e)yield*t}(e))}function ne(e,t,n,r){return function(a){var l,o,i,c=t(a),s=D(),u=t(s),m=!1,d={point:f,lineStart:g,lineEnd:E,polygonStart:function(){d.point=w,d.lineStart=k,d.lineEnd=N,o=[],l=[]},polygonEnd:function(){d.point=f,d.lineStart=g,d.lineEnd=E,o=te(o);var e=function(e,t){var n=ee(t),r=t[1],a=C(r),l=[C(n),-S(n),0],o=0,i=0,c=new G;1===a?r=y+p:-1===a&&(r=-y-p);for(var s=0,u=e.length;s<u;++s)if(d=(m=e[s]).length)for(var m,d,f=m[d-1],h=ee(f),g=f[1]/2+x,E=C(g),w=S(g),k=0;k<d;++k,h=_,E=R,w=$,f=N){var N=m[k],_=ee(N),T=N[1]/2+x,R=C(T),$=S(T),A=_-h,j=A>=0?1:-1,P=j*A,I=P>v,z=E*R;if(c.add(M(z*j*C(P),w*$+z*S(P))),o+=I?A+j*b:A,I^h>=n^_>=n){var F=Z(Y(f),Y(N));X(F);var B=Z(l,F);X(B);var O=(I^A>=0?-1:1)*L(B[2]);(r>O||r===O&&(F[0]||F[1]))&&(i+=I^A>=0?1:-1)}}return(o<-p||o<p&&c<-1e-12)^1&i}(l,r);o.length?(m||(a.polygonStart(),m=!0),W(o,ae,e,n,a)):e&&(m||(a.polygonStart(),m=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),m&&(a.polygonEnd(),m=!1),o=l=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function f(t,n){e(t,n)&&a.point(t,n)}function h(e,t){c.point(e,t)}function g(){d.point=h,c.lineStart()}function E(){d.point=f,c.lineEnd()}function w(e,t){i.push([e,t]),u.point(e,t)}function k(){u.lineStart(),i=[]}function N(){w(i[0][0],i[0][1]),u.lineEnd();var e,t,n,r,c=u.clean(),d=s.result(),f=d.length;if(i.pop(),l.push(i),i=null,f)if(1&c){if((t=(n=d[0]).length-1)>0){for(m||(a.polygonStart(),m=!0),a.lineStart(),e=0;e<t;++e)a.point((r=n[e])[0],r[1]);a.lineEnd()}}else f>1&&2&c&&d.push(d.pop().concat(d.shift())),o.push(d.filter(re))}return d}}function re(e){return e.length>1}function ae(e,t){return((e=e.x)[0]<0?e[1]-y-p:y-e[1])-((t=t.x)[0]<0?t[1]-y-p:y-t[1])}var le=ne((function(){return!0}),(function(e){var t,n=NaN,r=NaN,a=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(l,o){var i=l>0?v:-v,c=k(l-n);k(c-v)<p?(e.point(n,r=(r+o)/2>0?y:-y),e.point(a,r),e.lineEnd(),e.lineStart(),e.point(i,r),e.point(l,r),t=0):a!==i&&c>=v&&(k(n-a)<p&&(n-=a*p),k(l-i)<p&&(l-=i*p),r=function(e,t,n,r){var a,l,o=C(e-n);return k(o)>p?N((C(t)*(l=S(r))*C(n)-C(r)*(a=S(t))*C(e))/(a*l*o)):(t+r)/2}(n,r,l,o),e.point(a,r),e.lineEnd(),e.lineStart(),e.point(i,r),t=0),e.point(n=l,r=o),a=i},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var a;if(null==e)a=n*y,r.point(-v,a),r.point(0,a),r.point(v,a),r.point(v,0),r.point(v,-a),r.point(0,-a),r.point(-v,-a),r.point(-v,0),r.point(-v,a);else if(k(e[0]-t[0])>p){var l=e[0]<t[0]?v:-v;a=n*l/2,r.point(-l,a),r.point(0,a),r.point(l,a)}else r.point(t[0],t[1])}),[-v,-y]);function oe(e,t,n,r,a,l){if(n){var o=S(t),i=C(t),c=r*n;null==a?(a=t+r*b,l=t-c/2):(a=ie(o,a),l=ie(o,l),(r>0?a<l:a>l)&&(a+=r*b));for(var s,u=a;r>0?u>l:u<l;u-=c)s=K([o,-i*S(u),-i*C(u)]),e.point(s[0],s[1])}}function ie(e,t){(t=Y(t))[0]-=e,X(t);var n,r=(n=-t[1])>1?0:n<-1?v:Math.acos(n);return((-t[2]<0?-r:r)+b-p)%b}var ce=1e9,se=-ce;function ue(e,t,n,r){function a(a,l){return e<=a&&a<=n&&t<=l&&l<=r}function l(a,l,i,s){var u=0,m=0;if(null==a||(u=o(a,i))!==(m=o(l,i))||c(a,l)<0^i>0)do{s.point(0===u||3===u?e:n,u>1?r:t)}while((u=(u+i+4)%4)!==m);else s.point(l[0],l[1])}function o(r,a){return k(r[0]-e)<p?a>0?0:3:k(r[0]-n)<p?a>0?2:1:k(r[1]-t)<p?a>0?1:0:a>0?3:2}function i(e,t){return c(e.x,t.x)}function c(e,t){var n=o(e,1),r=o(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}return function(o){var c,s,u,m,d,f,h,g,p,v,y,x=o,b=D(),E={point:w,lineStart:function(){E.point=k,s&&s.push(u=[]);v=!0,p=!1,h=g=NaN},lineEnd:function(){c&&(k(m,d),f&&p&&b.rejoin(),c.push(b.result()));E.point=w,p&&x.lineEnd()},polygonStart:function(){x=b,c=[],s=[],y=!0},polygonEnd:function(){var t=function(){for(var t=0,n=0,a=s.length;n<a;++n)for(var l,o,i=s[n],c=1,u=i.length,m=i[0],d=m[0],f=m[1];c<u;++c)l=d,o=f,d=(m=i[c])[0],f=m[1],o<=r?f>r&&(d-l)*(r-o)>(f-o)*(e-l)&&++t:f<=r&&(d-l)*(r-o)<(f-o)*(e-l)&&--t;return t}(),n=y&&t,a=(c=te(c)).length;(n||a)&&(o.polygonStart(),n&&(o.lineStart(),l(null,null,1,o),o.lineEnd()),a&&W(c,i,t,l,o),o.polygonEnd());x=o,c=s=u=null}};function w(e,t){a(e,t)&&x.point(e,t)}function k(l,o){var i=a(l,o);if(s&&u.push([l,o]),v)m=l,d=o,f=i,v=!1,i&&(x.lineStart(),x.point(l,o));else if(i&&p)x.point(l,o);else{var c=[h=Math.max(se,Math.min(ce,h)),g=Math.max(se,Math.min(ce,g))],b=[l=Math.max(se,Math.min(ce,l)),o=Math.max(se,Math.min(ce,o))];!function(e,t,n,r,a,l){var o,i=e[0],c=e[1],s=0,u=1,m=t[0]-i,d=t[1]-c;if(o=n-i,m||!(o>0)){if(o/=m,m<0){if(o<s)return;o<u&&(u=o)}else if(m>0){if(o>u)return;o>s&&(s=o)}if(o=a-i,m||!(o<0)){if(o/=m,m<0){if(o>u)return;o>s&&(s=o)}else if(m>0){if(o<s)return;o<u&&(u=o)}if(o=r-c,d||!(o>0)){if(o/=d,d<0){if(o<s)return;o<u&&(u=o)}else if(d>0){if(o>u)return;o>s&&(s=o)}if(o=l-c,d||!(o<0)){if(o/=d,d<0){if(o>u)return;o>s&&(s=o)}else if(d>0){if(o<s)return;o<u&&(u=o)}return s>0&&(e[0]=i+s*m,e[1]=c+s*d),u<1&&(t[0]=i+u*m,t[1]=c+u*d),!0}}}}}(c,b,e,t,n,r)?i&&(x.lineStart(),x.point(l,o),y=!1):(p||(x.lineStart(),x.point(c[0],c[1])),x.point(b[0],b[1]),i||x.lineEnd(),y=!1)}h=l,g=o,p=i}return E}}var me=e=>e;function de(e){return function(t){var n=new fe;for(var r in e)n[r]=e[r];return n.stream=t,n}}function fe(){}function he(e,t){e&&pe.hasOwnProperty(e.type)&&pe[e.type](e,t)}fe.prototype={constructor:fe,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var ge={Feature:function(e,t){he(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,a=n.length;++r<a;)he(n[r].geometry,t)}},pe={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){ve(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)ve(n[r],t,0)},Polygon:function(e,t){ye(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,a=n.length;++r<a;)ye(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,a=n.length;++r<a;)he(n[r],t)}};function ve(e,t,n){var r,a=-1,l=e.length-n;for(t.lineStart();++a<l;)r=e[a],t.point(r[0],r[1],r[2]);t.lineEnd()}function ye(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)ve(e[n],t,1);t.polygonEnd()}function xe(e,t){e&&ge.hasOwnProperty(e.type)?ge[e.type](e,t):he(e,t)}var be=1/0,Ee=be,we=-be,ke=we,Ne={point:function(e,t){e<be&&(be=e);e>we&&(we=e);t<Ee&&(Ee=t);t>ke&&(ke=t)},lineStart:O,lineEnd:O,polygonStart:O,polygonEnd:O,result:function(){var e=[[be,Ee],[we,ke]];return we=ke=-(Ee=be=1/0),e}};var Me=Ne;function Se(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),null!=r&&e.clipExtent(null),xe(n,e.stream(Me)),t(Me.result()),null!=r&&e.clipExtent(r),e}function _e(e,t,n){return Se(e,(function(n){var r=t[1][0]-t[0][0],a=t[1][1]-t[0][1],l=Math.min(r/(n[1][0]-n[0][0]),a/(n[1][1]-n[0][1])),o=+t[0][0]+(r-l*(n[1][0]+n[0][0]))/2,i=+t[0][1]+(a-l*(n[1][1]+n[0][1]))/2;e.scale(150*l).translate([o,i])}),n)}var Te=S(30*w);function Ce(e,t){return+t?function(e,t){function n(r,a,l,o,i,c,s,u,m,d,f,h,g,v){var y=s-r,x=u-a,b=y*y+x*x;if(b>4*t&&g--){var E=o+d,w=i+f,N=c+h,S=$(E*E+w*w+N*N),_=L(N/=S),T=k(k(N)-1)<p||k(l-m)<p?(l+m)/2:M(w,E),C=e(T,_),R=C[0],A=C[1],j=R-r,P=A-a,I=x*j-y*P;(I*I/b>t||k((y*j+x*P)/b-.5)>.3||o*d+i*f+c*h<Te)&&(n(r,a,l,o,i,c,R,A,T,E/=S,w/=S,N,g,v),v.point(R,A),n(R,A,T,E,w,N,s,u,m,d,f,h,g,v))}}return function(t){var r,a,l,o,i,c,s,u,m,d,f,h,g={point:p,lineStart:v,lineEnd:x,polygonStart:function(){t.polygonStart(),g.lineStart=b},polygonEnd:function(){t.polygonEnd(),g.lineStart=v}};function p(n,r){n=e(n,r),t.point(n[0],n[1])}function v(){u=NaN,g.point=y,t.lineStart()}function y(r,a){var l=Y([r,a]),o=e(r,a);n(u,m,s,d,f,h,u=o[0],m=o[1],s=r,d=l[0],f=l[1],h=l[2],16,t),t.point(u,m)}function x(){g.point=p,t.lineEnd()}function b(){v(),g.point=E,g.lineEnd=w}function E(e,t){y(r=e,t),a=u,l=m,o=d,i=f,c=h,g.point=y}function w(){n(u,m,s,d,f,h,a,l,r,o,i,c,16,t),g.lineEnd=x,x()}return g}}(e,t):function(e){return de({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}(e)}var Re=de({point:function(e,t){this.stream.point(e*w,t*w)}});function $e(e,t,n,r,a,l){if(!l)return function(e,t,n,r,a){function l(l,o){return[t+e*(l*=r),n-e*(o*=a)]}return l.invert=function(l,o){return[(l-t)/e*r,(n-o)/e*a]},l}(e,t,n,r,a);var o=S(l),i=C(l),c=o*e,s=i*e,u=o/e,m=i/e,d=(i*n-o*t)/e,f=(i*t+o*n)/e;function h(e,l){return[c*(e*=r)-s*(l*=a)+t,n-s*e-c*l]}return h.invert=function(e,t){return[r*(u*e-m*t+d),a*(f-m*e-u*t)]},h}function Ae(e){return function(e){var t,n,r,a,l,o,i,c,s,u,m=150,d=480,f=250,h=0,g=0,y=0,x=0,b=0,N=0,M=1,_=1,T=null,C=le,R=null,A=me,L=.5;function P(e){return c(e[0]*w,e[1]*w)}function z(e){return(e=c.invert(e[0],e[1]))&&[e[0]*E,e[1]*E]}function F(){var e=$e(m,0,0,M,_,N).apply(null,t(h,g)),r=$e(m,d-e[0],f-e[1],M,_,N);return n=I(y,x,b),i=j(t,r),c=j(n,i),o=Ce(i,L),B()}function B(){return s=u=null,P}return P.stream=function(e){return s&&u===e?s:s=Re(function(e){return de({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}(n)(C(o(A(u=e)))))},P.preclip=function(e){return arguments.length?(C=e,T=void 0,B()):C},P.postclip=function(e){return arguments.length?(A=e,R=r=a=l=null,B()):A},P.clipAngle=function(e){return arguments.length?(C=+e?function(e){var t=S(e),n=2*w,r=t>0,a=k(t)>p;function l(e,n){return S(e)*S(n)>t}function o(e,n,r){var a=[1,0,0],l=Z(Y(e),Y(n)),o=J(l,l),i=l[0],c=o-i*i;if(!c)return!r&&e;var s=t*o/c,u=-t*i/c,m=Z(a,l),d=V(a,s);Q(d,V(l,u));var f=m,h=J(d,f),g=J(f,f),y=h*h-g*(J(d,d)-1);if(!(y<0)){var x=$(y),b=V(f,(-h-x)/g);if(Q(b,d),b=K(b),!r)return b;var E,w=e[0],N=n[0],M=e[1],S=n[1];N<w&&(E=w,w=N,N=E);var _=N-w,T=k(_-v)<p;if(!T&&S<M&&(E=M,M=S,S=E),T||_<p?T?M+S>0^b[1]<(k(b[0]-w)<p?M:S):M<=b[1]&&b[1]<=S:_>v^(w<=b[0]&&b[0]<=N)){var C=V(f,(-h+x)/g);return Q(C,d),[b,K(C)]}}}function i(t,n){var a=r?e:v-e,l=0;return t<-a?l|=1:t>a&&(l|=2),n<-a?l|=4:n>a&&(l|=8),l}return ne(l,(function(e){var t,n,c,s,u;return{lineStart:function(){s=c=!1,u=1},point:function(m,d){var f,h=[m,d],g=l(m,d),p=r?g?0:i(m,d):g?i(m+(m<0?v:-v),d):0;if(!t&&(s=c=g)&&e.lineStart(),g!==c&&(!(f=o(t,h))||q(t,f)||q(h,f))&&(h[2]=1),g!==c)u=0,g?(e.lineStart(),f=o(h,t),e.point(f[0],f[1])):(f=o(t,h),e.point(f[0],f[1],2),e.lineEnd()),t=f;else if(a&&t&&r^g){var y;p&n||!(y=o(h,t,!0))||(u=0,r?(e.lineStart(),e.point(y[0][0],y[0][1]),e.point(y[1][0],y[1][1]),e.lineEnd()):(e.point(y[1][0],y[1][1]),e.lineEnd(),e.lineStart(),e.point(y[0][0],y[0][1],3)))}!g||t&&q(t,h)||e.point(h[0],h[1]),t=h,c=g,n=p},lineEnd:function(){c&&e.lineEnd(),t=null},clean:function(){return u|(s&&c)<<1}}}),(function(t,r,a,l){oe(l,e,n,a,t,r)}),r?[0,-e]:[-v,e-v])}(T=e*w):(T=null,le),B()):T*E},P.clipExtent=function(e){return arguments.length?(A=null==e?(R=r=a=l=null,me):ue(R=+e[0][0],r=+e[0][1],a=+e[1][0],l=+e[1][1]),B()):null==R?null:[[R,r],[a,l]]},P.scale=function(e){return arguments.length?(m=+e,F()):m},P.translate=function(e){return arguments.length?(d=+e[0],f=+e[1],F()):[d,f]},P.center=function(e){return arguments.length?(h=e[0]%360*w,g=e[1]%360*w,F()):[h*E,g*E]},P.rotate=function(e){return arguments.length?(y=e[0]%360*w,x=e[1]%360*w,b=e.length>2?e[2]%360*w:0,F()):[y*E,x*E,b*E]},P.angle=function(e){return arguments.length?(N=e%360*w,F()):N*E},P.reflectX=function(e){return arguments.length?(M=e?-1:1,F()):M<0},P.reflectY=function(e){return arguments.length?(_=e?-1:1,F()):_<0},P.precision=function(e){return arguments.length?(o=Ce(i,L=e*e),B()):$(L)},P.fitExtent=function(e,t){return _e(P,e,t)},P.fitSize=function(e,t){return function(e,t,n){return _e(e,[[0,0],t],n)}(P,e,t)},P.fitWidth=function(e,t){return function(e,t,n){return Se(e,(function(n){var r=+t,a=r/(n[1][0]-n[0][0]),l=(r-a*(n[1][0]+n[0][0]))/2,o=-a*n[0][1];e.scale(150*a).translate([l,o])}),n)}(P,e,t)},P.fitHeight=function(e,t){return function(e,t,n){return Se(e,(function(n){var r=+t,a=r/(n[1][1]-n[0][1]),l=-a*n[0][0],o=(r-a*(n[1][1]+n[0][1]))/2;e.scale(150*a).translate([l,o])}),n)}(P,e,t)},function(){return t=e.apply(this,arguments),P.invert=t.invert&&z,F()}}((function(){return e}))()}function Le(e,t){return[e,T(A((y+t)/2))]}function je(){return function(e){var t,n,r,a=Ae(e),l=a.center,o=a.scale,i=a.translate,c=a.clipExtent,s=null;function u(){var l=v*o(),i=a(function(e){function t(t){return(t=e(t[0]*w,t[1]*w))[0]*=E,t[1]*=E,t}return e=I(e[0]*w,e[1]*w,e.length>2?e[2]*w:0),t.invert=function(t){return(t=e.invert(t[0]*w,t[1]*w))[0]*=E,t[1]*=E,t},t}(a.rotate()).invert([0,0]));return c(null==s?[[i[0]-l,i[1]-l],[i[0]+l,i[1]+l]]:e===Le?[[Math.max(i[0]-l,s),t],[Math.min(i[0]+l,n),r]]:[[s,Math.max(i[1]-l,t)],[n,Math.min(i[1]+l,r)]])}return a.scale=function(e){return arguments.length?(o(e),u()):o()},a.translate=function(e){return arguments.length?(i(e),u()):i()},a.center=function(e){return arguments.length?(l(e),u()):l()},a.clipExtent=function(e){return arguments.length?(null==e?s=t=n=r=null:(s=+e[0][0],t=+e[0][1],n=+e[1][0],r=+e[1][1]),u()):null==s?null:[[s,t],[n,r]]},u()}(Le).scale(961/b)}Le.invert=function(e,t){return[e,2*N(_(t))-y]};var Pe,Ie,ze,Fe,Be=new G,Oe=new G,De={point:O,lineStart:O,lineEnd:O,polygonStart:function(){De.lineStart=qe,De.lineEnd=He},polygonEnd:function(){De.lineStart=De.lineEnd=De.point=O,Be.add(k(Oe)),Oe=new G},result:function(){var e=Be/2;return Be=new G,e}};function qe(){De.point=Ue}function Ue(e,t){De.point=We,Pe=ze=e,Ie=Fe=t}function We(e,t){Oe.add(Fe*e-ze*t),ze=e,Fe=t}function He(){We(Pe,Ie)}var Ge,Ke,Ye,Je,Ze=De,Qe=0,Ve=0,Xe=0,et=0,tt=0,nt=0,rt=0,at=0,lt=0,ot={point:it,lineStart:ct,lineEnd:mt,polygonStart:function(){ot.lineStart=dt,ot.lineEnd=ft},polygonEnd:function(){ot.point=it,ot.lineStart=ct,ot.lineEnd=mt},result:function(){var e=lt?[rt/lt,at/lt]:nt?[et/nt,tt/nt]:Xe?[Qe/Xe,Ve/Xe]:[NaN,NaN];return Qe=Ve=Xe=et=tt=nt=rt=at=lt=0,e}};function it(e,t){Qe+=e,Ve+=t,++Xe}function ct(){ot.point=st}function st(e,t){ot.point=ut,it(Ye=e,Je=t)}function ut(e,t){var n=e-Ye,r=t-Je,a=$(n*n+r*r);et+=a*(Ye+e)/2,tt+=a*(Je+t)/2,nt+=a,it(Ye=e,Je=t)}function mt(){ot.point=it}function dt(){ot.point=ht}function ft(){gt(Ge,Ke)}function ht(e,t){ot.point=gt,it(Ge=Ye=e,Ke=Je=t)}function gt(e,t){var n=e-Ye,r=t-Je,a=$(n*n+r*r);et+=a*(Ye+e)/2,tt+=a*(Je+t)/2,nt+=a,rt+=(a=Je*e-Ye*t)*(Ye+e),at+=a*(Je+t),lt+=3*a,it(Ye=e,Je=t)}var pt=ot;function vt(e){this._context=e}vt.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:this._context.moveTo(e,t),this._point=1;break;case 1:this._context.lineTo(e,t);break;default:this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,b)}},result:O};var yt,xt,bt,Et,wt,kt=new G,Nt={point:O,lineStart:function(){Nt.point=Mt},lineEnd:function(){yt&&St(xt,bt),Nt.point=O},polygonStart:function(){yt=!0},polygonEnd:function(){yt=null},result:function(){var e=+kt;return kt=new G,e}};function Mt(e,t){Nt.point=St,xt=Et=e,bt=wt=t}function St(e,t){Et-=e,wt-=t,kt.add($(Et*Et+wt*wt)),Et=e,wt=t}var _t=Nt;let Tt,Ct,Rt,$t;class At{constructor(e){this._append=null==e?Lt:function(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Lt;if(t!==Tt){const e=10**t;Tt=t,Ct=function(t){let n=1;this._+=t[0];for(const r=t.length;n<r;++n)this._+=Math.round(arguments[n]*e)/e+t[n]}}return Ct}(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){0===this._line&&(this._+="Z"),this._point=NaN}point(e,t){switch(this._point){case 0:this._append`M${e},${t}`,this._point=1;break;case 1:this._append`L${e},${t}`;break;default:if(this._append`M${e},${t}`,this._radius!==Rt||this._append!==Ct){const e=this._radius,t=this._;this._="",this._append`m0,${e}a${e},${e} 0 1,1 0,${-2*e}a${e},${e} 0 1,1 0,${2*e}z`,Rt=e,Ct=this._append,$t=this._,this._=t}this._+=$t}}result(){const e=this._;return this._="",e.length?e:null}}function Lt(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function jt(e){return e}function Pt(e,t){return"string"==typeof t&&(t=e.objects[t]),"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map((function(t){return It(e,t)}))}:It(e,t)}function It(e,t){var n=t.id,r=t.bbox,a=null==t.properties?{}:t.properties,l=function(e,t){var n=function(e){if(null==e)return jt;var t,n,r=e.scale[0],a=e.scale[1],l=e.translate[0],o=e.translate[1];return function(e,i){i||(t=n=0);var c=2,s=e.length,u=new Array(s);for(u[0]=(t+=e[0])*r+l,u[1]=(n+=e[1])*a+o;c<s;)u[c]=e[c],++c;return u}}(e.transform),r=e.arcs;function a(e,t){t.length&&t.pop();for(var a=r[e<0?~e:e],l=0,o=a.length;l<o;++l)t.push(n(a[l],l));e<0&&function(e,t){for(var n,r=e.length,a=r-t;a<--r;)n=e[a],e[a++]=e[r],e[r]=n}(t,o)}function l(e){return n(e)}function o(e){for(var t=[],n=0,r=e.length;n<r;++n)a(e[n],t);return t.length<2&&t.push(t[0]),t}function i(e){for(var t=o(e);t.length<4;)t.push(t[0]);return t}function c(e){return e.map(i)}function s(e){var t,n=e.type;switch(n){case"GeometryCollection":return{type:n,geometries:e.geometries.map(s)};case"Point":t=l(e.coordinates);break;case"MultiPoint":t=e.coordinates.map(l);break;case"LineString":t=o(e.arcs);break;case"MultiLineString":t=e.arcs.map(o);break;case"Polygon":t=c(e.arcs);break;case"MultiPolygon":t=e.arcs.map(c);break;default:return null}return{type:n,coordinates:t}}return s(t)}(e,t);return null==n&&null==r?{type:"Feature",properties:a,geometry:l}:null==r?{type:"Feature",id:n,properties:a,geometry:l}:{type:"Feature",id:n,bbox:r,properties:a,geometry:l}}function zt(e){let{data:t=[],width:n=800,height:l=320,pointScale:o=12}=e;const[i,c]=a.useState(null),[s,u]=a.useState(null),[m,d]=a.useState(null),[f,h]=(a.useRef(null),a.useState(null)),g=a.useRef(`land-clip-${Math.random().toString(36).slice(2,9)}`),p=Math.max.apply(Math,[1e-5].concat((0,r.A)(t.map((e=>e.total||0)))));a.useEffect((()=>{let e=!1;return fetch("/data/world-110m.json").then((e=>{if(!e.ok)throw new Error("TopoJSON fetch failed");return e.json()})).then((t=>{try{console.log("ConnectivityMap: topojson fetched, objects=",Object.keys(t.objects||{}))}catch(o){}if(e)return;if(!t.objects)throw new Error("TopoJSON has no objects");const n=Object.keys(t.objects),r=["land","ne_110m_land","coastline","countries","world"];let a=n.find((e=>r.includes(e)))||n[0];const l=t.objects[a];if(l){const e=Pt(t,l);try{console.log("ConnectivityMap: chosen topo key=",a)}catch(o){}u(a),c(e)}else try{const e=Object.keys(t.objects||{})[0];if(e){const n=Pt(t,t.objects[e]);u(e),c(n)}else c(null)}catch(o){c(null),d(o.message||String(o))}})).catch((()=>{c(null),d("fetch_failed")})),()=>{e=!0}}),[]);const v=a.useMemo((()=>je().scale(1).translate([0,0])),[]),y=a.useMemo((()=>function(e,t){let n,r,a=3,l=4.5;function o(e){return e&&("function"==typeof l&&r.pointRadius(+l.apply(this,arguments)),xe(e,n(r))),r.result()}return o.area=function(e){return xe(e,n(Ze)),Ze.result()},o.measure=function(e){return xe(e,n(_t)),_t.result()},o.bounds=function(e){return xe(e,n(Me)),Me.result()},o.centroid=function(e){return xe(e,n(pt)),pt.result()},o.projection=function(t){return arguments.length?(n=null==t?(e=null,me):(e=t).stream,o):e},o.context=function(e){return arguments.length?(r=null==e?(t=null,new At(a)):new vt(t=e),"function"!=typeof l&&r.pointRadius(l),o):t},o.pointRadius=function(e){return arguments.length?(l="function"==typeof e?e:(r.pointRadius(+e),+e),o):l},o.digits=function(e){if(!arguments.length)return a;if(null==e)a=null;else{const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);a=t}return null===t&&(r=new At(a)),o},o.projection(e).digits(a).context(t)}().projection(v)),[v]);return a.useEffect((()=>{if(i)try{if("function"==typeof v.fitSize)v.fitSize([Math.max(20,n-20),Math.max(20,l-20)],i);else{const e=y.bounds(i),t=e[1][0]-e[0][0],r=e[1][1]-e[0][1];if(t>0&&r>0){const a=Math.min((n-20)/t,(l-20)/r),o=[(n-a*(e[1][0]+e[0][0]))/2,(l-a*(e[1][1]+e[0][1]))/2];v.scale(a).translate(o)}}}catch(e){}}),[i,n,l,y,v]),a.useEffect((()=>{if(!i)return;if("undefined"==typeof window)return;if(!v||"function"!=typeof v.invert)return;const e=document.createElement("canvas");e.width=Math.max(1,Math.round(n)),e.height=Math.max(1,Math.round(l));const r=e.getContext("2d"),a=t.map((e=>({lon:e.lon,lat:e.lat,v:e.total||0})));if(!a.length){h(null);try{window.__connectivity_heatmap_ready=!1}catch(f){}try{window.__connectivity_heatmap_href=null}catch(f){}try{window.__connectivity_heatmap_length=null}catch(f){}return}const o=(e,t,n)=>e+(t-e)*n,c=(e,t,n)=>[Math.round(o(e[0],t[0],n)),Math.round(o(e[1],t[1],n)),Math.round(o(e[2],t[2],n))],s=[59,130,246],u=[250,204,21],m=[239,68,68],d=e=>{const t=Math.max(0,Math.min(1,e));return t<=.5?c(s,u,t/.5):c(u,m,(t-.5)/.5)};for(let t=0;t<e.height;t+=3)for(let n=0;n<e.width;n+=3){let e=null;try{e=v.invert([n,t])}catch(f){e=null}if(!e){r.clearRect(n,t,3,3);continue}const[l,o]=e;let i=0,c=0;for(let t=0;t<a.length;t++){const e=l-a[t].lon,n=o-a[t].lat,r=e*e+n*n;if(r<1e-8){i=a[t].v,c=1;break}const s=1/Math.pow(r,1);i+=a[t].v*s,c+=s}const s=0===c?0:i/c,u=d(Math.max(0,Math.min(1,s/p)));r.fillStyle=`rgb(${u[0]},${u[1]},${u[2]})`,r.fillRect(n,t,3,3)}try{const t=e.toDataURL("image/png");try{console.log("ConnectivityMap: generated heatmap data URL length=",t.length);try{window.__connectivity_heatmap_length=t.length}catch(f){}try{window.__connectivity_heatmap_href=t}catch(f){}try{window.__connectivity_heatmap_ready=!0}catch(f){}}catch(f){}h(t)}catch(f){h(null);try{window.__connectivity_heatmap_ready=!1}catch(f){}try{window.__connectivity_heatmap_href=null}catch(f){}try{window.__connectivity_heatmap_length=null}catch(f){}}}),[i,t,v,n,l,p]),a.createElement("div",{className:"w-full overflow-hidden rounded relative"},!i&&!m&&a.createElement("div",{className:"map-loading-overlay absolute inset-0 flex items-center justify-center bg-white/60 dark:bg-black/40 z-10","aria-live":"polite"},a.createElement("div",{className:"text-sm text-gray-700 dark:text-gray-200 font-medium"},"Loading basemap…")),m&&a.createElement("div",{className:"map-loading-overlay absolute inset-0 flex items-center justify-center bg-white/80 dark:bg-black/60 z-10",role:"alert"},a.createElement("div",{className:"text-sm text-red-600 dark:text-red-400 font-medium"},"Basemap failed to load")),a.createElement("svg",{viewBox:`0 0 ${n} ${l}`,width:"100%",height:l,xmlns:"http://www.w3.org/2000/svg",className:"relative z-20"},a.createElement("defs",null,i&&a.createElement("clipPath",{id:g.current},a.createElement("path",{d:y(i)}))),a.createElement("rect",{x:0,y:0,width:n,height:l,fill:"transparent"}),f&&i&&a.createElement("image",{href:f,xlinkHref:f,x:0,y:0,width:n,height:l,preserveAspectRatio:"none",clipPath:`url(#${g.current})`,style:{pointerEvents:"none"}}),i?a.createElement("g",null,a.createElement("path",{d:y(i),fill:"#cbd5e1",stroke:"none"})):a.createElement("g",{stroke:"#94a3b8",strokeOpacity:.2,strokeWidth:.5,fill:"none"},Array.from({length:13},((e,t)=>30*t-180)).map((e=>{const t=[];for(let r=-85;r<=85;r+=2){let a=null;try{a=v([e,r])}catch(n){a=null}if(!a)continue;const[l,o]=a;isFinite(l)&&isFinite(o)&&t.push(`${l},${o}`)}return t.length>1?a.createElement("polyline",{key:`lon-${e}`,points:t.join(" ")}):null})),Array.from({length:7},((e,t)=>30*t-90)).map((e=>{const t=[];for(let r=-180;r<=180;r+=2){let a=null;try{a=v([r,e])}catch(n){a=null}if(!a)continue;const[l,o]=a;isFinite(l)&&isFinite(o)&&t.push(`${l},${o}`)}return t.length>1?a.createElement("polyline",{key:`lat-${e}`,points:t.join(" ")}):null}))),a.createElement("g",null,t.map(((e,t)=>{let n;try{n=v([e.lon,e.lat])}catch(s){n=null}if(!n||!isFinite(n[0])||!isFinite(n[1]))return null;const[r,l]=n,i=4+e.total/p*o,c=`rgba(249,115,22,${.5+e.total/p*.5})`;return a.createElement("g",{key:`${e.city}-${t}`},a.createElement("circle",{cx:r,cy:l,r:i,fill:c,stroke:"#fff",strokeWidth:.6}),a.createElement("title",null,`${e.city}, ${e.country}: ${e.total.toFixed(3)}`))}))),a.createElement("desc",null,i?`topo: ${s||"loaded"}`:m?`error:${m}`:"loading topojson")))}const Ft=()=>a.createElement(o.A,{title:"In-process unified prediction for process incidence and tool wear based on a deep learning approach"});var Bt=()=>{const e=a.useRef(null),t=a.useRef(null),[n,o]=a.useState(0),[u,d]=a.useState(0),f=a.useRef(null);if(!f.current){const e=new Set;let t=null,n=!1,r=500;const a=()=>{e.forEach((e=>{try{e()}catch(t){}})),n&&(t=window.requestAnimationFrame((()=>setTimeout(a,r))))};f.current={subscribe:t=>e.add(t),unsubscribe:t=>e.delete(t),start:function(e){void 0===e&&(e=500),r=e,n||(n=!0,t=window.requestAnimationFrame((()=>setTimeout(a,r))))},stop:()=>{n=!1,t&&(window.cancelAnimationFrame(t),t=null)},tick:()=>{e.forEach((e=>{try{e()}catch(t){}}))}}}Math.max.apply(Math,(0,r.A)([{city:"London (UK)",avg:8.7155},{city:"Frankfurt (DE)",avg:19.9665},{city:"Hong Kong (CN)",avg:203.4077},{city:"Johannesburg (ZA)",avg:176.4508},{city:"Boston (US)",avg:85.851},{city:"Sydney (AU)",avg:290.1947}].map((e=>e.avg))));const h=[{city:"Manchester",country:"United Kingdom",lon:-2.233333,lat:53.466667,total:.072540816},{city:"Manchester",country:"United Kingdom",lon:-2.233333,lat:53.466667,total:.073260934},{city:"London",country:"United Kingdom",lon:-.1275,lat:51.5072,total:.081294395},{city:"Saint-Ghislain",country:"Belgium",lon:3.816667,lat:50.45,total:.086977237},{city:"Frankfurt am Main",country:"Germany",lon:8.682222,lat:50.110556,total:.094171566},{city:"Zürich",country:"Switzerland",lon:8.541111,lat:47.374444,total:.098617197},{city:"Eemshaven",country:"Netherlands",lon:6.831111,lat:53.448333,total:.112108961},{city:"Saint-Ghislain",country:"Belgium",lon:3.816667,lat:50.45,total:.113438645},{city:"Warsaw",country:"Poland",lon:21.010833,lat:52.23,total:.129099566},{city:"Montreal",country:"Canada",lon:-73.554167,lat:45.508889,total:.165897553},{city:"Ashburn",country:"United States",lon:-77.471111,lat:39.03,total:.181601105},{city:"Moncks Corner",country:"United States",lon:-80,lat:33.2,total:.186080395},{city:"Warsaw",country:"Poland",lon:21.010833,lat:52.23,total:.195250026},{city:"Salt Lake City",country:"United States",lon:-111.883333,lat:40.75,total:.210651053},{city:"Las Vegas",country:"United States",lon:-115.1447,lat:36.1692,total:.215828947},{city:"Dalles",country:"United States",lon:-121.1828,lat:45.6011,total:.226093263},{city:"Osasco",country:"Brazil",lon:-46.791944,lat:-23.532778,total:.309826382},{city:"Zhanghua",country:"China",lon:120.533333,lat:24.066667,total:.313292461},{city:"Mumbai",country:"India",lon:72.8775,lat:19.076111,total:.317267303},{city:"Singapore",country:"Singapore",lon:103.833333,lat:1.283333,total:.322318421},{city:"Seoul",country:"South Korea",lon:126.99,lat:37.56,total:.335438158},{city:"Hong Kong",country:"China",lon:114.2,lat:22.3,total:.342026408},{city:"Jakarta",country:"Indonesia",lon:106.8275,lat:-6.175,total:.345206789},{city:"Sydney",country:"Australia",lon:151.211111,lat:-33.859972,total:.349120408}];Math.max.apply(Math,(0,r.A)(h.map((e=>e.total))));return a.createElement(l.A,null,a.createElement("section",{className:"bg-gray-50 dark:bg-slate-600"},a.createElement("div",{className:"w-full mx-auto max-w-(--breakpoint-xl) px-6 py-32"},a.createElement("h1",{class:"text-8xl md:text-12xl font-mont text-center font-bold text-orange-400 dark:text-white ebpc-animated ebpc-title"},"EBPC"),a.createElement("h4",{class:"text-2xl mt-2 font-medium text-slate-700 dark:text-white text-center"},"Real Time Cloud Computing Framework for Tool Condition Monitoring"),a.createElement("p",{className:"mt-16 mb-0 font-bold text-gray-400 max-w-none dark:text-gray-300 text-center"},a.createElement(i.Link,{to:"#"},"Jiduo Zhang"),a.createElement("sup",null,"1*"),",  ",a.createElement(i.Link,{className:"hover:text-purple-600 dark:hover:text-purple-400 transition-all duration-150 ease-in-out",to:"https://research.manchester.ac.uk/en/persons/robert.heinemann"},"Robert Heinemann"),a.createElement("sup",null,"1")," and ",a.createElement(i.Link,{className:"hover:text-purple-600 dark:hover:text-purple-400 transition-all duration-150 ease-in-out",to:"https://research.manchester.ac.uk/en/persons/ottojan.bakker"},"Otto Jan Bakker"),a.createElement("sup",null,"1")),a.createElement("p",{className:"font-bold text-gray-400 max-w-none dark:text-gray-300 mt-0 text-center"},a.createElement("sup",null,"1")," Department of Mechanical and Aerospace Engineering, The University of Manchester"),a.createElement("div",{className:"mt-12 flex-1 justify-items-center"},a.createElement("div",{className:"flex justify-center"},a.createElement(i.Link,{className:"text-white bg-orange-700 shrink-0 hover:bg-orange-800 focus:outline-hidden  focus:ring-4 focus:ring-orange-300  font-medium rounded-full text-normal px-5 py-2.5  text-center mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",to:"https://link.springer.com/article/10.1007/s10845-025-02657-7"},"Read our paper"))))),a.createElement("section",{className:"bg-gray-100 dark:bg-slate-700"},a.createElement("div",{className:"w-full mx-auto max-w-6xl max-w-(--breakpoint-l) px-6 py-8"},a.createElement("h1",{className:"text-2xl font-montserrat font-bold text-gray-800 dark:text-white max-w-none"},"Highlights of our framework:")),a.createElement("div",{className:"w-full mx-auto max-w-6xl max-w-(--breakpoint-xl) px-6 grid grid-cols-1 md:grid-cols-2 gap-8"},a.createElement("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-2xl overflow-hidden hover:bg-linear-to-r hover:from-orange-200 hover:to-red-200 hover:scale-105 dark:hover:bg-linear-to-r dark:hover:from-cyan-500 dark:hover:to-blue-500 group hover:transition-all duration-500 ease-in-out p-6"},a.createElement("h2",{className:"text-2xl font-montserrat font-bold text-gray-800 dark:text-white"},"Exponential Backoff Traffic Control"),a.createElement("hr",{className:"h-1 my-8 w-32 group-hover:w-full mt-2 mb-4 bg-orange-500 border-orange-500 group-hover:transition-all ease-in-out duration-800 border-2 dark:bg-indigo-500 dark:border-indigo-500 dark:group-hover:bg-slate-100 dark:group-hover:border-slate-100 group-hover:bg-red-600 group-hover:border-red-600"}),a.createElement("p",{className:"mt-4 font-light text-normal text-gray-700 dark:text-gray-200 border-b-orange-700"},"Progressive traffic control mechanism to adaptively adjust data transmission rates based on network conditions, ensuring efficient and reliable communication between edge devices and the cloud.")),a.createElement("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-2xl overflow-hidden hover:bg-linear-to-r hover:from-orange-200 hover:to-red-200 hover:scale-105 dark:hover:bg-linear-to-r dark:hover:from-cyan-500 dark:hover:to-blue-500 group hover:transition-all duration-500 ease-in-out p-6"},a.createElement("h2",{className:"text-2xl font-montserrat font-bold text-gray-800 dark:text-white"},"Data minimisation"),a.createElement("hr",{className:"h-1 my-8 w-32 group-hover:w-full mt-2 mb-4 bg-orange-500 border-orange-500 group-hover:transition-all ease-in-out duration-800 border-2 dark:bg-indigo-500 dark:border-indigo-500 dark:group-hover:bg-slate-100 dark:group-hover:border-slate-100 group-hover:bg-red-600 group-hover:border-red-600"}),a.createElement("p",{className:"mt-4  font-light text-normal text-gray-700 dark:text-gray-200 border-b-orange-700"},"The compression from the aspect of data shape",a.createElement("sup",null,"[1]"),", dimension and bit depth is applied to reduce the data size for transmission, while retaining the essential information for accurate tool condition monitoring."),a.createElement("p",{className:"mt-4  font-light text-normal text-gray-700 dark:text-gray-200 border-b-orange-700"},a.createElement("small",null,"[1]: ",a.createElement(i.Link,{to:"/project/manchester-unit",className:"text-orange-400 dark:text-indigo-500"},"Minimum Sufficient Unit Theory")))),a.createElement("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-2xl overflow-hidden hover:bg-linear-to-r hover:from-orange-200 hover:to-red-200 hover:scale-105 dark:hover:bg-linear-to-r dark:hover:from-cyan-500 dark:hover:to-blue-500 group hover:transition-all duration-500 ease-in-out p-6"},a.createElement("h2",{className:"text-2xl font-montserrat font-bold text-gray-800 dark:text-white"},"Producer-Consumer Task Scheduling"),a.createElement("hr",{className:"h-1 my-8 w-32 group-hover:w-full mt-2 mb-4 bg-orange-500 border-orange-500 group-hover:transition-all ease-in-out duration-800 border-2 dark:bg-indigo-500 dark:border-indigo-500 dark:group-hover:bg-slate-100 dark:group-hover:border-slate-100 group-hover:bg-red-600 group-hover:border-red-600"}),a.createElement("p",{className:"mt-4  font-light text-normal text-gray-700 dark:text-gray-200 border-b-orange-700"},"Efficient task scheduling mechanism that manages resource allocation effectively, ensuring timely processing of data and responsiveness of the tool condition monitoring system for all clients.")),a.createElement("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-2xl overflow-hidden hover:bg-linear-to-r hover:from-orange-200 hover:to-red-200 hover:scale-105 dark:hover:bg-linear-to-r dark:hover:from-cyan-500 dark:hover:to-blue-500 group hover:transition-all duration-500 ease-in-out p-6"},a.createElement("h2",{className:"text-2xl font-montserrat font-bold text-gray-800 dark:text-white"},"Dynamic Task Prioritisation"),a.createElement("hr",{className:"h-1 my-8 w-32 group-hover:w-full mt-2 mb-4 bg-orange-500 border-orange-500 group-hover:transition-all ease-in-out duration-800 border-2 dark:bg-indigo-500 dark:border-indigo-500 dark:group-hover:bg-slate-100 dark:group-hover:border-slate-100 group-hover:bg-red-600 group-hover:border-red-600"}),a.createElement("p",{className:"mt-4  font-light text-normal text-gray-700 dark:text-gray-200 border-b-orange-700"},"Self-adaptive prioritization mechanism that dynamically adjusts task priorities based on real-time system conditions and requirements, ensuring critical tasks are processed promptly for effective tool condition monitoring.")))),a.createElement("section",{className:"bg-gray-50 dark:bg-slate-800"},a.createElement("div",{className:"w-full mx-auto max-w-6xl px-6 py-12"},a.createElement("h2",{className:"text-2xl font-montserrat font-bold text-gray-800 dark:text-white mb-6"},"Exponential backoff In Client — interactive demo"),a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},a.createElement(s,null),a.createElement("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-2xl p-6"},a.createElement("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white"},"How it works"),a.createElement("p",{className:"mt-3 text-gray-700 dark:text-gray-200 text-sm"},'This interactive demo runs a continuous sender that measures simulated network round-trip times (RTT) and adapts the send interval in real time. A "Network success" slider controls the probability that a request succeeds; when a request fails the sender immediately doubles the send interval (exponential backoff). When a request succeeds the demo uses the observed RTT to adapt the interval: if the observed RTT is more than twice the current send interval the interval is doubled; if the observed RTT is less than half the current send interval the interval is halved. Small random jitter is added to adjustments to avoid synchronized retries.'),a.createElement("p",{className:"mt-3 text-gray-600 dark:text-gray-300 text-sm"},a.createElement("strong",null,"Parameters:")," baseDelay = 100ms, adaptive rules (failure → ×2; success → double if RTT > 2×interval, halve if RTT < interval/2), jitter up to 10% of the interval, cap = 20000ms. Use the controls to change simulated RTT and success rate and press Start to run the demo."))))),a.createElement("section",{className:"bg-slate-100 dark:bg-slate-700"},a.createElement("div",{className:"w-full mx-auto max-w-(--breakpoint-xl) px-6 py-16"},a.createElement("h1",{className:"text-4xl font-montserrat text-center font-bold mt-2 text-orange-700 dark:text-blue-200 max-w-none"},"Data compression"),a.createElement("div",{className:"w-full mx-auto max-w-6xl px-6 py-8"},a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},a.createElement(m,null),a.createElement("div",{className:"bg-white dark:bg-gray-800 shadow-lg rounded-2xl p-6"},a.createElement("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white "},"How it works"),a.createElement("p",{className:"mt-3 text-gray-700 dark:text-gray-200 text-sm"},"This interactive demo allows you to explore the effects of bit depth reduction on signal quality. The slider lets you adjust the bit depth from 1 to 8 bits per channel, allowing you to see how reducing the bit depth affects the signal's appearance. This is particularly useful for understanding how data compression can be achieved by reducing the number of bits used to represent each feature in the signal."),a.createElement("p",{className:"mt-3 text-gray-600 dark:text-gray-300 text-sm"},a.createElement("strong",null,"Note:")," Reducing bit depth can lead to a loss of precision information and may introduce visual artifacts, especially at very low bit depths. When the quantized noise exceeds the SNR of features in the original signal, features can become interferred, leading to a degradation in perceived quality.")))),a.createElement("p",{className:"text-2xl mt-4 text-center font-medium text-slate-500 dark:text-slate-200 max-w-none"},a.createElement("small",null,"Check the ",a.createElement(i.Link,{to:"/project/manchester-unit",className:"text-orange-500 dark:text-blue-200 hover:text-orange-700 transition-all duration-150 ease-in-out underline dark:hover:text-blue-200"},"Minimum Sufficient Unit Theory")," for the compression from the aspect of data shape. ")))),a.createElement("section",{className:"bg-white dark:bg-slate-800"},a.createElement("div",{className:"w-full mx-auto max-w-6xl px-6 py-12"},a.createElement("h2",{className:"text-2xl font-montserrat font-bold text-gray-800 dark:text-white mb-6"},"Producer / Consumer — interactive demo (comparison)"),a.createElement("p",{className:"text-sm text-gray-600 dark:text-gray-300"},"Compare the two demos side-by-side. The right-hand demo is configured with concurrency = 1 to simulate a traditional architecture that awaits the completion of each task before starting the next. Observe the average latency of both condition and the traditional methods can not handle the situation as latency keep surged and the system are overwhelmed by the requests."),a.createElement("div",{className:"mb-4 mt-2 flex gap-3"},a.createElement("button",{onClick:()=>{const n=e.current&&e.current.start,r=t.current&&t.current.start;if(n||r){const e=500;if(f.current.start(e),"undefined"!=typeof window&&window.requestAnimationFrame)return void window.requestAnimationFrame((()=>{try{n&&n()}catch(e){}try{r&&r()}catch(e){}}));try{n&&n()}catch(a){}try{r&&r()}catch(a){}}else o((e=>e+1))},className:"text-white bg-orange-600 hover:bg-orange-700 font-medium rounded-full px-4 py-2"},"Start all"),a.createElement("button",{onClick:()=>{const n=e.current&&e.current.stop,r=t.current&&t.current.stop;if(f.current.stop(),n||r){if("undefined"!=typeof window&&window.requestAnimationFrame)return void window.requestAnimationFrame((()=>{try{n&&n()}catch(e){}try{r&&r()}catch(e){}}));try{n&&n()}catch(a){}try{r&&r()}catch(a){}}else d((e=>e+1))},className:"text-orange-700 bg-orange-100 hover:bg-orange-200 font-medium rounded-full px-4 py-2"},"Stop all")),a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6"},a.createElement(g,{ref:e,title:"Concurrency = 4 (default)",initialConcurrency:4,initialProduceInterval:500,initialProcessTime:800,initialBufferSize:20,initialMode:"bounded",globalStartId:n,globalStopId:u,externalProduceController:f.current}),a.createElement(g,{ref:t,title:"Concurrency = 1 (Traditional architecture)",initialConcurrency:1,initialProduceInterval:500,initialProcessTime:800,initialBufferSize:20,initialMode:"bounded",globalStartId:n,globalStopId:u,externalProduceController:f.current})))),a.createElement("section",{className:"bg-gray-50 dark:bg-slate-800"},a.createElement("div",{className:"w-full mx-auto max-w-6xl px-6 py-12"},a.createElement("h2",{className:"text-2xl font-montserrat font-bold text-gray-800 dark:text-white mb-6"},"Deploy worldwide for Tool Condition Monitoring with minimal delay"),a.createElement("div",{className:"flex justify-center"},a.createElement("div",{className:"w-full max-w-3xl p-6 bg-white dark:bg-slate-800 rounded-lg shadow"},a.createElement("div",{className:"mt-6"},a.createElement("h4",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 mb-2"},"Connectivity points (weighted)"),a.createElement("div",{className:"w-full"},a.createElement(zt,{data:h,width:800,height:320,pointScale:12}))))))),a.createElement("section",{className:"bg-gray-100 dark:bg-slate-700"},a.createElement("div",{className:"w-full mx-auto max-w-(--breakpoint-xl) px-6 py-16"},a.createElement("h1",{className:"text-4xl font-montserrat text-center font-bold mt-2 text-orange-700 dark:text-blue-200 max-w-none"},"Conclusions"),a.createElement("div",{className:"w-full mx-auto max-w-6xl px-6 py-8"},a.createElement("ul",{className:"list-disc list-inside text-lg font-normal text-gray-700 dark:text-gray-200"},a.createElement("li",null,"We proposed a novel cloud computing framework EBPC for real-time tool condition monitoring, which incorporates exponential backoff-based traffic control, data minimisation, producer-consumer task scheduling, and dynamic task prioritisation."),a.createElement("li",null,"Our framework effectively addresses challenges such as network congestion, data overload, and resource contention, ensuring efficient and reliable tool condition monitoring."),a.createElement("li",null,"Experimental results demonstrate that EBPC outperforms traditional architectures in terms of latency, throughput, and resource utilisation, making it a promising solution for real-time tool condition monitoring in manufacturing environments."))))),a.createElement("section",{className:"bg-orange-100 dark:bg-blue-900"},a.createElement("div",{className:"w-full mx-auto max-w-(--breakpoint-xl) px-6 py-8 lg:flex align-middle"},a.createElement("div",{className:"flex-1 justify-center align-middle"},a.createElement("p",{className:"text-4xl p-8 font-normal text-orange-900 dark:text-blue-200 max-w-none"},"Jiduo would like to acknowledge the continuing contribution to this research by ",a.createElement(i.Link,{to:"https://www.csc.edu.cn/",className:"hover:text-orange-700 transition-all duration-150 ease-in-out hover:underline font-bold dark:hover:text-blue-200"},"China scholarship council"),".")),a.createElement("div",{className:"lg:shrink-0"},a.createElement("div",{className:"p-6 flex-1 justify-item-center"},a.createElement("img",{className:"max-w-full flex justify-center  h-48 md:h-36 border-r-8 rounded-2xl dark:shadow-xl dark:bg-slate-200",src:c.A,alt:"Logo of China scholarship council"}))))),a.createElement("section",{className:"bg-gray-100 dark:bg-gray-700"},a.createElement("div",{className:"w-full mx-auto max-w-(--breakpoint-xl) px-6 py-8"},a.createElement("p",{className:"text-2xl mt-2 font-normal text-gray-500 dark:text-gray-200 max-w-none"},"If you have any questions or suggestions, please feel free to ",a.createElement(i.Link,{to:"/contact",className:"text-blue-500 dark:text-blue-200 hover:text-blue-700 transition-all duration-150 ease-in-out underline dark:hover:text-blue-200"},"contact us"),"."))))}},7528:function(e,t,n){"use strict";var r=n(6540),a=n(4794);t.A=function(e){var t,n;let{description:l,title:o,children:i}=e;const{site:c}=(0,a.useStaticQuery)("63159454"),s=l||c.siteMetadata.description,u=null===(t=c.siteMetadata)||void 0===t?void 0:t.title;return r.createElement(r.Fragment,null,r.createElement("title",null,u?`${o} | ${u}`:o),r.createElement("meta",{name:"description",content:s}),r.createElement("meta",{property:"og:title",content:o}),r.createElement("meta",{property:"og:description",content:s}),r.createElement("meta",{property:"og:type",content:"website"}),r.createElement("meta",{name:"twitter:card",content:"summary"}),r.createElement("meta",{name:"twitter:creator",content:(null===(n=c.siteMetadata)||void 0===n?void 0:n.author)||""}),r.createElement("meta",{name:"twitter:title",content:o}),r.createElement("meta",{name:"twitter:description",content:s}),i)}},7854:function(e,t,n){"use strict";t.A=n.p+"static/china-scholarship-logo-d38fb5e78cf70dc3f74a5e87332ec579.jpg"},9384:function(e,t,n){"use strict";t.__esModule=!0;var r=n(2389);Object.keys(r).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===r[e]||(t[e]=r[e]))}));var a=n(3064);Object.keys(a).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===a[e]||(t[e]=a[e]))}));var l=n(2232);Object.keys(l).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===l[e]||(t[e]=l[e]))}));var o=n(3514);Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===o[e]||(t[e]=o[e]))}))}}]);
//# sourceMappingURL=component---src-pages-project-ebpc-js-abd60936a477d1999257.js.map